require=(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){
(function (global){
"use strict";

require("core-js/shim");

require("regenerator-runtime/runtime");

require("core-js/fn/regexp/escape");

if (global._babelPolyfill) {
  throw new Error("only one instance of babel-polyfill is allowed");
}
global._babelPolyfill = true;

var DEFINE_PROPERTY = "defineProperty";
function define(O, key, value) {
  O[key] || Object[DEFINE_PROPERTY](O, key, {
    writable: true,
    configurable: true,
    value: value
  });
}

define(String.prototype, "padLeft", "".padStart);
define(String.prototype, "padRight", "".padEnd);

"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function (key) {
  [][key] && define(Array, key, Function.call.bind([][key]));
});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"core-js/fn/regexp/escape":3,"core-js/shim":326,"regenerator-runtime/runtime":2}],2:[function(require,module,exports){
(function (global){
(function (global){
/**
 * Copyright (c) 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * https://raw.github.com/facebook/regenerator/master/LICENSE file. An
 * additional grant of patent rights can be found in the PATENTS file in
 * the same directory.
 */

!(function(global) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  runtime.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  runtime.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return Promise.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return Promise.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration. If the Promise is rejected, however, the
          // result for this iteration will be rejected with the same
          // reason. Note that rejections of yielded Promises are not
          // thrown back into the generator function, as is the case
          // when an awaited Promise is rejected. This difference in
          // behavior between yield and await is important, because it
          // allows the consumer to decide what to do with the yielded
          // rejection (swallow it and continue, manually .throw it back
          // into the generator, abandon iteration, whatever). With
          // await, by contrast, there is no opportunity to examine the
          // rejection reason outside the generator function, so the
          // only option is to throw it from the await expression, and
          // let the generator function handle the exception.
          result.value = unwrapped;
          resolve(result);
        }, reject);
      }
    }

    if (typeof global.process === "object" && global.process.domain) {
      invoke = global.process.domain.bind(invoke);
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new Promise(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  runtime.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function(innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList)
    );

    return runtime.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        if (delegate.iterator.return) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };
})(
  // Among the various tricks for obtaining a reference to the global
  // object, this seems to be the most reliable technique that does not
  // use indirect eval (which violates Content Security Policy).
  typeof global === "object" ? global :
  typeof window === "object" ? window :
  typeof self === "object" ? self : this
);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],3:[function(require,module,exports){
require('../../modules/core.regexp.escape');
module.exports = require('../../modules/_core').RegExp.escape;

},{"../../modules/_core":24,"../../modules/core.regexp.escape":129}],4:[function(require,module,exports){
module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};

},{}],5:[function(require,module,exports){
var cof = require('./_cof');
module.exports = function (it, msg) {
  if (typeof it != 'number' && cof(it) != 'Number') throw TypeError(msg);
  return +it;
};

},{"./_cof":19}],6:[function(require,module,exports){
// 22.1.3.31 Array.prototype[@@unscopables]
var UNSCOPABLES = require('./_wks')('unscopables');
var ArrayProto = Array.prototype;
if (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});
module.exports = function (key) {
  ArrayProto[UNSCOPABLES][key] = true;
};

},{"./_hide":43,"./_wks":127}],7:[function(require,module,exports){
module.exports = function (it, Constructor, name, forbiddenField) {
  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
    throw TypeError(name + ': incorrect invocation!');
  } return it;
};

},{}],8:[function(require,module,exports){
var isObject = require('./_is-object');
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};

},{"./_is-object":52}],9:[function(require,module,exports){
// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)
'use strict';
var toObject = require('./_to-object');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');

module.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {
  var O = toObject(this);
  var len = toLength(O.length);
  var to = toAbsoluteIndex(target, len);
  var from = toAbsoluteIndex(start, len);
  var end = arguments.length > 2 ? arguments[2] : undefined;
  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);
  var inc = 1;
  if (from < to && to < from + count) {
    inc = -1;
    from += count - 1;
    to += count - 1;
  }
  while (count-- > 0) {
    if (from in O) O[to] = O[from];
    else delete O[to];
    to += inc;
    from += inc;
  } return O;
};

},{"./_to-absolute-index":112,"./_to-length":116,"./_to-object":117}],10:[function(require,module,exports){
// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)
'use strict';
var toObject = require('./_to-object');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');
module.exports = function fill(value /* , start = 0, end = @length */) {
  var O = toObject(this);
  var length = toLength(O.length);
  var aLen = arguments.length;
  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);
  var end = aLen > 2 ? arguments[2] : undefined;
  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);
  while (endPos > index) O[index++] = value;
  return O;
};

},{"./_to-absolute-index":112,"./_to-length":116,"./_to-object":117}],11:[function(require,module,exports){
var forOf = require('./_for-of');

module.exports = function (iter, ITERATOR) {
  var result = [];
  forOf(iter, false, result.push, result, ITERATOR);
  return result;
};

},{"./_for-of":40}],12:[function(require,module,exports){
// false -> Array#indexOf
// true  -> Array#includes
var toIObject = require('./_to-iobject');
var toLength = require('./_to-length');
var toAbsoluteIndex = require('./_to-absolute-index');
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

},{"./_to-absolute-index":112,"./_to-iobject":115,"./_to-length":116}],13:[function(require,module,exports){
// 0 -> Array#forEach
// 1 -> Array#map
// 2 -> Array#filter
// 3 -> Array#some
// 4 -> Array#every
// 5 -> Array#find
// 6 -> Array#findIndex
var ctx = require('./_ctx');
var IObject = require('./_iobject');
var toObject = require('./_to-object');
var toLength = require('./_to-length');
var asc = require('./_array-species-create');
module.exports = function (TYPE, $create) {
  var IS_MAP = TYPE == 1;
  var IS_FILTER = TYPE == 2;
  var IS_SOME = TYPE == 3;
  var IS_EVERY = TYPE == 4;
  var IS_FIND_INDEX = TYPE == 6;
  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
  var create = $create || asc;
  return function ($this, callbackfn, that) {
    var O = toObject($this);
    var self = IObject(O);
    var f = ctx(callbackfn, that, 3);
    var length = toLength(self.length);
    var index = 0;
    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;
    var val, res;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      val = self[index];
      res = f(val, index, O);
      if (TYPE) {
        if (IS_MAP) result[index] = res;   // map
        else if (res) switch (TYPE) {
          case 3: return true;             // some
          case 5: return val;              // find
          case 6: return index;            // findIndex
          case 2: result.push(val);        // filter
        } else if (IS_EVERY) return false; // every
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
  };
};

},{"./_array-species-create":16,"./_ctx":26,"./_iobject":48,"./_to-length":116,"./_to-object":117}],14:[function(require,module,exports){
var aFunction = require('./_a-function');
var toObject = require('./_to-object');
var IObject = require('./_iobject');
var toLength = require('./_to-length');

module.exports = function (that, callbackfn, aLen, memo, isRight) {
  aFunction(callbackfn);
  var O = toObject(that);
  var self = IObject(O);
  var length = toLength(O.length);
  var index = isRight ? length - 1 : 0;
  var i = isRight ? -1 : 1;
  if (aLen < 2) for (;;) {
    if (index in self) {
      memo = self[index];
      index += i;
      break;
    }
    index += i;
    if (isRight ? index < 0 : length <= index) {
      throw TypeError('Reduce of empty array with no initial value');
    }
  }
  for (;isRight ? index >= 0 : length > index; index += i) if (index in self) {
    memo = callbackfn(memo, self[index], index, O);
  }
  return memo;
};

},{"./_a-function":4,"./_iobject":48,"./_to-length":116,"./_to-object":117}],15:[function(require,module,exports){
var isObject = require('./_is-object');
var isArray = require('./_is-array');
var SPECIES = require('./_wks')('species');

module.exports = function (original) {
  var C;
  if (isArray(original)) {
    C = original.constructor;
    // cross-realm fallback
    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;
    if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? Array : C;
};

},{"./_is-array":50,"./_is-object":52,"./_wks":127}],16:[function(require,module,exports){
// 9.4.2.3 ArraySpeciesCreate(originalArray, length)
var speciesConstructor = require('./_array-species-constructor');

module.exports = function (original, length) {
  return new (speciesConstructor(original))(length);
};

},{"./_array-species-constructor":15}],17:[function(require,module,exports){
'use strict';
var aFunction = require('./_a-function');
var isObject = require('./_is-object');
var invoke = require('./_invoke');
var arraySlice = [].slice;
var factories = {};

var construct = function (F, len, args) {
  if (!(len in factories)) {
    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';
    // eslint-disable-next-line no-new-func
    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');
  } return factories[len](F, args);
};

module.exports = Function.bind || function bind(that /* , ...args */) {
  var fn = aFunction(this);
  var partArgs = arraySlice.call(arguments, 1);
  var bound = function (/* args... */) {
    var args = partArgs.concat(arraySlice.call(arguments));
    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);
  };
  if (isObject(fn.prototype)) bound.prototype = fn.prototype;
  return bound;
};

},{"./_a-function":4,"./_invoke":47,"./_is-object":52}],18:[function(require,module,exports){
// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = require('./_cof');
var TAG = require('./_wks')('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};

},{"./_cof":19,"./_wks":127}],19:[function(require,module,exports){
var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};

},{}],20:[function(require,module,exports){
'use strict';
var dP = require('./_object-dp').f;
var create = require('./_object-create');
var redefineAll = require('./_redefine-all');
var ctx = require('./_ctx');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var $iterDefine = require('./_iter-define');
var step = require('./_iter-step');
var setSpecies = require('./_set-species');
var DESCRIPTORS = require('./_descriptors');
var fastKey = require('./_meta').fastKey;
var validate = require('./_validate-collection');
var SIZE = DESCRIPTORS ? '_s' : 'size';

var getEntry = function (that, key) {
  // fast case
  var index = fastKey(key);
  var entry;
  if (index !== 'F') return that._i[index];
  // frozen object case
  for (entry = that._f; entry; entry = entry.n) {
    if (entry.k == key) return entry;
  }
};

module.exports = {
  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {
    var C = wrapper(function (that, iterable) {
      anInstance(that, C, NAME, '_i');
      that._t = NAME;         // collection type
      that._i = create(null); // index
      that._f = undefined;    // first entry
      that._l = undefined;    // last entry
      that[SIZE] = 0;         // size
      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
    });
    redefineAll(C.prototype, {
      // 23.1.3.1 Map.prototype.clear()
      // 23.2.3.2 Set.prototype.clear()
      clear: function clear() {
        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {
          entry.r = true;
          if (entry.p) entry.p = entry.p.n = undefined;
          delete data[entry.i];
        }
        that._f = that._l = undefined;
        that[SIZE] = 0;
      },
      // 23.1.3.3 Map.prototype.delete(key)
      // 23.2.3.4 Set.prototype.delete(value)
      'delete': function (key) {
        var that = validate(this, NAME);
        var entry = getEntry(that, key);
        if (entry) {
          var next = entry.n;
          var prev = entry.p;
          delete that._i[entry.i];
          entry.r = true;
          if (prev) prev.n = next;
          if (next) next.p = prev;
          if (that._f == entry) that._f = next;
          if (that._l == entry) that._l = prev;
          that[SIZE]--;
        } return !!entry;
      },
      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)
      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)
      forEach: function forEach(callbackfn /* , that = undefined */) {
        validate(this, NAME);
        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
        var entry;
        while (entry = entry ? entry.n : this._f) {
          f(entry.v, entry.k, this);
          // revert to the last existing entry
          while (entry && entry.r) entry = entry.p;
        }
      },
      // 23.1.3.7 Map.prototype.has(key)
      // 23.2.3.7 Set.prototype.has(value)
      has: function has(key) {
        return !!getEntry(validate(this, NAME), key);
      }
    });
    if (DESCRIPTORS) dP(C.prototype, 'size', {
      get: function () {
        return validate(this, NAME)[SIZE];
      }
    });
    return C;
  },
  def: function (that, key, value) {
    var entry = getEntry(that, key);
    var prev, index;
    // change existing entry
    if (entry) {
      entry.v = value;
    // create new entry
    } else {
      that._l = entry = {
        i: index = fastKey(key, true), // <- index
        k: key,                        // <- key
        v: value,                      // <- value
        p: prev = that._l,             // <- previous entry
        n: undefined,                  // <- next entry
        r: false                       // <- removed
      };
      if (!that._f) that._f = entry;
      if (prev) prev.n = entry;
      that[SIZE]++;
      // add to index
      if (index !== 'F') that._i[index] = entry;
    } return that;
  },
  getEntry: getEntry,
  setStrong: function (C, NAME, IS_MAP) {
    // add .keys, .values, .entries, [@@iterator]
    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11
    $iterDefine(C, NAME, function (iterated, kind) {
      this._t = validate(iterated, NAME); // target
      this._k = kind;                     // kind
      this._l = undefined;                // previous
    }, function () {
      var that = this;
      var kind = that._k;
      var entry = that._l;
      // revert to the last existing entry
      while (entry && entry.r) entry = entry.p;
      // get next entry
      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {
        // or finish the iteration
        that._t = undefined;
        return step(1);
      }
      // return step by kind
      if (kind == 'keys') return step(0, entry.k);
      if (kind == 'values') return step(0, entry.v);
      return step(0, [entry.k, entry.v]);
    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);

    // add [@@species], 23.1.2.2, 23.2.2.2
    setSpecies(NAME);
  }
};

},{"./_an-instance":7,"./_ctx":26,"./_descriptors":30,"./_for-of":40,"./_iter-define":56,"./_iter-step":58,"./_meta":66,"./_object-create":71,"./_object-dp":72,"./_redefine-all":91,"./_set-species":98,"./_validate-collection":124}],21:[function(require,module,exports){
// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var classof = require('./_classof');
var from = require('./_array-from-iterable');
module.exports = function (NAME) {
  return function toJSON() {
    if (classof(this) != NAME) throw TypeError(NAME + "#toJSON isn't generic");
    return from(this);
  };
};

},{"./_array-from-iterable":11,"./_classof":18}],22:[function(require,module,exports){
'use strict';
var redefineAll = require('./_redefine-all');
var getWeak = require('./_meta').getWeak;
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var createArrayMethod = require('./_array-methods');
var $has = require('./_has');
var validate = require('./_validate-collection');
var arrayFind = createArrayMethod(5);
var arrayFindIndex = createArrayMethod(6);
var id = 0;

// fallback for uncaught frozen keys
var uncaughtFrozenStore = function (that) {
  return that._l || (that._l = new UncaughtFrozenStore());
};
var UncaughtFrozenStore = function () {
  this.a = [];
};
var findUncaughtFrozen = function (store, key) {
  return arrayFind(store.a, function (it) {
    return it[0] === key;
  });
};
UncaughtFrozenStore.prototype = {
  get: function (key) {
    var entry = findUncaughtFrozen(this, key);
    if (entry) return entry[1];
  },
  has: function (key) {
    return !!findUncaughtFrozen(this, key);
  },
  set: function (key, value) {
    var entry = findUncaughtFrozen(this, key);
    if (entry) entry[1] = value;
    else this.a.push([key, value]);
  },
  'delete': function (key) {
    var index = arrayFindIndex(this.a, function (it) {
      return it[0] === key;
    });
    if (~index) this.a.splice(index, 1);
    return !!~index;
  }
};

module.exports = {
  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {
    var C = wrapper(function (that, iterable) {
      anInstance(that, C, NAME, '_i');
      that._t = NAME;      // collection type
      that._i = id++;      // collection id
      that._l = undefined; // leak store for uncaught frozen objects
      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
    });
    redefineAll(C.prototype, {
      // 23.3.3.2 WeakMap.prototype.delete(key)
      // 23.4.3.3 WeakSet.prototype.delete(value)
      'delete': function (key) {
        if (!isObject(key)) return false;
        var data = getWeak(key);
        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);
        return data && $has(data, this._i) && delete data[this._i];
      },
      // 23.3.3.4 WeakMap.prototype.has(key)
      // 23.4.3.4 WeakSet.prototype.has(value)
      has: function has(key) {
        if (!isObject(key)) return false;
        var data = getWeak(key);
        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);
        return data && $has(data, this._i);
      }
    });
    return C;
  },
  def: function (that, key, value) {
    var data = getWeak(anObject(key), true);
    if (data === true) uncaughtFrozenStore(that).set(key, value);
    else data[that._i] = value;
    return that;
  },
  ufstore: uncaughtFrozenStore
};

},{"./_an-instance":7,"./_an-object":8,"./_array-methods":13,"./_for-of":40,"./_has":42,"./_is-object":52,"./_meta":66,"./_redefine-all":91,"./_validate-collection":124}],23:[function(require,module,exports){
'use strict';
var global = require('./_global');
var $export = require('./_export');
var redefine = require('./_redefine');
var redefineAll = require('./_redefine-all');
var meta = require('./_meta');
var forOf = require('./_for-of');
var anInstance = require('./_an-instance');
var isObject = require('./_is-object');
var fails = require('./_fails');
var $iterDetect = require('./_iter-detect');
var setToStringTag = require('./_set-to-string-tag');
var inheritIfRequired = require('./_inherit-if-required');

module.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {
  var Base = global[NAME];
  var C = Base;
  var ADDER = IS_MAP ? 'set' : 'add';
  var proto = C && C.prototype;
  var O = {};
  var fixMethod = function (KEY) {
    var fn = proto[KEY];
    redefine(proto, KEY,
      KEY == 'delete' ? function (a) {
        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'has' ? function has(a) {
        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'get' ? function get(a) {
        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }
        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }
    );
  };
  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {
    new C().entries().next();
  }))) {
    // create collection constructor
    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);
    redefineAll(C.prototype, methods);
    meta.NEED = true;
  } else {
    var instance = new C();
    // early implementations not supports chaining
    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;
    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false
    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });
    // most early implementations doesn't supports iterables, most modern - not close it correctly
    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new
    // for early implementations -0 and +0 not the same
    var BUGGY_ZERO = !IS_WEAK && fails(function () {
      // V8 ~ Chromium 42- fails only with 5+ elements
      var $instance = new C();
      var index = 5;
      while (index--) $instance[ADDER](index, index);
      return !$instance.has(-0);
    });
    if (!ACCEPT_ITERABLES) {
      C = wrapper(function (target, iterable) {
        anInstance(target, C, NAME);
        var that = inheritIfRequired(new Base(), target, C);
        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
        return that;
      });
      C.prototype = proto;
      proto.constructor = C;
    }
    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
      fixMethod('delete');
      fixMethod('has');
      IS_MAP && fixMethod('get');
    }
    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);
    // weak collections should not contains .clear method
    if (IS_WEAK && proto.clear) delete proto.clear;
  }

  setToStringTag(C, NAME);

  O[NAME] = C;
  $export($export.G + $export.W + $export.F * (C != Base), O);

  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);

  return C;
};

},{"./_an-instance":7,"./_export":34,"./_fails":36,"./_for-of":40,"./_global":41,"./_inherit-if-required":46,"./_is-object":52,"./_iter-detect":57,"./_meta":66,"./_redefine":92,"./_redefine-all":91,"./_set-to-string-tag":99}],24:[function(require,module,exports){
var core = module.exports = { version: '2.5.6' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef

},{}],25:[function(require,module,exports){
'use strict';
var $defineProperty = require('./_object-dp');
var createDesc = require('./_property-desc');

module.exports = function (object, index, value) {
  if (index in object) $defineProperty.f(object, index, createDesc(0, value));
  else object[index] = value;
};

},{"./_object-dp":72,"./_property-desc":90}],26:[function(require,module,exports){
// optional / simple context binding
var aFunction = require('./_a-function');
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};

},{"./_a-function":4}],27:[function(require,module,exports){
'use strict';
// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()
var fails = require('./_fails');
var getTime = Date.prototype.getTime;
var $toISOString = Date.prototype.toISOString;

var lz = function (num) {
  return num > 9 ? num : '0' + num;
};

// PhantomJS / old WebKit has a broken implementations
module.exports = (fails(function () {
  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';
}) || !fails(function () {
  $toISOString.call(new Date(NaN));
})) ? function toISOString() {
  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');
  var d = this;
  var y = d.getUTCFullYear();
  var m = d.getUTCMilliseconds();
  var s = y < 0 ? '-' : y > 9999 ? '+' : '';
  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +
    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +
    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +
    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';
} : $toISOString;

},{"./_fails":36}],28:[function(require,module,exports){
'use strict';
var anObject = require('./_an-object');
var toPrimitive = require('./_to-primitive');
var NUMBER = 'number';

module.exports = function (hint) {
  if (hint !== 'string' && hint !== NUMBER && hint !== 'default') throw TypeError('Incorrect hint');
  return toPrimitive(anObject(this), hint != NUMBER);
};

},{"./_an-object":8,"./_to-primitive":118}],29:[function(require,module,exports){
// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};

},{}],30:[function(require,module,exports){
// Thank's IE8 for his funny defineProperty
module.exports = !require('./_fails')(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_fails":36}],31:[function(require,module,exports){
var isObject = require('./_is-object');
var document = require('./_global').document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};

},{"./_global":41,"./_is-object":52}],32:[function(require,module,exports){
// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');

},{}],33:[function(require,module,exports){
// all enumerable object keys, includes symbols
var getKeys = require('./_object-keys');
var gOPS = require('./_object-gops');
var pIE = require('./_object-pie');
module.exports = function (it) {
  var result = getKeys(it);
  var getSymbols = gOPS.f;
  if (getSymbols) {
    var symbols = getSymbols(it);
    var isEnum = pIE.f;
    var i = 0;
    var key;
    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);
  } return result;
};

},{"./_object-gops":78,"./_object-keys":81,"./_object-pie":82}],34:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var hide = require('./_hide');
var redefine = require('./_redefine');
var ctx = require('./_ctx');
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});
  var key, own, out, exp;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    // export native or passed
    out = (own ? target : source)[key];
    // bind timers to global for call from export context
    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // extend global
    if (target) redefine(target, key, out, type & $export.U);
    // export
    if (exports[key] != out) hide(exports, key, exp);
    if (IS_PROTO && expProto[key] != out) expProto[key] = out;
  }
};
global.core = core;
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;

},{"./_core":24,"./_ctx":26,"./_global":41,"./_hide":43,"./_redefine":92}],35:[function(require,module,exports){
var MATCH = require('./_wks')('match');
module.exports = function (KEY) {
  var re = /./;
  try {
    '/./'[KEY](re);
  } catch (e) {
    try {
      re[MATCH] = false;
      return !'/./'[KEY](re);
    } catch (f) { /* empty */ }
  } return true;
};

},{"./_wks":127}],36:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};

},{}],37:[function(require,module,exports){
'use strict';
var hide = require('./_hide');
var redefine = require('./_redefine');
var fails = require('./_fails');
var defined = require('./_defined');
var wks = require('./_wks');

module.exports = function (KEY, length, exec) {
  var SYMBOL = wks(KEY);
  var fns = exec(defined, SYMBOL, ''[KEY]);
  var strfn = fns[0];
  var rxfn = fns[1];
  if (fails(function () {
    var O = {};
    O[SYMBOL] = function () { return 7; };
    return ''[KEY](O) != 7;
  })) {
    redefine(String.prototype, KEY, strfn);
    hide(RegExp.prototype, SYMBOL, length == 2
      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)
      // 21.2.5.11 RegExp.prototype[@@split](string, limit)
      ? function (string, arg) { return rxfn.call(string, this, arg); }
      // 21.2.5.6 RegExp.prototype[@@match](string)
      // 21.2.5.9 RegExp.prototype[@@search](string)
      : function (string) { return rxfn.call(string, this); }
    );
  }
};

},{"./_defined":29,"./_fails":36,"./_hide":43,"./_redefine":92,"./_wks":127}],38:[function(require,module,exports){
'use strict';
// 21.2.5.3 get RegExp.prototype.flags
var anObject = require('./_an-object');
module.exports = function () {
  var that = anObject(this);
  var result = '';
  if (that.global) result += 'g';
  if (that.ignoreCase) result += 'i';
  if (that.multiline) result += 'm';
  if (that.unicode) result += 'u';
  if (that.sticky) result += 'y';
  return result;
};

},{"./_an-object":8}],39:[function(require,module,exports){
'use strict';
// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray
var isArray = require('./_is-array');
var isObject = require('./_is-object');
var toLength = require('./_to-length');
var ctx = require('./_ctx');
var IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');

function flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {
  var targetIndex = start;
  var sourceIndex = 0;
  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;
  var element, spreadable;

  while (sourceIndex < sourceLen) {
    if (sourceIndex in source) {
      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];

      spreadable = false;
      if (isObject(element)) {
        spreadable = element[IS_CONCAT_SPREADABLE];
        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);
      }

      if (spreadable && depth > 0) {
        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;
      } else {
        if (targetIndex >= 0x1fffffffffffff) throw TypeError();
        target[targetIndex] = element;
      }

      targetIndex++;
    }
    sourceIndex++;
  }
  return targetIndex;
}

module.exports = flattenIntoArray;

},{"./_ctx":26,"./_is-array":50,"./_is-object":52,"./_to-length":116,"./_wks":127}],40:[function(require,module,exports){
var ctx = require('./_ctx');
var call = require('./_iter-call');
var isArrayIter = require('./_is-array-iter');
var anObject = require('./_an-object');
var toLength = require('./_to-length');
var getIterFn = require('./core.get-iterator-method');
var BREAK = {};
var RETURN = {};
var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);
  var f = ctx(fn, that, entries ? 2 : 1);
  var index = 0;
  var length, step, iterator, result;
  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {
    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
    if (result === BREAK || result === RETURN) return result;
  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
    result = call(iterator, f, step.value, entries);
    if (result === BREAK || result === RETURN) return result;
  }
};
exports.BREAK = BREAK;
exports.RETURN = RETURN;

},{"./_an-object":8,"./_ctx":26,"./_is-array-iter":49,"./_iter-call":54,"./_to-length":116,"./core.get-iterator-method":128}],41:[function(require,module,exports){
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef

},{}],42:[function(require,module,exports){
var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};

},{}],43:[function(require,module,exports){
var dP = require('./_object-dp');
var createDesc = require('./_property-desc');
module.exports = require('./_descriptors') ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};

},{"./_descriptors":30,"./_object-dp":72,"./_property-desc":90}],44:[function(require,module,exports){
var document = require('./_global').document;
module.exports = document && document.documentElement;

},{"./_global":41}],45:[function(require,module,exports){
module.exports = !require('./_descriptors') && !require('./_fails')(function () {
  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_descriptors":30,"./_dom-create":31,"./_fails":36}],46:[function(require,module,exports){
var isObject = require('./_is-object');
var setPrototypeOf = require('./_set-proto').set;
module.exports = function (that, target, C) {
  var S = target.constructor;
  var P;
  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {
    setPrototypeOf(that, P);
  } return that;
};

},{"./_is-object":52,"./_set-proto":97}],47:[function(require,module,exports){
// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function (fn, args, that) {
  var un = that === undefined;
  switch (args.length) {
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return fn.apply(that, args);
};

},{}],48:[function(require,module,exports){
// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = require('./_cof');
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};

},{"./_cof":19}],49:[function(require,module,exports){
// check on default Array iterator
var Iterators = require('./_iterators');
var ITERATOR = require('./_wks')('iterator');
var ArrayProto = Array.prototype;

module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};

},{"./_iterators":59,"./_wks":127}],50:[function(require,module,exports){
// 7.2.2 IsArray(argument)
var cof = require('./_cof');
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};

},{"./_cof":19}],51:[function(require,module,exports){
// 20.1.2.3 Number.isInteger(number)
var isObject = require('./_is-object');
var floor = Math.floor;
module.exports = function isInteger(it) {
  return !isObject(it) && isFinite(it) && floor(it) === it;
};

},{"./_is-object":52}],52:[function(require,module,exports){
module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};

},{}],53:[function(require,module,exports){
// 7.2.8 IsRegExp(argument)
var isObject = require('./_is-object');
var cof = require('./_cof');
var MATCH = require('./_wks')('match');
module.exports = function (it) {
  var isRegExp;
  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');
};

},{"./_cof":19,"./_is-object":52,"./_wks":127}],54:[function(require,module,exports){
// call something on iterator step with safe closing on error
var anObject = require('./_an-object');
module.exports = function (iterator, fn, value, entries) {
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (e) {
    var ret = iterator['return'];
    if (ret !== undefined) anObject(ret.call(iterator));
    throw e;
  }
};

},{"./_an-object":8}],55:[function(require,module,exports){
'use strict';
var create = require('./_object-create');
var descriptor = require('./_property-desc');
var setToStringTag = require('./_set-to-string-tag');
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
require('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};

},{"./_hide":43,"./_object-create":71,"./_property-desc":90,"./_set-to-string-tag":99,"./_wks":127}],56:[function(require,module,exports){
'use strict';
var LIBRARY = require('./_library');
var $export = require('./_export');
var redefine = require('./_redefine');
var hide = require('./_hide');
var Iterators = require('./_iterators');
var $iterCreate = require('./_iter-create');
var setToStringTag = require('./_set-to-string-tag');
var getPrototypeOf = require('./_object-gpo');
var ITERATOR = require('./_wks')('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = $native || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};

},{"./_export":34,"./_hide":43,"./_iter-create":55,"./_iterators":59,"./_library":60,"./_object-gpo":79,"./_redefine":92,"./_set-to-string-tag":99,"./_wks":127}],57:[function(require,module,exports){
var ITERATOR = require('./_wks')('iterator');
var SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function () { SAFE_CLOSING = true; };
  // eslint-disable-next-line no-throw-literal
  Array.from(riter, function () { throw 2; });
} catch (e) { /* empty */ }

module.exports = function (exec, skipClosing) {
  if (!skipClosing && !SAFE_CLOSING) return false;
  var safe = false;
  try {
    var arr = [7];
    var iter = arr[ITERATOR]();
    iter.next = function () { return { done: safe = true }; };
    arr[ITERATOR] = function () { return iter; };
    exec(arr);
  } catch (e) { /* empty */ }
  return safe;
};

},{"./_wks":127}],58:[function(require,module,exports){
module.exports = function (done, value) {
  return { value: value, done: !!done };
};

},{}],59:[function(require,module,exports){
module.exports = {};

},{}],60:[function(require,module,exports){
module.exports = false;

},{}],61:[function(require,module,exports){
// 20.2.2.14 Math.expm1(x)
var $expm1 = Math.expm1;
module.exports = (!$expm1
  // Old FF bug
  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168
  // Tor Browser bug
  || $expm1(-2e-17) != -2e-17
) ? function expm1(x) {
  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;
} : $expm1;

},{}],62:[function(require,module,exports){
// 20.2.2.16 Math.fround(x)
var sign = require('./_math-sign');
var pow = Math.pow;
var EPSILON = pow(2, -52);
var EPSILON32 = pow(2, -23);
var MAX32 = pow(2, 127) * (2 - EPSILON32);
var MIN32 = pow(2, -126);

var roundTiesToEven = function (n) {
  return n + 1 / EPSILON - 1 / EPSILON;
};

module.exports = Math.fround || function fround(x) {
  var $abs = Math.abs(x);
  var $sign = sign(x);
  var a, result;
  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;
  a = (1 + EPSILON32 / EPSILON) * $abs;
  result = a - (a - $abs);
  // eslint-disable-next-line no-self-compare
  if (result > MAX32 || result != result) return $sign * Infinity;
  return $sign * result;
};

},{"./_math-sign":65}],63:[function(require,module,exports){
// 20.2.2.20 Math.log1p(x)
module.exports = Math.log1p || function log1p(x) {
  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);
};

},{}],64:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
module.exports = Math.scale || function scale(x, inLow, inHigh, outLow, outHigh) {
  if (
    arguments.length === 0
      // eslint-disable-next-line no-self-compare
      || x != x
      // eslint-disable-next-line no-self-compare
      || inLow != inLow
      // eslint-disable-next-line no-self-compare
      || inHigh != inHigh
      // eslint-disable-next-line no-self-compare
      || outLow != outLow
      // eslint-disable-next-line no-self-compare
      || outHigh != outHigh
  ) return NaN;
  if (x === Infinity || x === -Infinity) return x;
  return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;
};

},{}],65:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
module.exports = Math.sign || function sign(x) {
  // eslint-disable-next-line no-self-compare
  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
};

},{}],66:[function(require,module,exports){
var META = require('./_uid')('meta');
var isObject = require('./_is-object');
var has = require('./_has');
var setDesc = require('./_object-dp').f;
var id = 0;
var isExtensible = Object.isExtensible || function () {
  return true;
};
var FREEZE = !require('./_fails')(function () {
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function (it) {
  setDesc(it, META, { value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  } });
};
var fastKey = function (it, create) {
  // return primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function (it, create) {
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY: META,
  NEED: false,
  fastKey: fastKey,
  getWeak: getWeak,
  onFreeze: onFreeze
};

},{"./_fails":36,"./_has":42,"./_is-object":52,"./_object-dp":72,"./_uid":122}],67:[function(require,module,exports){
var Map = require('./es6.map');
var $export = require('./_export');
var shared = require('./_shared')('metadata');
var store = shared.store || (shared.store = new (require('./es6.weak-map'))());

var getOrCreateMetadataMap = function (target, targetKey, create) {
  var targetMetadata = store.get(target);
  if (!targetMetadata) {
    if (!create) return undefined;
    store.set(target, targetMetadata = new Map());
  }
  var keyMetadata = targetMetadata.get(targetKey);
  if (!keyMetadata) {
    if (!create) return undefined;
    targetMetadata.set(targetKey, keyMetadata = new Map());
  } return keyMetadata;
};
var ordinaryHasOwnMetadata = function (MetadataKey, O, P) {
  var metadataMap = getOrCreateMetadataMap(O, P, false);
  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);
};
var ordinaryGetOwnMetadata = function (MetadataKey, O, P) {
  var metadataMap = getOrCreateMetadataMap(O, P, false);
  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);
};
var ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) {
  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);
};
var ordinaryOwnMetadataKeys = function (target, targetKey) {
  var metadataMap = getOrCreateMetadataMap(target, targetKey, false);
  var keys = [];
  if (metadataMap) metadataMap.forEach(function (_, key) { keys.push(key); });
  return keys;
};
var toMetaKey = function (it) {
  return it === undefined || typeof it == 'symbol' ? it : String(it);
};
var exp = function (O) {
  $export($export.S, 'Reflect', O);
};

module.exports = {
  store: store,
  map: getOrCreateMetadataMap,
  has: ordinaryHasOwnMetadata,
  get: ordinaryGetOwnMetadata,
  set: ordinaryDefineOwnMetadata,
  keys: ordinaryOwnMetadataKeys,
  key: toMetaKey,
  exp: exp
};

},{"./_export":34,"./_shared":101,"./es6.map":159,"./es6.weak-map":265}],68:[function(require,module,exports){
var global = require('./_global');
var macrotask = require('./_task').set;
var Observer = global.MutationObserver || global.WebKitMutationObserver;
var process = global.process;
var Promise = global.Promise;
var isNode = require('./_cof')(process) == 'process';

module.exports = function () {
  var head, last, notify;

  var flush = function () {
    var parent, fn;
    if (isNode && (parent = process.domain)) parent.exit();
    while (head) {
      fn = head.fn;
      head = head.next;
      try {
        fn();
      } catch (e) {
        if (head) notify();
        else last = undefined;
        throw e;
      }
    } last = undefined;
    if (parent) parent.enter();
  };

  // Node.js
  if (isNode) {
    notify = function () {
      process.nextTick(flush);
    };
  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
  } else if (Observer && !(global.navigator && global.navigator.standalone)) {
    var toggle = true;
    var node = document.createTextNode('');
    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (Promise && Promise.resolve) {
    // Promise.resolve without an argument throws an error in LG WebOS 2
    var promise = Promise.resolve(undefined);
    notify = function () {
      promise.then(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessag
  // - onreadystatechange
  // - setTimeout
  } else {
    notify = function () {
      // strange IE + webpack dev server bug - use .call(global)
      macrotask.call(global, flush);
    };
  }

  return function (fn) {
    var task = { fn: fn, next: undefined };
    if (last) last.next = task;
    if (!head) {
      head = task;
      notify();
    } last = task;
  };
};

},{"./_cof":19,"./_global":41,"./_task":111}],69:[function(require,module,exports){
'use strict';
// 25.4.1.5 NewPromiseCapability(C)
var aFunction = require('./_a-function');

function PromiseCapability(C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aFunction(resolve);
  this.reject = aFunction(reject);
}

module.exports.f = function (C) {
  return new PromiseCapability(C);
};

},{"./_a-function":4}],70:[function(require,module,exports){
'use strict';
// 19.1.2.1 Object.assign(target, source, ...)
var getKeys = require('./_object-keys');
var gOPS = require('./_object-gops');
var pIE = require('./_object-pie');
var toObject = require('./_to-object');
var IObject = require('./_iobject');
var $assign = Object.assign;

// should work with symbols and should have deterministic property order (V8 bug)
module.exports = !$assign || require('./_fails')(function () {
  var A = {};
  var B = {};
  // eslint-disable-next-line no-undef
  var S = Symbol();
  var K = 'abcdefghijklmnopqrst';
  A[S] = 7;
  K.split('').forEach(function (k) { B[k] = k; });
  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
}) ? function assign(target, source) { // eslint-disable-line no-unused-vars
  var T = toObject(target);
  var aLen = arguments.length;
  var index = 1;
  var getSymbols = gOPS.f;
  var isEnum = pIE.f;
  while (aLen > index) {
    var S = IObject(arguments[index++]);
    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);
    var length = keys.length;
    var j = 0;
    var key;
    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];
  } return T;
} : $assign;

},{"./_fails":36,"./_iobject":48,"./_object-gops":78,"./_object-keys":81,"./_object-pie":82,"./_to-object":117}],71:[function(require,module,exports){
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = require('./_an-object');
var dPs = require('./_object-dps');
var enumBugKeys = require('./_enum-bug-keys');
var IE_PROTO = require('./_shared-key')('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = require('./_dom-create')('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  require('./_html').appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};

},{"./_an-object":8,"./_dom-create":31,"./_enum-bug-keys":32,"./_html":44,"./_object-dps":73,"./_shared-key":100}],72:[function(require,module,exports){
var anObject = require('./_an-object');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var toPrimitive = require('./_to-primitive');
var dP = Object.defineProperty;

exports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};

},{"./_an-object":8,"./_descriptors":30,"./_ie8-dom-define":45,"./_to-primitive":118}],73:[function(require,module,exports){
var dP = require('./_object-dp');
var anObject = require('./_an-object');
var getKeys = require('./_object-keys');

module.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};

},{"./_an-object":8,"./_descriptors":30,"./_object-dp":72,"./_object-keys":81}],74:[function(require,module,exports){
'use strict';
// Forced replacement prototype accessors methods
module.exports = require('./_library') || !require('./_fails')(function () {
  var K = Math.random();
  // In FF throws only define methods
  // eslint-disable-next-line no-undef, no-useless-call
  __defineSetter__.call(null, K, function () { /* empty */ });
  delete require('./_global')[K];
});

},{"./_fails":36,"./_global":41,"./_library":60}],75:[function(require,module,exports){
var pIE = require('./_object-pie');
var createDesc = require('./_property-desc');
var toIObject = require('./_to-iobject');
var toPrimitive = require('./_to-primitive');
var has = require('./_has');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};

},{"./_descriptors":30,"./_has":42,"./_ie8-dom-define":45,"./_object-pie":82,"./_property-desc":90,"./_to-iobject":115,"./_to-primitive":118}],76:[function(require,module,exports){
// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = require('./_to-iobject');
var gOPN = require('./_object-gopn').f;
var toString = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return gOPN(it);
  } catch (e) {
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};

},{"./_object-gopn":77,"./_to-iobject":115}],77:[function(require,module,exports){
// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = require('./_object-keys-internal');
var hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};

},{"./_enum-bug-keys":32,"./_object-keys-internal":80}],78:[function(require,module,exports){
exports.f = Object.getOwnPropertySymbols;

},{}],79:[function(require,module,exports){
// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = require('./_has');
var toObject = require('./_to-object');
var IE_PROTO = require('./_shared-key')('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};

},{"./_has":42,"./_shared-key":100,"./_to-object":117}],80:[function(require,module,exports){
var has = require('./_has');
var toIObject = require('./_to-iobject');
var arrayIndexOf = require('./_array-includes')(false);
var IE_PROTO = require('./_shared-key')('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};

},{"./_array-includes":12,"./_has":42,"./_shared-key":100,"./_to-iobject":115}],81:[function(require,module,exports){
// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = require('./_object-keys-internal');
var enumBugKeys = require('./_enum-bug-keys');

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};

},{"./_enum-bug-keys":32,"./_object-keys-internal":80}],82:[function(require,module,exports){
exports.f = {}.propertyIsEnumerable;

},{}],83:[function(require,module,exports){
// most Object methods by ES6 should accept primitives
var $export = require('./_export');
var core = require('./_core');
var fails = require('./_fails');
module.exports = function (KEY, exec) {
  var fn = (core.Object || {})[KEY] || Object[KEY];
  var exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);
};

},{"./_core":24,"./_export":34,"./_fails":36}],84:[function(require,module,exports){
var getKeys = require('./_object-keys');
var toIObject = require('./_to-iobject');
var isEnum = require('./_object-pie').f;
module.exports = function (isEntries) {
  return function (it) {
    var O = toIObject(it);
    var keys = getKeys(O);
    var length = keys.length;
    var i = 0;
    var result = [];
    var key;
    while (length > i) if (isEnum.call(O, key = keys[i++])) {
      result.push(isEntries ? [key, O[key]] : O[key]);
    } return result;
  };
};

},{"./_object-keys":81,"./_object-pie":82,"./_to-iobject":115}],85:[function(require,module,exports){
// all object keys, includes non-enumerable and symbols
var gOPN = require('./_object-gopn');
var gOPS = require('./_object-gops');
var anObject = require('./_an-object');
var Reflect = require('./_global').Reflect;
module.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {
  var keys = gOPN.f(anObject(it));
  var getSymbols = gOPS.f;
  return getSymbols ? keys.concat(getSymbols(it)) : keys;
};

},{"./_an-object":8,"./_global":41,"./_object-gopn":77,"./_object-gops":78}],86:[function(require,module,exports){
var $parseFloat = require('./_global').parseFloat;
var $trim = require('./_string-trim').trim;

module.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {
  var string = $trim(String(str), 3);
  var result = $parseFloat(string);
  return result === 0 && string.charAt(0) == '-' ? -0 : result;
} : $parseFloat;

},{"./_global":41,"./_string-trim":109,"./_string-ws":110}],87:[function(require,module,exports){
var $parseInt = require('./_global').parseInt;
var $trim = require('./_string-trim').trim;
var ws = require('./_string-ws');
var hex = /^[-+]?0[xX]/;

module.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {
  var string = $trim(String(str), 3);
  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));
} : $parseInt;

},{"./_global":41,"./_string-trim":109,"./_string-ws":110}],88:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return { e: false, v: exec() };
  } catch (e) {
    return { e: true, v: e };
  }
};

},{}],89:[function(require,module,exports){
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var newPromiseCapability = require('./_new-promise-capability');

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};

},{"./_an-object":8,"./_is-object":52,"./_new-promise-capability":69}],90:[function(require,module,exports){
module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};

},{}],91:[function(require,module,exports){
var redefine = require('./_redefine');
module.exports = function (target, src, safe) {
  for (var key in src) redefine(target, key, src[key], safe);
  return target;
};

},{"./_redefine":92}],92:[function(require,module,exports){
var global = require('./_global');
var hide = require('./_hide');
var has = require('./_has');
var SRC = require('./_uid')('src');
var TO_STRING = 'toString';
var $toString = Function[TO_STRING];
var TPL = ('' + $toString).split(TO_STRING);

require('./_core').inspectSource = function (it) {
  return $toString.call(it);
};

(module.exports = function (O, key, val, safe) {
  var isFunction = typeof val == 'function';
  if (isFunction) has(val, 'name') || hide(val, 'name', key);
  if (O[key] === val) return;
  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
  if (O === global) {
    O[key] = val;
  } else if (!safe) {
    delete O[key];
    hide(O, key, val);
  } else if (O[key]) {
    O[key] = val;
  } else {
    hide(O, key, val);
  }
// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
})(Function.prototype, TO_STRING, function toString() {
  return typeof this == 'function' && this[SRC] || $toString.call(this);
});

},{"./_core":24,"./_global":41,"./_has":42,"./_hide":43,"./_uid":122}],93:[function(require,module,exports){
module.exports = function (regExp, replace) {
  var replacer = replace === Object(replace) ? function (part) {
    return replace[part];
  } : replace;
  return function (it) {
    return String(it).replace(regExp, replacer);
  };
};

},{}],94:[function(require,module,exports){
// 7.2.9 SameValue(x, y)
module.exports = Object.is || function is(x, y) {
  // eslint-disable-next-line no-self-compare
  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
};

},{}],95:[function(require,module,exports){
'use strict';
// https://tc39.github.io/proposal-setmap-offrom/
var $export = require('./_export');
var aFunction = require('./_a-function');
var ctx = require('./_ctx');
var forOf = require('./_for-of');

module.exports = function (COLLECTION) {
  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {
    var mapFn = arguments[1];
    var mapping, A, n, cb;
    aFunction(this);
    mapping = mapFn !== undefined;
    if (mapping) aFunction(mapFn);
    if (source == undefined) return new this();
    A = [];
    if (mapping) {
      n = 0;
      cb = ctx(mapFn, arguments[2], 2);
      forOf(source, false, function (nextItem) {
        A.push(cb(nextItem, n++));
      });
    } else {
      forOf(source, false, A.push, A);
    }
    return new this(A);
  } });
};

},{"./_a-function":4,"./_ctx":26,"./_export":34,"./_for-of":40}],96:[function(require,module,exports){
'use strict';
// https://tc39.github.io/proposal-setmap-offrom/
var $export = require('./_export');

module.exports = function (COLLECTION) {
  $export($export.S, COLLECTION, { of: function of() {
    var length = arguments.length;
    var A = new Array(length);
    while (length--) A[length] = arguments[length];
    return new this(A);
  } });
};

},{"./_export":34}],97:[function(require,module,exports){
// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = require('./_is-object');
var anObject = require('./_an-object');
var check = function (O, proto) {
  anObject(O);
  if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
    function (test, buggy, set) {
      try {
        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch (e) { buggy = true; }
      return function setPrototypeOf(O, proto) {
        check(O, proto);
        if (buggy) O.__proto__ = proto;
        else set(O, proto);
        return O;
      };
    }({}, false) : undefined),
  check: check
};

},{"./_an-object":8,"./_ctx":26,"./_is-object":52,"./_object-gopd":75}],98:[function(require,module,exports){
'use strict';
var global = require('./_global');
var dP = require('./_object-dp');
var DESCRIPTORS = require('./_descriptors');
var SPECIES = require('./_wks')('species');

module.exports = function (KEY) {
  var C = global[KEY];
  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {
    configurable: true,
    get: function () { return this; }
  });
};

},{"./_descriptors":30,"./_global":41,"./_object-dp":72,"./_wks":127}],99:[function(require,module,exports){
var def = require('./_object-dp').f;
var has = require('./_has');
var TAG = require('./_wks')('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};

},{"./_has":42,"./_object-dp":72,"./_wks":127}],100:[function(require,module,exports){
var shared = require('./_shared')('keys');
var uid = require('./_uid');
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};

},{"./_shared":101,"./_uid":122}],101:[function(require,module,exports){
var core = require('./_core');
var global = require('./_global');
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: core.version,
  mode: require('./_library') ? 'pure' : 'global',
  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'
});

},{"./_core":24,"./_global":41,"./_library":60}],102:[function(require,module,exports){
// 7.3.20 SpeciesConstructor(O, defaultConstructor)
var anObject = require('./_an-object');
var aFunction = require('./_a-function');
var SPECIES = require('./_wks')('species');
module.exports = function (O, D) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
};

},{"./_a-function":4,"./_an-object":8,"./_wks":127}],103:[function(require,module,exports){
'use strict';
var fails = require('./_fails');

module.exports = function (method, arg) {
  return !!method && fails(function () {
    // eslint-disable-next-line no-useless-call
    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);
  });
};

},{"./_fails":36}],104:[function(require,module,exports){
var toInteger = require('./_to-integer');
var defined = require('./_defined');
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};

},{"./_defined":29,"./_to-integer":114}],105:[function(require,module,exports){
// helper for String#{startsWith, endsWith, includes}
var isRegExp = require('./_is-regexp');
var defined = require('./_defined');

module.exports = function (that, searchString, NAME) {
  if (isRegExp(searchString)) throw TypeError('String#' + NAME + " doesn't accept regex!");
  return String(defined(that));
};

},{"./_defined":29,"./_is-regexp":53}],106:[function(require,module,exports){
var $export = require('./_export');
var fails = require('./_fails');
var defined = require('./_defined');
var quot = /"/g;
// B.2.3.2.1 CreateHTML(string, tag, attribute, value)
var createHTML = function (string, tag, attribute, value) {
  var S = String(defined(string));
  var p1 = '<' + tag;
  if (attribute !== '') p1 += ' ' + attribute + '="' + String(value).replace(quot, '&quot;') + '"';
  return p1 + '>' + S + '</' + tag + '>';
};
module.exports = function (NAME, exec) {
  var O = {};
  O[NAME] = exec(createHTML);
  $export($export.P + $export.F * fails(function () {
    var test = ''[NAME]('"');
    return test !== test.toLowerCase() || test.split('"').length > 3;
  }), 'String', O);
};

},{"./_defined":29,"./_export":34,"./_fails":36}],107:[function(require,module,exports){
// https://github.com/tc39/proposal-string-pad-start-end
var toLength = require('./_to-length');
var repeat = require('./_string-repeat');
var defined = require('./_defined');

module.exports = function (that, maxLength, fillString, left) {
  var S = String(defined(that));
  var stringLength = S.length;
  var fillStr = fillString === undefined ? ' ' : String(fillString);
  var intMaxLength = toLength(maxLength);
  if (intMaxLength <= stringLength || fillStr == '') return S;
  var fillLen = intMaxLength - stringLength;
  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));
  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);
  return left ? stringFiller + S : S + stringFiller;
};

},{"./_defined":29,"./_string-repeat":108,"./_to-length":116}],108:[function(require,module,exports){
'use strict';
var toInteger = require('./_to-integer');
var defined = require('./_defined');

module.exports = function repeat(count) {
  var str = String(defined(this));
  var res = '';
  var n = toInteger(count);
  if (n < 0 || n == Infinity) throw RangeError("Count can't be negative");
  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;
  return res;
};

},{"./_defined":29,"./_to-integer":114}],109:[function(require,module,exports){
var $export = require('./_export');
var defined = require('./_defined');
var fails = require('./_fails');
var spaces = require('./_string-ws');
var space = '[' + spaces + ']';
var non = '\u200b\u0085';
var ltrim = RegExp('^' + space + space + '*');
var rtrim = RegExp(space + space + '*$');

var exporter = function (KEY, exec, ALIAS) {
  var exp = {};
  var FORCE = fails(function () {
    return !!spaces[KEY]() || non[KEY]() != non;
  });
  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];
  if (ALIAS) exp[ALIAS] = fn;
  $export($export.P + $export.F * FORCE, 'String', exp);
};

// 1 -> String#trimLeft
// 2 -> String#trimRight
// 3 -> String#trim
var trim = exporter.trim = function (string, TYPE) {
  string = String(defined(string));
  if (TYPE & 1) string = string.replace(ltrim, '');
  if (TYPE & 2) string = string.replace(rtrim, '');
  return string;
};

module.exports = exporter;

},{"./_defined":29,"./_export":34,"./_fails":36,"./_string-ws":110}],110:[function(require,module,exports){
module.exports = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003' +
  '\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';

},{}],111:[function(require,module,exports){
var ctx = require('./_ctx');
var invoke = require('./_invoke');
var html = require('./_html');
var cel = require('./_dom-create');
var global = require('./_global');
var process = global.process;
var setTask = global.setImmediate;
var clearTask = global.clearImmediate;
var MessageChannel = global.MessageChannel;
var Dispatch = global.Dispatch;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var defer, channel, port;
var run = function () {
  var id = +this;
  // eslint-disable-next-line no-prototype-builtins
  if (queue.hasOwnProperty(id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listener = function (event) {
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!setTask || !clearTask) {
  setTask = function setImmediate(fn) {
    var args = [];
    var i = 1;
    while (arguments.length > i) args.push(arguments[i++]);
    queue[++counter] = function () {
      // eslint-disable-next-line no-new-func
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (require('./_cof')(process) == 'process') {
    defer = function (id) {
      process.nextTick(ctx(run, id, 1));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if (MessageChannel) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = listener;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {
    defer = function (id) {
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in cel('script')) {
    defer = function (id) {
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set: setTask,
  clear: clearTask
};

},{"./_cof":19,"./_ctx":26,"./_dom-create":31,"./_global":41,"./_html":44,"./_invoke":47}],112:[function(require,module,exports){
var toInteger = require('./_to-integer');
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};

},{"./_to-integer":114}],113:[function(require,module,exports){
// https://tc39.github.io/ecma262/#sec-toindex
var toInteger = require('./_to-integer');
var toLength = require('./_to-length');
module.exports = function (it) {
  if (it === undefined) return 0;
  var number = toInteger(it);
  var length = toLength(number);
  if (number !== length) throw RangeError('Wrong length!');
  return length;
};

},{"./_to-integer":114,"./_to-length":116}],114:[function(require,module,exports){
// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};

},{}],115:[function(require,module,exports){
// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = require('./_iobject');
var defined = require('./_defined');
module.exports = function (it) {
  return IObject(defined(it));
};

},{"./_defined":29,"./_iobject":48}],116:[function(require,module,exports){
// 7.1.15 ToLength
var toInteger = require('./_to-integer');
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};

},{"./_to-integer":114}],117:[function(require,module,exports){
// 7.1.13 ToObject(argument)
var defined = require('./_defined');
module.exports = function (it) {
  return Object(defined(it));
};

},{"./_defined":29}],118:[function(require,module,exports){
// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = require('./_is-object');
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};

},{"./_is-object":52}],119:[function(require,module,exports){
'use strict';
if (require('./_descriptors')) {
  var LIBRARY = require('./_library');
  var global = require('./_global');
  var fails = require('./_fails');
  var $export = require('./_export');
  var $typed = require('./_typed');
  var $buffer = require('./_typed-buffer');
  var ctx = require('./_ctx');
  var anInstance = require('./_an-instance');
  var propertyDesc = require('./_property-desc');
  var hide = require('./_hide');
  var redefineAll = require('./_redefine-all');
  var toInteger = require('./_to-integer');
  var toLength = require('./_to-length');
  var toIndex = require('./_to-index');
  var toAbsoluteIndex = require('./_to-absolute-index');
  var toPrimitive = require('./_to-primitive');
  var has = require('./_has');
  var classof = require('./_classof');
  var isObject = require('./_is-object');
  var toObject = require('./_to-object');
  var isArrayIter = require('./_is-array-iter');
  var create = require('./_object-create');
  var getPrototypeOf = require('./_object-gpo');
  var gOPN = require('./_object-gopn').f;
  var getIterFn = require('./core.get-iterator-method');
  var uid = require('./_uid');
  var wks = require('./_wks');
  var createArrayMethod = require('./_array-methods');
  var createArrayIncludes = require('./_array-includes');
  var speciesConstructor = require('./_species-constructor');
  var ArrayIterators = require('./es6.array.iterator');
  var Iterators = require('./_iterators');
  var $iterDetect = require('./_iter-detect');
  var setSpecies = require('./_set-species');
  var arrayFill = require('./_array-fill');
  var arrayCopyWithin = require('./_array-copy-within');
  var $DP = require('./_object-dp');
  var $GOPD = require('./_object-gopd');
  var dP = $DP.f;
  var gOPD = $GOPD.f;
  var RangeError = global.RangeError;
  var TypeError = global.TypeError;
  var Uint8Array = global.Uint8Array;
  var ARRAY_BUFFER = 'ArrayBuffer';
  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;
  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';
  var PROTOTYPE = 'prototype';
  var ArrayProto = Array[PROTOTYPE];
  var $ArrayBuffer = $buffer.ArrayBuffer;
  var $DataView = $buffer.DataView;
  var arrayForEach = createArrayMethod(0);
  var arrayFilter = createArrayMethod(2);
  var arraySome = createArrayMethod(3);
  var arrayEvery = createArrayMethod(4);
  var arrayFind = createArrayMethod(5);
  var arrayFindIndex = createArrayMethod(6);
  var arrayIncludes = createArrayIncludes(true);
  var arrayIndexOf = createArrayIncludes(false);
  var arrayValues = ArrayIterators.values;
  var arrayKeys = ArrayIterators.keys;
  var arrayEntries = ArrayIterators.entries;
  var arrayLastIndexOf = ArrayProto.lastIndexOf;
  var arrayReduce = ArrayProto.reduce;
  var arrayReduceRight = ArrayProto.reduceRight;
  var arrayJoin = ArrayProto.join;
  var arraySort = ArrayProto.sort;
  var arraySlice = ArrayProto.slice;
  var arrayToString = ArrayProto.toString;
  var arrayToLocaleString = ArrayProto.toLocaleString;
  var ITERATOR = wks('iterator');
  var TAG = wks('toStringTag');
  var TYPED_CONSTRUCTOR = uid('typed_constructor');
  var DEF_CONSTRUCTOR = uid('def_constructor');
  var ALL_CONSTRUCTORS = $typed.CONSTR;
  var TYPED_ARRAY = $typed.TYPED;
  var VIEW = $typed.VIEW;
  var WRONG_LENGTH = 'Wrong length!';

  var $map = createArrayMethod(1, function (O, length) {
    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);
  });

  var LITTLE_ENDIAN = fails(function () {
    // eslint-disable-next-line no-undef
    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;
  });

  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {
    new Uint8Array(1).set({});
  });

  var toOffset = function (it, BYTES) {
    var offset = toInteger(it);
    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');
    return offset;
  };

  var validate = function (it) {
    if (isObject(it) && TYPED_ARRAY in it) return it;
    throw TypeError(it + ' is not a typed array!');
  };

  var allocate = function (C, length) {
    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {
      throw TypeError('It is not a typed array constructor!');
    } return new C(length);
  };

  var speciesFromList = function (O, list) {
    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);
  };

  var fromList = function (C, list) {
    var index = 0;
    var length = list.length;
    var result = allocate(C, length);
    while (length > index) result[index] = list[index++];
    return result;
  };

  var addGetter = function (it, key, internal) {
    dP(it, key, { get: function () { return this._d[internal]; } });
  };

  var $from = function from(source /* , mapfn, thisArg */) {
    var O = toObject(source);
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var iterFn = getIterFn(O);
    var i, length, values, result, step, iterator;
    if (iterFn != undefined && !isArrayIter(iterFn)) {
      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {
        values.push(step.value);
      } O = values;
    }
    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);
    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {
      result[i] = mapping ? mapfn(O[i], i) : O[i];
    }
    return result;
  };

  var $of = function of(/* ...items */) {
    var index = 0;
    var length = arguments.length;
    var result = allocate(this, length);
    while (length > index) result[index] = arguments[index++];
    return result;
  };

  // iOS Safari 6.x fails here
  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });

  var $toLocaleString = function toLocaleString() {
    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);
  };

  var proto = {
    copyWithin: function copyWithin(target, start /* , end */) {
      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);
    },
    every: function every(callbackfn /* , thisArg */) {
      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars
      return arrayFill.apply(validate(this), arguments);
    },
    filter: function filter(callbackfn /* , thisArg */) {
      return speciesFromList(this, arrayFilter(validate(this), callbackfn,
        arguments.length > 1 ? arguments[1] : undefined));
    },
    find: function find(predicate /* , thisArg */) {
      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
    },
    findIndex: function findIndex(predicate /* , thisArg */) {
      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
    },
    forEach: function forEach(callbackfn /* , thisArg */) {
      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    indexOf: function indexOf(searchElement /* , fromIndex */) {
      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
    },
    includes: function includes(searchElement /* , fromIndex */) {
      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
    },
    join: function join(separator) { // eslint-disable-line no-unused-vars
      return arrayJoin.apply(validate(this), arguments);
    },
    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars
      return arrayLastIndexOf.apply(validate(this), arguments);
    },
    map: function map(mapfn /* , thisArg */) {
      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars
      return arrayReduce.apply(validate(this), arguments);
    },
    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars
      return arrayReduceRight.apply(validate(this), arguments);
    },
    reverse: function reverse() {
      var that = this;
      var length = validate(that).length;
      var middle = Math.floor(length / 2);
      var index = 0;
      var value;
      while (index < middle) {
        value = that[index];
        that[index++] = that[--length];
        that[length] = value;
      } return that;
    },
    some: function some(callbackfn /* , thisArg */) {
      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    sort: function sort(comparefn) {
      return arraySort.call(validate(this), comparefn);
    },
    subarray: function subarray(begin, end) {
      var O = validate(this);
      var length = O.length;
      var $begin = toAbsoluteIndex(begin, length);
      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(
        O.buffer,
        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,
        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)
      );
    }
  };

  var $slice = function slice(start, end) {
    return speciesFromList(this, arraySlice.call(validate(this), start, end));
  };

  var $set = function set(arrayLike /* , offset */) {
    validate(this);
    var offset = toOffset(arguments[1], 1);
    var length = this.length;
    var src = toObject(arrayLike);
    var len = toLength(src.length);
    var index = 0;
    if (len + offset > length) throw RangeError(WRONG_LENGTH);
    while (index < len) this[offset + index] = src[index++];
  };

  var $iterators = {
    entries: function entries() {
      return arrayEntries.call(validate(this));
    },
    keys: function keys() {
      return arrayKeys.call(validate(this));
    },
    values: function values() {
      return arrayValues.call(validate(this));
    }
  };

  var isTAIndex = function (target, key) {
    return isObject(target)
      && target[TYPED_ARRAY]
      && typeof key != 'symbol'
      && key in target
      && String(+key) == String(key);
  };
  var $getDesc = function getOwnPropertyDescriptor(target, key) {
    return isTAIndex(target, key = toPrimitive(key, true))
      ? propertyDesc(2, target[key])
      : gOPD(target, key);
  };
  var $setDesc = function defineProperty(target, key, desc) {
    if (isTAIndex(target, key = toPrimitive(key, true))
      && isObject(desc)
      && has(desc, 'value')
      && !has(desc, 'get')
      && !has(desc, 'set')
      // TODO: add validation descriptor w/o calling accessors
      && !desc.configurable
      && (!has(desc, 'writable') || desc.writable)
      && (!has(desc, 'enumerable') || desc.enumerable)
    ) {
      target[key] = desc.value;
      return target;
    } return dP(target, key, desc);
  };

  if (!ALL_CONSTRUCTORS) {
    $GOPD.f = $getDesc;
    $DP.f = $setDesc;
  }

  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {
    getOwnPropertyDescriptor: $getDesc,
    defineProperty: $setDesc
  });

  if (fails(function () { arrayToString.call({}); })) {
    arrayToString = arrayToLocaleString = function toString() {
      return arrayJoin.call(this);
    };
  }

  var $TypedArrayPrototype$ = redefineAll({}, proto);
  redefineAll($TypedArrayPrototype$, $iterators);
  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);
  redefineAll($TypedArrayPrototype$, {
    slice: $slice,
    set: $set,
    constructor: function () { /* noop */ },
    toString: arrayToString,
    toLocaleString: $toLocaleString
  });
  addGetter($TypedArrayPrototype$, 'buffer', 'b');
  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');
  addGetter($TypedArrayPrototype$, 'byteLength', 'l');
  addGetter($TypedArrayPrototype$, 'length', 'e');
  dP($TypedArrayPrototype$, TAG, {
    get: function () { return this[TYPED_ARRAY]; }
  });

  // eslint-disable-next-line max-statements
  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {
    CLAMPED = !!CLAMPED;
    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';
    var GETTER = 'get' + KEY;
    var SETTER = 'set' + KEY;
    var TypedArray = global[NAME];
    var Base = TypedArray || {};
    var TAC = TypedArray && getPrototypeOf(TypedArray);
    var FORCED = !TypedArray || !$typed.ABV;
    var O = {};
    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];
    var getter = function (that, index) {
      var data = that._d;
      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);
    };
    var setter = function (that, index, value) {
      var data = that._d;
      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;
      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);
    };
    var addElement = function (that, index) {
      dP(that, index, {
        get: function () {
          return getter(this, index);
        },
        set: function (value) {
          return setter(this, index, value);
        },
        enumerable: true
      });
    };
    if (FORCED) {
      TypedArray = wrapper(function (that, data, $offset, $length) {
        anInstance(that, TypedArray, NAME, '_d');
        var index = 0;
        var offset = 0;
        var buffer, byteLength, length, klass;
        if (!isObject(data)) {
          length = toIndex(data);
          byteLength = length * BYTES;
          buffer = new $ArrayBuffer(byteLength);
        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
          buffer = data;
          offset = toOffset($offset, BYTES);
          var $len = data.byteLength;
          if ($length === undefined) {
            if ($len % BYTES) throw RangeError(WRONG_LENGTH);
            byteLength = $len - offset;
            if (byteLength < 0) throw RangeError(WRONG_LENGTH);
          } else {
            byteLength = toLength($length) * BYTES;
            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);
          }
          length = byteLength / BYTES;
        } else if (TYPED_ARRAY in data) {
          return fromList(TypedArray, data);
        } else {
          return $from.call(TypedArray, data);
        }
        hide(that, '_d', {
          b: buffer,
          o: offset,
          l: byteLength,
          e: length,
          v: new $DataView(buffer)
        });
        while (index < length) addElement(that, index++);
      });
      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);
      hide(TypedArrayPrototype, 'constructor', TypedArray);
    } else if (!fails(function () {
      TypedArray(1);
    }) || !fails(function () {
      new TypedArray(-1); // eslint-disable-line no-new
    }) || !$iterDetect(function (iter) {
      new TypedArray(); // eslint-disable-line no-new
      new TypedArray(null); // eslint-disable-line no-new
      new TypedArray(1.5); // eslint-disable-line no-new
      new TypedArray(iter); // eslint-disable-line no-new
    }, true)) {
      TypedArray = wrapper(function (that, data, $offset, $length) {
        anInstance(that, TypedArray, NAME);
        var klass;
        // `ws` module bug, temporarily remove validation length for Uint8Array
        // https://github.com/websockets/ws/pull/645
        if (!isObject(data)) return new Base(toIndex(data));
        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
          return $length !== undefined
            ? new Base(data, toOffset($offset, BYTES), $length)
            : $offset !== undefined
              ? new Base(data, toOffset($offset, BYTES))
              : new Base(data);
        }
        if (TYPED_ARRAY in data) return fromList(TypedArray, data);
        return $from.call(TypedArray, data);
      });
      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {
        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);
      });
      TypedArray[PROTOTYPE] = TypedArrayPrototype;
      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;
    }
    var $nativeIterator = TypedArrayPrototype[ITERATOR];
    var CORRECT_ITER_NAME = !!$nativeIterator
      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);
    var $iterator = $iterators.values;
    hide(TypedArray, TYPED_CONSTRUCTOR, true);
    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);
    hide(TypedArrayPrototype, VIEW, true);
    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);

    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {
      dP(TypedArrayPrototype, TAG, {
        get: function () { return NAME; }
      });
    }

    O[NAME] = TypedArray;

    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);

    $export($export.S, NAME, {
      BYTES_PER_ELEMENT: BYTES
    });

    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {
      from: $from,
      of: $of
    });

    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);

    $export($export.P, NAME, proto);

    setSpecies(NAME);

    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });

    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);

    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;

    $export($export.P + $export.F * fails(function () {
      new TypedArray(1).slice();
    }), NAME, { slice: $slice });

    $export($export.P + $export.F * (fails(function () {
      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();
    }) || !fails(function () {
      TypedArrayPrototype.toLocaleString.call([1, 2]);
    })), NAME, { toLocaleString: $toLocaleString });

    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;
    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);
  };
} else module.exports = function () { /* empty */ };

},{"./_an-instance":7,"./_array-copy-within":9,"./_array-fill":10,"./_array-includes":12,"./_array-methods":13,"./_classof":18,"./_ctx":26,"./_descriptors":30,"./_export":34,"./_fails":36,"./_global":41,"./_has":42,"./_hide":43,"./_is-array-iter":49,"./_is-object":52,"./_iter-detect":57,"./_iterators":59,"./_library":60,"./_object-create":71,"./_object-dp":72,"./_object-gopd":75,"./_object-gopn":77,"./_object-gpo":79,"./_property-desc":90,"./_redefine-all":91,"./_set-species":98,"./_species-constructor":102,"./_to-absolute-index":112,"./_to-index":113,"./_to-integer":114,"./_to-length":116,"./_to-object":117,"./_to-primitive":118,"./_typed":121,"./_typed-buffer":120,"./_uid":122,"./_wks":127,"./core.get-iterator-method":128,"./es6.array.iterator":140}],120:[function(require,module,exports){
'use strict';
var global = require('./_global');
var DESCRIPTORS = require('./_descriptors');
var LIBRARY = require('./_library');
var $typed = require('./_typed');
var hide = require('./_hide');
var redefineAll = require('./_redefine-all');
var fails = require('./_fails');
var anInstance = require('./_an-instance');
var toInteger = require('./_to-integer');
var toLength = require('./_to-length');
var toIndex = require('./_to-index');
var gOPN = require('./_object-gopn').f;
var dP = require('./_object-dp').f;
var arrayFill = require('./_array-fill');
var setToStringTag = require('./_set-to-string-tag');
var ARRAY_BUFFER = 'ArrayBuffer';
var DATA_VIEW = 'DataView';
var PROTOTYPE = 'prototype';
var WRONG_LENGTH = 'Wrong length!';
var WRONG_INDEX = 'Wrong index!';
var $ArrayBuffer = global[ARRAY_BUFFER];
var $DataView = global[DATA_VIEW];
var Math = global.Math;
var RangeError = global.RangeError;
// eslint-disable-next-line no-shadow-restricted-names
var Infinity = global.Infinity;
var BaseBuffer = $ArrayBuffer;
var abs = Math.abs;
var pow = Math.pow;
var floor = Math.floor;
var log = Math.log;
var LN2 = Math.LN2;
var BUFFER = 'buffer';
var BYTE_LENGTH = 'byteLength';
var BYTE_OFFSET = 'byteOffset';
var $BUFFER = DESCRIPTORS ? '_b' : BUFFER;
var $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;
var $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;

// IEEE754 conversions based on https://github.com/feross/ieee754
function packIEEE754(value, mLen, nBytes) {
  var buffer = new Array(nBytes);
  var eLen = nBytes * 8 - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;
  var i = 0;
  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;
  var e, m, c;
  value = abs(value);
  // eslint-disable-next-line no-self-compare
  if (value != value || value === Infinity) {
    // eslint-disable-next-line no-self-compare
    m = value != value ? 1 : 0;
    e = eMax;
  } else {
    e = floor(log(value) / LN2);
    if (value * (c = pow(2, -e)) < 1) {
      e--;
      c *= 2;
    }
    if (e + eBias >= 1) {
      value += rt / c;
    } else {
      value += rt * pow(2, 1 - eBias);
    }
    if (value * c >= 2) {
      e++;
      c /= 2;
    }
    if (e + eBias >= eMax) {
      m = 0;
      e = eMax;
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * pow(2, mLen);
      e = e + eBias;
    } else {
      m = value * pow(2, eBias - 1) * pow(2, mLen);
      e = 0;
    }
  }
  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);
  e = e << mLen | m;
  eLen += mLen;
  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);
  buffer[--i] |= s * 128;
  return buffer;
}
function unpackIEEE754(buffer, mLen, nBytes) {
  var eLen = nBytes * 8 - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var nBits = eLen - 7;
  var i = nBytes - 1;
  var s = buffer[i--];
  var e = s & 127;
  var m;
  s >>= 7;
  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);
  m = e & (1 << -nBits) - 1;
  e >>= -nBits;
  nBits += mLen;
  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);
  if (e === 0) {
    e = 1 - eBias;
  } else if (e === eMax) {
    return m ? NaN : s ? -Infinity : Infinity;
  } else {
    m = m + pow(2, mLen);
    e = e - eBias;
  } return (s ? -1 : 1) * m * pow(2, e - mLen);
}

function unpackI32(bytes) {
  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];
}
function packI8(it) {
  return [it & 0xff];
}
function packI16(it) {
  return [it & 0xff, it >> 8 & 0xff];
}
function packI32(it) {
  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];
}
function packF64(it) {
  return packIEEE754(it, 52, 8);
}
function packF32(it) {
  return packIEEE754(it, 23, 4);
}

function addGetter(C, key, internal) {
  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });
}

function get(view, bytes, index, isLittleEndian) {
  var numIndex = +index;
  var intIndex = toIndex(numIndex);
  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);
  var store = view[$BUFFER]._b;
  var start = intIndex + view[$OFFSET];
  var pack = store.slice(start, start + bytes);
  return isLittleEndian ? pack : pack.reverse();
}
function set(view, bytes, index, conversion, value, isLittleEndian) {
  var numIndex = +index;
  var intIndex = toIndex(numIndex);
  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);
  var store = view[$BUFFER]._b;
  var start = intIndex + view[$OFFSET];
  var pack = conversion(+value);
  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];
}

if (!$typed.ABV) {
  $ArrayBuffer = function ArrayBuffer(length) {
    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);
    var byteLength = toIndex(length);
    this._b = arrayFill.call(new Array(byteLength), 0);
    this[$LENGTH] = byteLength;
  };

  $DataView = function DataView(buffer, byteOffset, byteLength) {
    anInstance(this, $DataView, DATA_VIEW);
    anInstance(buffer, $ArrayBuffer, DATA_VIEW);
    var bufferLength = buffer[$LENGTH];
    var offset = toInteger(byteOffset);
    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');
    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);
    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);
    this[$BUFFER] = buffer;
    this[$OFFSET] = offset;
    this[$LENGTH] = byteLength;
  };

  if (DESCRIPTORS) {
    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');
    addGetter($DataView, BUFFER, '_b');
    addGetter($DataView, BYTE_LENGTH, '_l');
    addGetter($DataView, BYTE_OFFSET, '_o');
  }

  redefineAll($DataView[PROTOTYPE], {
    getInt8: function getInt8(byteOffset) {
      return get(this, 1, byteOffset)[0] << 24 >> 24;
    },
    getUint8: function getUint8(byteOffset) {
      return get(this, 1, byteOffset)[0];
    },
    getInt16: function getInt16(byteOffset /* , littleEndian */) {
      var bytes = get(this, 2, byteOffset, arguments[1]);
      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;
    },
    getUint16: function getUint16(byteOffset /* , littleEndian */) {
      var bytes = get(this, 2, byteOffset, arguments[1]);
      return bytes[1] << 8 | bytes[0];
    },
    getInt32: function getInt32(byteOffset /* , littleEndian */) {
      return unpackI32(get(this, 4, byteOffset, arguments[1]));
    },
    getUint32: function getUint32(byteOffset /* , littleEndian */) {
      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;
    },
    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {
      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);
    },
    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {
      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);
    },
    setInt8: function setInt8(byteOffset, value) {
      set(this, 1, byteOffset, packI8, value);
    },
    setUint8: function setUint8(byteOffset, value) {
      set(this, 1, byteOffset, packI8, value);
    },
    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {
      set(this, 2, byteOffset, packI16, value, arguments[2]);
    },
    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {
      set(this, 2, byteOffset, packI16, value, arguments[2]);
    },
    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packI32, value, arguments[2]);
    },
    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packI32, value, arguments[2]);
    },
    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packF32, value, arguments[2]);
    },
    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {
      set(this, 8, byteOffset, packF64, value, arguments[2]);
    }
  });
} else {
  if (!fails(function () {
    $ArrayBuffer(1);
  }) || !fails(function () {
    new $ArrayBuffer(-1); // eslint-disable-line no-new
  }) || fails(function () {
    new $ArrayBuffer(); // eslint-disable-line no-new
    new $ArrayBuffer(1.5); // eslint-disable-line no-new
    new $ArrayBuffer(NaN); // eslint-disable-line no-new
    return $ArrayBuffer.name != ARRAY_BUFFER;
  })) {
    $ArrayBuffer = function ArrayBuffer(length) {
      anInstance(this, $ArrayBuffer);
      return new BaseBuffer(toIndex(length));
    };
    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];
    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {
      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);
    }
    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;
  }
  // iOS Safari 7.x bug
  var view = new $DataView(new $ArrayBuffer(2));
  var $setInt8 = $DataView[PROTOTYPE].setInt8;
  view.setInt8(0, 2147483648);
  view.setInt8(1, 2147483649);
  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {
    setInt8: function setInt8(byteOffset, value) {
      $setInt8.call(this, byteOffset, value << 24 >> 24);
    },
    setUint8: function setUint8(byteOffset, value) {
      $setInt8.call(this, byteOffset, value << 24 >> 24);
    }
  }, true);
}
setToStringTag($ArrayBuffer, ARRAY_BUFFER);
setToStringTag($DataView, DATA_VIEW);
hide($DataView[PROTOTYPE], $typed.VIEW, true);
exports[ARRAY_BUFFER] = $ArrayBuffer;
exports[DATA_VIEW] = $DataView;

},{"./_an-instance":7,"./_array-fill":10,"./_descriptors":30,"./_fails":36,"./_global":41,"./_hide":43,"./_library":60,"./_object-dp":72,"./_object-gopn":77,"./_redefine-all":91,"./_set-to-string-tag":99,"./_to-index":113,"./_to-integer":114,"./_to-length":116,"./_typed":121}],121:[function(require,module,exports){
var global = require('./_global');
var hide = require('./_hide');
var uid = require('./_uid');
var TYPED = uid('typed_array');
var VIEW = uid('view');
var ABV = !!(global.ArrayBuffer && global.DataView);
var CONSTR = ABV;
var i = 0;
var l = 9;
var Typed;

var TypedArrayConstructors = (
  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'
).split(',');

while (i < l) {
  if (Typed = global[TypedArrayConstructors[i++]]) {
    hide(Typed.prototype, TYPED, true);
    hide(Typed.prototype, VIEW, true);
  } else CONSTR = false;
}

module.exports = {
  ABV: ABV,
  CONSTR: CONSTR,
  TYPED: TYPED,
  VIEW: VIEW
};

},{"./_global":41,"./_hide":43,"./_uid":122}],122:[function(require,module,exports){
var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};

},{}],123:[function(require,module,exports){
var global = require('./_global');
var navigator = global.navigator;

module.exports = navigator && navigator.userAgent || '';

},{"./_global":41}],124:[function(require,module,exports){
var isObject = require('./_is-object');
module.exports = function (it, TYPE) {
  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');
  return it;
};

},{"./_is-object":52}],125:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var LIBRARY = require('./_library');
var wksExt = require('./_wks-ext');
var defineProperty = require('./_object-dp').f;
module.exports = function (name) {
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });
};

},{"./_core":24,"./_global":41,"./_library":60,"./_object-dp":72,"./_wks-ext":126}],126:[function(require,module,exports){
exports.f = require('./_wks');

},{"./_wks":127}],127:[function(require,module,exports){
var store = require('./_shared')('wks');
var uid = require('./_uid');
var Symbol = require('./_global').Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;

},{"./_global":41,"./_shared":101,"./_uid":122}],128:[function(require,module,exports){
var classof = require('./_classof');
var ITERATOR = require('./_wks')('iterator');
var Iterators = require('./_iterators');
module.exports = require('./_core').getIteratorMethod = function (it) {
  if (it != undefined) return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};

},{"./_classof":18,"./_core":24,"./_iterators":59,"./_wks":127}],129:[function(require,module,exports){
// https://github.com/benjamingr/RexExp.escape
var $export = require('./_export');
var $re = require('./_replacer')(/[\\^$*+?.()|[\]{}]/g, '\\$&');

$export($export.S, 'RegExp', { escape: function escape(it) { return $re(it); } });

},{"./_export":34,"./_replacer":93}],130:[function(require,module,exports){
// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)
var $export = require('./_export');

$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });

require('./_add-to-unscopables')('copyWithin');

},{"./_add-to-unscopables":6,"./_array-copy-within":9,"./_export":34}],131:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $every = require('./_array-methods')(4);

$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {
  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])
  every: function every(callbackfn /* , thisArg */) {
    return $every(this, callbackfn, arguments[1]);
  }
});

},{"./_array-methods":13,"./_export":34,"./_strict-method":103}],132:[function(require,module,exports){
// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)
var $export = require('./_export');

$export($export.P, 'Array', { fill: require('./_array-fill') });

require('./_add-to-unscopables')('fill');

},{"./_add-to-unscopables":6,"./_array-fill":10,"./_export":34}],133:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $filter = require('./_array-methods')(2);

$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {
  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])
  filter: function filter(callbackfn /* , thisArg */) {
    return $filter(this, callbackfn, arguments[1]);
  }
});

},{"./_array-methods":13,"./_export":34,"./_strict-method":103}],134:[function(require,module,exports){
'use strict';
// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)
var $export = require('./_export');
var $find = require('./_array-methods')(6);
var KEY = 'findIndex';
var forced = true;
// Shouldn't skip holes
if (KEY in []) Array(1)[KEY](function () { forced = false; });
$export($export.P + $export.F * forced, 'Array', {
  findIndex: function findIndex(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});
require('./_add-to-unscopables')(KEY);

},{"./_add-to-unscopables":6,"./_array-methods":13,"./_export":34}],135:[function(require,module,exports){
'use strict';
// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)
var $export = require('./_export');
var $find = require('./_array-methods')(5);
var KEY = 'find';
var forced = true;
// Shouldn't skip holes
if (KEY in []) Array(1)[KEY](function () { forced = false; });
$export($export.P + $export.F * forced, 'Array', {
  find: function find(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});
require('./_add-to-unscopables')(KEY);

},{"./_add-to-unscopables":6,"./_array-methods":13,"./_export":34}],136:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $forEach = require('./_array-methods')(0);
var STRICT = require('./_strict-method')([].forEach, true);

$export($export.P + $export.F * !STRICT, 'Array', {
  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])
  forEach: function forEach(callbackfn /* , thisArg */) {
    return $forEach(this, callbackfn, arguments[1]);
  }
});

},{"./_array-methods":13,"./_export":34,"./_strict-method":103}],137:[function(require,module,exports){
'use strict';
var ctx = require('./_ctx');
var $export = require('./_export');
var toObject = require('./_to-object');
var call = require('./_iter-call');
var isArrayIter = require('./_is-array-iter');
var toLength = require('./_to-length');
var createProperty = require('./_create-property');
var getIterFn = require('./core.get-iterator-method');

$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
    var O = toObject(arrayLike);
    var C = typeof this == 'function' ? this : Array;
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var index = 0;
    var iterFn = getIterFn(O);
    var length, result, step, iterator;
    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
      }
    } else {
      length = toLength(O.length);
      for (result = new C(length); length > index; index++) {
        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
      }
    }
    result.length = index;
    return result;
  }
});

},{"./_create-property":25,"./_ctx":26,"./_export":34,"./_is-array-iter":49,"./_iter-call":54,"./_iter-detect":57,"./_to-length":116,"./_to-object":117,"./core.get-iterator-method":128}],138:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $indexOf = require('./_array-includes')(false);
var $native = [].indexOf;
var NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;

$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {
  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])
  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {
    return NEGATIVE_ZERO
      // convert -0 to +0
      ? $native.apply(this, arguments) || 0
      : $indexOf(this, searchElement, arguments[1]);
  }
});

},{"./_array-includes":12,"./_export":34,"./_strict-method":103}],139:[function(require,module,exports){
// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)
var $export = require('./_export');

$export($export.S, 'Array', { isArray: require('./_is-array') });

},{"./_export":34,"./_is-array":50}],140:[function(require,module,exports){
'use strict';
var addToUnscopables = require('./_add-to-unscopables');
var step = require('./_iter-step');
var Iterators = require('./_iterators');
var toIObject = require('./_to-iobject');

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');

},{"./_add-to-unscopables":6,"./_iter-define":56,"./_iter-step":58,"./_iterators":59,"./_to-iobject":115}],141:[function(require,module,exports){
'use strict';
// 22.1.3.13 Array.prototype.join(separator)
var $export = require('./_export');
var toIObject = require('./_to-iobject');
var arrayJoin = [].join;

// fallback for not array-like strings
$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {
  join: function join(separator) {
    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);
  }
});

},{"./_export":34,"./_iobject":48,"./_strict-method":103,"./_to-iobject":115}],142:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toIObject = require('./_to-iobject');
var toInteger = require('./_to-integer');
var toLength = require('./_to-length');
var $native = [].lastIndexOf;
var NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;

$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {
  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])
  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {
    // convert -0 to +0
    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;
    var O = toIObject(this);
    var length = toLength(O.length);
    var index = length - 1;
    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));
    if (index < 0) index = length + index;
    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;
    return -1;
  }
});

},{"./_export":34,"./_strict-method":103,"./_to-integer":114,"./_to-iobject":115,"./_to-length":116}],143:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $map = require('./_array-methods')(1);

$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {
  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])
  map: function map(callbackfn /* , thisArg */) {
    return $map(this, callbackfn, arguments[1]);
  }
});

},{"./_array-methods":13,"./_export":34,"./_strict-method":103}],144:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var createProperty = require('./_create-property');

// WebKit Array.of isn't generic
$export($export.S + $export.F * require('./_fails')(function () {
  function F() { /* empty */ }
  return !(Array.of.call(F) instanceof F);
}), 'Array', {
  // 22.1.2.3 Array.of( ...items)
  of: function of(/* ...args */) {
    var index = 0;
    var aLen = arguments.length;
    var result = new (typeof this == 'function' ? this : Array)(aLen);
    while (aLen > index) createProperty(result, index, arguments[index++]);
    result.length = aLen;
    return result;
  }
});

},{"./_create-property":25,"./_export":34,"./_fails":36}],145:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $reduce = require('./_array-reduce');

$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {
  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])
  reduceRight: function reduceRight(callbackfn /* , initialValue */) {
    return $reduce(this, callbackfn, arguments.length, arguments[1], true);
  }
});

},{"./_array-reduce":14,"./_export":34,"./_strict-method":103}],146:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $reduce = require('./_array-reduce');

$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {
  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])
  reduce: function reduce(callbackfn /* , initialValue */) {
    return $reduce(this, callbackfn, arguments.length, arguments[1], false);
  }
});

},{"./_array-reduce":14,"./_export":34,"./_strict-method":103}],147:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var html = require('./_html');
var cof = require('./_cof');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');
var arraySlice = [].slice;

// fallback for not array-like ES3 strings and DOM objects
$export($export.P + $export.F * require('./_fails')(function () {
  if (html) arraySlice.call(html);
}), 'Array', {
  slice: function slice(begin, end) {
    var len = toLength(this.length);
    var klass = cof(this);
    end = end === undefined ? len : end;
    if (klass == 'Array') return arraySlice.call(this, begin, end);
    var start = toAbsoluteIndex(begin, len);
    var upTo = toAbsoluteIndex(end, len);
    var size = toLength(upTo - start);
    var cloned = new Array(size);
    var i = 0;
    for (; i < size; i++) cloned[i] = klass == 'String'
      ? this.charAt(start + i)
      : this[start + i];
    return cloned;
  }
});

},{"./_cof":19,"./_export":34,"./_fails":36,"./_html":44,"./_to-absolute-index":112,"./_to-length":116}],148:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $some = require('./_array-methods')(3);

$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {
  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])
  some: function some(callbackfn /* , thisArg */) {
    return $some(this, callbackfn, arguments[1]);
  }
});

},{"./_array-methods":13,"./_export":34,"./_strict-method":103}],149:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var aFunction = require('./_a-function');
var toObject = require('./_to-object');
var fails = require('./_fails');
var $sort = [].sort;
var test = [1, 2, 3];

$export($export.P + $export.F * (fails(function () {
  // IE8-
  test.sort(undefined);
}) || !fails(function () {
  // V8 bug
  test.sort(null);
  // Old WebKit
}) || !require('./_strict-method')($sort)), 'Array', {
  // 22.1.3.25 Array.prototype.sort(comparefn)
  sort: function sort(comparefn) {
    return comparefn === undefined
      ? $sort.call(toObject(this))
      : $sort.call(toObject(this), aFunction(comparefn));
  }
});

},{"./_a-function":4,"./_export":34,"./_fails":36,"./_strict-method":103,"./_to-object":117}],150:[function(require,module,exports){
require('./_set-species')('Array');

},{"./_set-species":98}],151:[function(require,module,exports){
// 20.3.3.1 / 15.9.4.4 Date.now()
var $export = require('./_export');

$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });

},{"./_export":34}],152:[function(require,module,exports){
// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()
var $export = require('./_export');
var toISOString = require('./_date-to-iso-string');

// PhantomJS / old WebKit has a broken implementations
$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {
  toISOString: toISOString
});

},{"./_date-to-iso-string":27,"./_export":34}],153:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toObject = require('./_to-object');
var toPrimitive = require('./_to-primitive');

$export($export.P + $export.F * require('./_fails')(function () {
  return new Date(NaN).toJSON() !== null
    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;
}), 'Date', {
  // eslint-disable-next-line no-unused-vars
  toJSON: function toJSON(key) {
    var O = toObject(this);
    var pv = toPrimitive(O);
    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();
  }
});

},{"./_export":34,"./_fails":36,"./_to-object":117,"./_to-primitive":118}],154:[function(require,module,exports){
var TO_PRIMITIVE = require('./_wks')('toPrimitive');
var proto = Date.prototype;

if (!(TO_PRIMITIVE in proto)) require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));

},{"./_date-to-primitive":28,"./_hide":43,"./_wks":127}],155:[function(require,module,exports){
var DateProto = Date.prototype;
var INVALID_DATE = 'Invalid Date';
var TO_STRING = 'toString';
var $toString = DateProto[TO_STRING];
var getTime = DateProto.getTime;
if (new Date(NaN) + '' != INVALID_DATE) {
  require('./_redefine')(DateProto, TO_STRING, function toString() {
    var value = getTime.call(this);
    // eslint-disable-next-line no-self-compare
    return value === value ? $toString.call(this) : INVALID_DATE;
  });
}

},{"./_redefine":92}],156:[function(require,module,exports){
// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)
var $export = require('./_export');

$export($export.P, 'Function', { bind: require('./_bind') });

},{"./_bind":17,"./_export":34}],157:[function(require,module,exports){
'use strict';
var isObject = require('./_is-object');
var getPrototypeOf = require('./_object-gpo');
var HAS_INSTANCE = require('./_wks')('hasInstance');
var FunctionProto = Function.prototype;
// 19.2.3.6 Function.prototype[@@hasInstance](V)
if (!(HAS_INSTANCE in FunctionProto)) require('./_object-dp').f(FunctionProto, HAS_INSTANCE, { value: function (O) {
  if (typeof this != 'function' || !isObject(O)) return false;
  if (!isObject(this.prototype)) return O instanceof this;
  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:
  while (O = getPrototypeOf(O)) if (this.prototype === O) return true;
  return false;
} });

},{"./_is-object":52,"./_object-dp":72,"./_object-gpo":79,"./_wks":127}],158:[function(require,module,exports){
var dP = require('./_object-dp').f;
var FProto = Function.prototype;
var nameRE = /^\s*function ([^ (]*)/;
var NAME = 'name';

// 19.2.4.2 name
NAME in FProto || require('./_descriptors') && dP(FProto, NAME, {
  configurable: true,
  get: function () {
    try {
      return ('' + this).match(nameRE)[1];
    } catch (e) {
      return '';
    }
  }
});

},{"./_descriptors":30,"./_object-dp":72}],159:[function(require,module,exports){
'use strict';
var strong = require('./_collection-strong');
var validate = require('./_validate-collection');
var MAP = 'Map';

// 23.1 Map Objects
module.exports = require('./_collection')(MAP, function (get) {
  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.1.3.6 Map.prototype.get(key)
  get: function get(key) {
    var entry = strong.getEntry(validate(this, MAP), key);
    return entry && entry.v;
  },
  // 23.1.3.9 Map.prototype.set(key, value)
  set: function set(key, value) {
    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);
  }
}, strong, true);

},{"./_collection":23,"./_collection-strong":20,"./_validate-collection":124}],160:[function(require,module,exports){
// 20.2.2.3 Math.acosh(x)
var $export = require('./_export');
var log1p = require('./_math-log1p');
var sqrt = Math.sqrt;
var $acosh = Math.acosh;

$export($export.S + $export.F * !($acosh
  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509
  && Math.floor($acosh(Number.MAX_VALUE)) == 710
  // Tor Browser bug: Math.acosh(Infinity) -> NaN
  && $acosh(Infinity) == Infinity
), 'Math', {
  acosh: function acosh(x) {
    return (x = +x) < 1 ? NaN : x > 94906265.62425156
      ? Math.log(x) + Math.LN2
      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));
  }
});

},{"./_export":34,"./_math-log1p":63}],161:[function(require,module,exports){
// 20.2.2.5 Math.asinh(x)
var $export = require('./_export');
var $asinh = Math.asinh;

function asinh(x) {
  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));
}

// Tor Browser bug: Math.asinh(0) -> -0
$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });

},{"./_export":34}],162:[function(require,module,exports){
// 20.2.2.7 Math.atanh(x)
var $export = require('./_export');
var $atanh = Math.atanh;

// Tor Browser bug: Math.atanh(-0) -> 0
$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {
  atanh: function atanh(x) {
    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;
  }
});

},{"./_export":34}],163:[function(require,module,exports){
// 20.2.2.9 Math.cbrt(x)
var $export = require('./_export');
var sign = require('./_math-sign');

$export($export.S, 'Math', {
  cbrt: function cbrt(x) {
    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);
  }
});

},{"./_export":34,"./_math-sign":65}],164:[function(require,module,exports){
// 20.2.2.11 Math.clz32(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  clz32: function clz32(x) {
    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;
  }
});

},{"./_export":34}],165:[function(require,module,exports){
// 20.2.2.12 Math.cosh(x)
var $export = require('./_export');
var exp = Math.exp;

$export($export.S, 'Math', {
  cosh: function cosh(x) {
    return (exp(x = +x) + exp(-x)) / 2;
  }
});

},{"./_export":34}],166:[function(require,module,exports){
// 20.2.2.14 Math.expm1(x)
var $export = require('./_export');
var $expm1 = require('./_math-expm1');

$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 });

},{"./_export":34,"./_math-expm1":61}],167:[function(require,module,exports){
// 20.2.2.16 Math.fround(x)
var $export = require('./_export');

$export($export.S, 'Math', { fround: require('./_math-fround') });

},{"./_export":34,"./_math-fround":62}],168:[function(require,module,exports){
// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])
var $export = require('./_export');
var abs = Math.abs;

$export($export.S, 'Math', {
  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars
    var sum = 0;
    var i = 0;
    var aLen = arguments.length;
    var larg = 0;
    var arg, div;
    while (i < aLen) {
      arg = abs(arguments[i++]);
      if (larg < arg) {
        div = larg / arg;
        sum = sum * div * div + 1;
        larg = arg;
      } else if (arg > 0) {
        div = arg / larg;
        sum += div * div;
      } else sum += arg;
    }
    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);
  }
});

},{"./_export":34}],169:[function(require,module,exports){
// 20.2.2.18 Math.imul(x, y)
var $export = require('./_export');
var $imul = Math.imul;

// some WebKit versions fails with big numbers, some has wrong arity
$export($export.S + $export.F * require('./_fails')(function () {
  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;
}), 'Math', {
  imul: function imul(x, y) {
    var UINT16 = 0xffff;
    var xn = +x;
    var yn = +y;
    var xl = UINT16 & xn;
    var yl = UINT16 & yn;
    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);
  }
});

},{"./_export":34,"./_fails":36}],170:[function(require,module,exports){
// 20.2.2.21 Math.log10(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  log10: function log10(x) {
    return Math.log(x) * Math.LOG10E;
  }
});

},{"./_export":34}],171:[function(require,module,exports){
// 20.2.2.20 Math.log1p(x)
var $export = require('./_export');

$export($export.S, 'Math', { log1p: require('./_math-log1p') });

},{"./_export":34,"./_math-log1p":63}],172:[function(require,module,exports){
// 20.2.2.22 Math.log2(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  log2: function log2(x) {
    return Math.log(x) / Math.LN2;
  }
});

},{"./_export":34}],173:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
var $export = require('./_export');

$export($export.S, 'Math', { sign: require('./_math-sign') });

},{"./_export":34,"./_math-sign":65}],174:[function(require,module,exports){
// 20.2.2.30 Math.sinh(x)
var $export = require('./_export');
var expm1 = require('./_math-expm1');
var exp = Math.exp;

// V8 near Chromium 38 has a problem with very small numbers
$export($export.S + $export.F * require('./_fails')(function () {
  return !Math.sinh(-2e-17) != -2e-17;
}), 'Math', {
  sinh: function sinh(x) {
    return Math.abs(x = +x) < 1
      ? (expm1(x) - expm1(-x)) / 2
      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);
  }
});

},{"./_export":34,"./_fails":36,"./_math-expm1":61}],175:[function(require,module,exports){
// 20.2.2.33 Math.tanh(x)
var $export = require('./_export');
var expm1 = require('./_math-expm1');
var exp = Math.exp;

$export($export.S, 'Math', {
  tanh: function tanh(x) {
    var a = expm1(x = +x);
    var b = expm1(-x);
    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));
  }
});

},{"./_export":34,"./_math-expm1":61}],176:[function(require,module,exports){
// 20.2.2.34 Math.trunc(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  trunc: function trunc(it) {
    return (it > 0 ? Math.floor : Math.ceil)(it);
  }
});

},{"./_export":34}],177:[function(require,module,exports){
'use strict';
var global = require('./_global');
var has = require('./_has');
var cof = require('./_cof');
var inheritIfRequired = require('./_inherit-if-required');
var toPrimitive = require('./_to-primitive');
var fails = require('./_fails');
var gOPN = require('./_object-gopn').f;
var gOPD = require('./_object-gopd').f;
var dP = require('./_object-dp').f;
var $trim = require('./_string-trim').trim;
var NUMBER = 'Number';
var $Number = global[NUMBER];
var Base = $Number;
var proto = $Number.prototype;
// Opera ~12 has broken Object#toString
var BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;
var TRIM = 'trim' in String.prototype;

// 7.1.3 ToNumber(argument)
var toNumber = function (argument) {
  var it = toPrimitive(argument, false);
  if (typeof it == 'string' && it.length > 2) {
    it = TRIM ? it.trim() : $trim(it, 3);
    var first = it.charCodeAt(0);
    var third, radix, maxCode;
    if (first === 43 || first === 45) {
      third = it.charCodeAt(2);
      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix
    } else if (first === 48) {
      switch (it.charCodeAt(1)) {
        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i
        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i
        default: return +it;
      }
      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {
        code = digits.charCodeAt(i);
        // parseInt parses a string to a first unavailable symbol
        // but ToNumber should return NaN if a string contains unavailable symbols
        if (code < 48 || code > maxCode) return NaN;
      } return parseInt(digits, radix);
    }
  } return +it;
};

if (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {
  $Number = function Number(value) {
    var it = arguments.length < 1 ? 0 : value;
    var that = this;
    return that instanceof $Number
      // check on 1..constructor(foo) case
      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)
        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);
  };
  for (var keys = require('./_descriptors') ? gOPN(Base) : (
    // ES3:
    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +
    // ES6 (in case, if modules with ES6 Number statics required before):
    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +
    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'
  ).split(','), j = 0, key; keys.length > j; j++) {
    if (has(Base, key = keys[j]) && !has($Number, key)) {
      dP($Number, key, gOPD(Base, key));
    }
  }
  $Number.prototype = proto;
  proto.constructor = $Number;
  require('./_redefine')(global, NUMBER, $Number);
}

},{"./_cof":19,"./_descriptors":30,"./_fails":36,"./_global":41,"./_has":42,"./_inherit-if-required":46,"./_object-create":71,"./_object-dp":72,"./_object-gopd":75,"./_object-gopn":77,"./_redefine":92,"./_string-trim":109,"./_to-primitive":118}],178:[function(require,module,exports){
// 20.1.2.1 Number.EPSILON
var $export = require('./_export');

$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });

},{"./_export":34}],179:[function(require,module,exports){
// 20.1.2.2 Number.isFinite(number)
var $export = require('./_export');
var _isFinite = require('./_global').isFinite;

$export($export.S, 'Number', {
  isFinite: function isFinite(it) {
    return typeof it == 'number' && _isFinite(it);
  }
});

},{"./_export":34,"./_global":41}],180:[function(require,module,exports){
// 20.1.2.3 Number.isInteger(number)
var $export = require('./_export');

$export($export.S, 'Number', { isInteger: require('./_is-integer') });

},{"./_export":34,"./_is-integer":51}],181:[function(require,module,exports){
// 20.1.2.4 Number.isNaN(number)
var $export = require('./_export');

$export($export.S, 'Number', {
  isNaN: function isNaN(number) {
    // eslint-disable-next-line no-self-compare
    return number != number;
  }
});

},{"./_export":34}],182:[function(require,module,exports){
// 20.1.2.5 Number.isSafeInteger(number)
var $export = require('./_export');
var isInteger = require('./_is-integer');
var abs = Math.abs;

$export($export.S, 'Number', {
  isSafeInteger: function isSafeInteger(number) {
    return isInteger(number) && abs(number) <= 0x1fffffffffffff;
  }
});

},{"./_export":34,"./_is-integer":51}],183:[function(require,module,exports){
// 20.1.2.6 Number.MAX_SAFE_INTEGER
var $export = require('./_export');

$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });

},{"./_export":34}],184:[function(require,module,exports){
// 20.1.2.10 Number.MIN_SAFE_INTEGER
var $export = require('./_export');

$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });

},{"./_export":34}],185:[function(require,module,exports){
var $export = require('./_export');
var $parseFloat = require('./_parse-float');
// 20.1.2.12 Number.parseFloat(string)
$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });

},{"./_export":34,"./_parse-float":86}],186:[function(require,module,exports){
var $export = require('./_export');
var $parseInt = require('./_parse-int');
// 20.1.2.13 Number.parseInt(string, radix)
$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });

},{"./_export":34,"./_parse-int":87}],187:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toInteger = require('./_to-integer');
var aNumberValue = require('./_a-number-value');
var repeat = require('./_string-repeat');
var $toFixed = 1.0.toFixed;
var floor = Math.floor;
var data = [0, 0, 0, 0, 0, 0];
var ERROR = 'Number.toFixed: incorrect invocation!';
var ZERO = '0';

var multiply = function (n, c) {
  var i = -1;
  var c2 = c;
  while (++i < 6) {
    c2 += n * data[i];
    data[i] = c2 % 1e7;
    c2 = floor(c2 / 1e7);
  }
};
var divide = function (n) {
  var i = 6;
  var c = 0;
  while (--i >= 0) {
    c += data[i];
    data[i] = floor(c / n);
    c = (c % n) * 1e7;
  }
};
var numToString = function () {
  var i = 6;
  var s = '';
  while (--i >= 0) {
    if (s !== '' || i === 0 || data[i] !== 0) {
      var t = String(data[i]);
      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;
    }
  } return s;
};
var pow = function (x, n, acc) {
  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);
};
var log = function (x) {
  var n = 0;
  var x2 = x;
  while (x2 >= 4096) {
    n += 12;
    x2 /= 4096;
  }
  while (x2 >= 2) {
    n += 1;
    x2 /= 2;
  } return n;
};

$export($export.P + $export.F * (!!$toFixed && (
  0.00008.toFixed(3) !== '0.000' ||
  0.9.toFixed(0) !== '1' ||
  1.255.toFixed(2) !== '1.25' ||
  1000000000000000128.0.toFixed(0) !== '1000000000000000128'
) || !require('./_fails')(function () {
  // V8 ~ Android 4.3-
  $toFixed.call({});
})), 'Number', {
  toFixed: function toFixed(fractionDigits) {
    var x = aNumberValue(this, ERROR);
    var f = toInteger(fractionDigits);
    var s = '';
    var m = ZERO;
    var e, z, j, k;
    if (f < 0 || f > 20) throw RangeError(ERROR);
    // eslint-disable-next-line no-self-compare
    if (x != x) return 'NaN';
    if (x <= -1e21 || x >= 1e21) return String(x);
    if (x < 0) {
      s = '-';
      x = -x;
    }
    if (x > 1e-21) {
      e = log(x * pow(2, 69, 1)) - 69;
      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);
      z *= 0x10000000000000;
      e = 52 - e;
      if (e > 0) {
        multiply(0, z);
        j = f;
        while (j >= 7) {
          multiply(1e7, 0);
          j -= 7;
        }
        multiply(pow(10, j, 1), 0);
        j = e - 1;
        while (j >= 23) {
          divide(1 << 23);
          j -= 23;
        }
        divide(1 << j);
        multiply(1, 1);
        divide(2);
        m = numToString();
      } else {
        multiply(0, z);
        multiply(1 << -e, 0);
        m = numToString() + repeat.call(ZERO, f);
      }
    }
    if (f > 0) {
      k = m.length;
      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));
    } else {
      m = s + m;
    } return m;
  }
});

},{"./_a-number-value":5,"./_export":34,"./_fails":36,"./_string-repeat":108,"./_to-integer":114}],188:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $fails = require('./_fails');
var aNumberValue = require('./_a-number-value');
var $toPrecision = 1.0.toPrecision;

$export($export.P + $export.F * ($fails(function () {
  // IE7-
  return $toPrecision.call(1, undefined) !== '1';
}) || !$fails(function () {
  // V8 ~ Android 4.3-
  $toPrecision.call({});
})), 'Number', {
  toPrecision: function toPrecision(precision) {
    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');
    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);
  }
});

},{"./_a-number-value":5,"./_export":34,"./_fails":36}],189:[function(require,module,exports){
// 19.1.3.1 Object.assign(target, source)
var $export = require('./_export');

$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });

},{"./_export":34,"./_object-assign":70}],190:[function(require,module,exports){
var $export = require('./_export');
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
$export($export.S, 'Object', { create: require('./_object-create') });

},{"./_export":34,"./_object-create":71}],191:[function(require,module,exports){
var $export = require('./_export');
// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)
$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });

},{"./_descriptors":30,"./_export":34,"./_object-dps":73}],192:[function(require,module,exports){
var $export = require('./_export');
// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });

},{"./_descriptors":30,"./_export":34,"./_object-dp":72}],193:[function(require,module,exports){
// 19.1.2.5 Object.freeze(O)
var isObject = require('./_is-object');
var meta = require('./_meta').onFreeze;

require('./_object-sap')('freeze', function ($freeze) {
  return function freeze(it) {
    return $freeze && isObject(it) ? $freeze(meta(it)) : it;
  };
});

},{"./_is-object":52,"./_meta":66,"./_object-sap":83}],194:[function(require,module,exports){
// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = require('./_to-iobject');
var $getOwnPropertyDescriptor = require('./_object-gopd').f;

require('./_object-sap')('getOwnPropertyDescriptor', function () {
  return function getOwnPropertyDescriptor(it, key) {
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});

},{"./_object-gopd":75,"./_object-sap":83,"./_to-iobject":115}],195:[function(require,module,exports){
// 19.1.2.7 Object.getOwnPropertyNames(O)
require('./_object-sap')('getOwnPropertyNames', function () {
  return require('./_object-gopn-ext').f;
});

},{"./_object-gopn-ext":76,"./_object-sap":83}],196:[function(require,module,exports){
// 19.1.2.9 Object.getPrototypeOf(O)
var toObject = require('./_to-object');
var $getPrototypeOf = require('./_object-gpo');

require('./_object-sap')('getPrototypeOf', function () {
  return function getPrototypeOf(it) {
    return $getPrototypeOf(toObject(it));
  };
});

},{"./_object-gpo":79,"./_object-sap":83,"./_to-object":117}],197:[function(require,module,exports){
// 19.1.2.11 Object.isExtensible(O)
var isObject = require('./_is-object');

require('./_object-sap')('isExtensible', function ($isExtensible) {
  return function isExtensible(it) {
    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;
  };
});

},{"./_is-object":52,"./_object-sap":83}],198:[function(require,module,exports){
// 19.1.2.12 Object.isFrozen(O)
var isObject = require('./_is-object');

require('./_object-sap')('isFrozen', function ($isFrozen) {
  return function isFrozen(it) {
    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;
  };
});

},{"./_is-object":52,"./_object-sap":83}],199:[function(require,module,exports){
// 19.1.2.13 Object.isSealed(O)
var isObject = require('./_is-object');

require('./_object-sap')('isSealed', function ($isSealed) {
  return function isSealed(it) {
    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;
  };
});

},{"./_is-object":52,"./_object-sap":83}],200:[function(require,module,exports){
// 19.1.3.10 Object.is(value1, value2)
var $export = require('./_export');
$export($export.S, 'Object', { is: require('./_same-value') });

},{"./_export":34,"./_same-value":94}],201:[function(require,module,exports){
// 19.1.2.14 Object.keys(O)
var toObject = require('./_to-object');
var $keys = require('./_object-keys');

require('./_object-sap')('keys', function () {
  return function keys(it) {
    return $keys(toObject(it));
  };
});

},{"./_object-keys":81,"./_object-sap":83,"./_to-object":117}],202:[function(require,module,exports){
// 19.1.2.15 Object.preventExtensions(O)
var isObject = require('./_is-object');
var meta = require('./_meta').onFreeze;

require('./_object-sap')('preventExtensions', function ($preventExtensions) {
  return function preventExtensions(it) {
    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;
  };
});

},{"./_is-object":52,"./_meta":66,"./_object-sap":83}],203:[function(require,module,exports){
// 19.1.2.17 Object.seal(O)
var isObject = require('./_is-object');
var meta = require('./_meta').onFreeze;

require('./_object-sap')('seal', function ($seal) {
  return function seal(it) {
    return $seal && isObject(it) ? $seal(meta(it)) : it;
  };
});

},{"./_is-object":52,"./_meta":66,"./_object-sap":83}],204:[function(require,module,exports){
// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $export = require('./_export');
$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });

},{"./_export":34,"./_set-proto":97}],205:[function(require,module,exports){
'use strict';
// 19.1.3.6 Object.prototype.toString()
var classof = require('./_classof');
var test = {};
test[require('./_wks')('toStringTag')] = 'z';
if (test + '' != '[object z]') {
  require('./_redefine')(Object.prototype, 'toString', function toString() {
    return '[object ' + classof(this) + ']';
  }, true);
}

},{"./_classof":18,"./_redefine":92,"./_wks":127}],206:[function(require,module,exports){
var $export = require('./_export');
var $parseFloat = require('./_parse-float');
// 18.2.4 parseFloat(string)
$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });

},{"./_export":34,"./_parse-float":86}],207:[function(require,module,exports){
var $export = require('./_export');
var $parseInt = require('./_parse-int');
// 18.2.5 parseInt(string, radix)
$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });

},{"./_export":34,"./_parse-int":87}],208:[function(require,module,exports){
'use strict';
var LIBRARY = require('./_library');
var global = require('./_global');
var ctx = require('./_ctx');
var classof = require('./_classof');
var $export = require('./_export');
var isObject = require('./_is-object');
var aFunction = require('./_a-function');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var speciesConstructor = require('./_species-constructor');
var task = require('./_task').set;
var microtask = require('./_microtask')();
var newPromiseCapabilityModule = require('./_new-promise-capability');
var perform = require('./_perform');
var userAgent = require('./_user-agent');
var promiseResolve = require('./_promise-resolve');
var PROMISE = 'Promise';
var TypeError = global.TypeError;
var process = global.process;
var versions = process && process.versions;
var v8 = versions && versions.v8 || '';
var $Promise = global[PROMISE];
var isNode = classof(process) == 'process';
var empty = function () { /* empty */ };
var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
var newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;

var USE_NATIVE = !!function () {
  try {
    // correct subclassing with @@species support
    var promise = $Promise.resolve(1);
    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {
      exec(empty, empty);
    };
    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    return (isNode || typeof PromiseRejectionEvent == 'function')
      && promise.then(empty) instanceof FakePromise
      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
      // we can't detect it synchronously, so just check versions
      && v8.indexOf('6.6') !== 0
      && userAgent.indexOf('Chrome/66') === -1;
  } catch (e) { /* empty */ }
}();

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function (promise, isReject) {
  if (promise._n) return;
  promise._n = true;
  var chain = promise._c;
  microtask(function () {
    var value = promise._v;
    var ok = promise._s == 1;
    var i = 0;
    var run = function (reaction) {
      var handler = ok ? reaction.ok : reaction.fail;
      var resolve = reaction.resolve;
      var reject = reaction.reject;
      var domain = reaction.domain;
      var result, then, exited;
      try {
        if (handler) {
          if (!ok) {
            if (promise._h == 2) onHandleUnhandled(promise);
            promise._h = 1;
          }
          if (handler === true) result = value;
          else {
            if (domain) domain.enter();
            result = handler(value); // may throw
            if (domain) {
              domain.exit();
              exited = true;
            }
          }
          if (result === reaction.promise) {
            reject(TypeError('Promise-chain cycle'));
          } else if (then = isThenable(result)) {
            then.call(result, resolve, reject);
          } else resolve(result);
        } else reject(value);
      } catch (e) {
        if (domain && !exited) domain.exit();
        reject(e);
      }
    };
    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach
    promise._c = [];
    promise._n = false;
    if (isReject && !promise._h) onUnhandled(promise);
  });
};
var onUnhandled = function (promise) {
  task.call(global, function () {
    var value = promise._v;
    var unhandled = isUnhandled(promise);
    var result, handler, console;
    if (unhandled) {
      result = perform(function () {
        if (isNode) {
          process.emit('unhandledRejection', value, promise);
        } else if (handler = global.onunhandledrejection) {
          handler({ promise: promise, reason: value });
        } else if ((console = global.console) && console.error) {
          console.error('Unhandled promise rejection', value);
        }
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
    } promise._a = undefined;
    if (unhandled && result.e) throw result.v;
  });
};
var isUnhandled = function (promise) {
  return promise._h !== 1 && (promise._a || promise._c).length === 0;
};
var onHandleUnhandled = function (promise) {
  task.call(global, function () {
    var handler;
    if (isNode) {
      process.emit('rejectionHandled', promise);
    } else if (handler = global.onrejectionhandled) {
      handler({ promise: promise, reason: promise._v });
    }
  });
};
var $reject = function (value) {
  var promise = this;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  promise._v = value;
  promise._s = 2;
  if (!promise._a) promise._a = promise._c.slice();
  notify(promise, true);
};
var $resolve = function (value) {
  var promise = this;
  var then;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  try {
    if (promise === value) throw TypeError("Promise can't be resolved itself");
    if (then = isThenable(value)) {
      microtask(function () {
        var wrapper = { _w: promise, _d: false }; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch (e) {
          $reject.call(wrapper, e);
        }
      });
    } else {
      promise._v = value;
      promise._s = 1;
      notify(promise, false);
    }
  } catch (e) {
    $reject.call({ _w: promise, _d: false }, e); // wrap
  }
};

// constructor polyfill
if (!USE_NATIVE) {
  // 25.4.3.1 Promise(executor)
  $Promise = function Promise(executor) {
    anInstance(this, $Promise, PROMISE, '_h');
    aFunction(executor);
    Internal.call(this);
    try {
      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
    } catch (err) {
      $reject.call(this, err);
    }
  };
  // eslint-disable-next-line no-unused-vars
  Internal = function Promise(executor) {
    this._c = [];             // <- awaiting reactions
    this._a = undefined;      // <- checked in isUnhandled reactions
    this._s = 0;              // <- state
    this._d = false;          // <- done
    this._v = undefined;      // <- value
    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
    this._n = false;          // <- notify
  };
  Internal.prototype = require('./_redefine-all')($Promise.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected) {
      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
      reaction.fail = typeof onRejected == 'function' && onRejected;
      reaction.domain = isNode ? process.domain : undefined;
      this._c.push(reaction);
      if (this._a) this._a.push(reaction);
      if (this._s) notify(this, false);
      return reaction.promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function (onRejected) {
      return this.then(undefined, onRejected);
    }
  });
  OwnPromiseCapability = function () {
    var promise = new Internal();
    this.promise = promise;
    this.resolve = ctx($resolve, promise, 1);
    this.reject = ctx($reject, promise, 1);
  };
  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === $Promise || C === Wrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });
require('./_set-to-string-tag')($Promise, PROMISE);
require('./_set-species')(PROMISE);
Wrapper = require('./_core')[PROMISE];

// statics
$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r) {
    var capability = newPromiseCapability(this);
    var $$reject = capability.reject;
    $$reject(r);
    return capability.promise;
  }
});
$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x) {
    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);
  }
});
$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {
  $Promise.all(iter)['catch'](empty);
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var values = [];
      var index = 0;
      var remaining = 1;
      forOf(iterable, false, function (promise) {
        var $index = index++;
        var alreadyCalled = false;
        values.push(undefined);
        remaining++;
        C.resolve(promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[$index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.e) reject(result.v);
    return capability.promise;
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var reject = capability.reject;
    var result = perform(function () {
      forOf(iterable, false, function (promise) {
        C.resolve(promise).then(capability.resolve, reject);
      });
    });
    if (result.e) reject(result.v);
    return capability.promise;
  }
});

},{"./_a-function":4,"./_an-instance":7,"./_classof":18,"./_core":24,"./_ctx":26,"./_export":34,"./_for-of":40,"./_global":41,"./_is-object":52,"./_iter-detect":57,"./_library":60,"./_microtask":68,"./_new-promise-capability":69,"./_perform":88,"./_promise-resolve":89,"./_redefine-all":91,"./_set-species":98,"./_set-to-string-tag":99,"./_species-constructor":102,"./_task":111,"./_user-agent":123,"./_wks":127}],209:[function(require,module,exports){
// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)
var $export = require('./_export');
var aFunction = require('./_a-function');
var anObject = require('./_an-object');
var rApply = (require('./_global').Reflect || {}).apply;
var fApply = Function.apply;
// MS Edge argumentsList argument is optional
$export($export.S + $export.F * !require('./_fails')(function () {
  rApply(function () { /* empty */ });
}), 'Reflect', {
  apply: function apply(target, thisArgument, argumentsList) {
    var T = aFunction(target);
    var L = anObject(argumentsList);
    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);
  }
});

},{"./_a-function":4,"./_an-object":8,"./_export":34,"./_fails":36,"./_global":41}],210:[function(require,module,exports){
// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])
var $export = require('./_export');
var create = require('./_object-create');
var aFunction = require('./_a-function');
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var fails = require('./_fails');
var bind = require('./_bind');
var rConstruct = (require('./_global').Reflect || {}).construct;

// MS Edge supports only 2 arguments and argumentsList argument is optional
// FF Nightly sets third argument as `new.target`, but does not create `this` from it
var NEW_TARGET_BUG = fails(function () {
  function F() { /* empty */ }
  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);
});
var ARGS_BUG = !fails(function () {
  rConstruct(function () { /* empty */ });
});

$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {
  construct: function construct(Target, args /* , newTarget */) {
    aFunction(Target);
    anObject(args);
    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);
    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);
    if (Target == newTarget) {
      // w/o altered newTarget, optimization for 0-4 arguments
      switch (args.length) {
        case 0: return new Target();
        case 1: return new Target(args[0]);
        case 2: return new Target(args[0], args[1]);
        case 3: return new Target(args[0], args[1], args[2]);
        case 4: return new Target(args[0], args[1], args[2], args[3]);
      }
      // w/o altered newTarget, lot of arguments case
      var $args = [null];
      $args.push.apply($args, args);
      return new (bind.apply(Target, $args))();
    }
    // with altered newTarget, not support built-in constructors
    var proto = newTarget.prototype;
    var instance = create(isObject(proto) ? proto : Object.prototype);
    var result = Function.apply.call(Target, instance, args);
    return isObject(result) ? result : instance;
  }
});

},{"./_a-function":4,"./_an-object":8,"./_bind":17,"./_export":34,"./_fails":36,"./_global":41,"./_is-object":52,"./_object-create":71}],211:[function(require,module,exports){
// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)
var dP = require('./_object-dp');
var $export = require('./_export');
var anObject = require('./_an-object');
var toPrimitive = require('./_to-primitive');

// MS Edge has broken Reflect.defineProperty - throwing instead of returning false
$export($export.S + $export.F * require('./_fails')(function () {
  // eslint-disable-next-line no-undef
  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });
}), 'Reflect', {
  defineProperty: function defineProperty(target, propertyKey, attributes) {
    anObject(target);
    propertyKey = toPrimitive(propertyKey, true);
    anObject(attributes);
    try {
      dP.f(target, propertyKey, attributes);
      return true;
    } catch (e) {
      return false;
    }
  }
});

},{"./_an-object":8,"./_export":34,"./_fails":36,"./_object-dp":72,"./_to-primitive":118}],212:[function(require,module,exports){
// 26.1.4 Reflect.deleteProperty(target, propertyKey)
var $export = require('./_export');
var gOPD = require('./_object-gopd').f;
var anObject = require('./_an-object');

$export($export.S, 'Reflect', {
  deleteProperty: function deleteProperty(target, propertyKey) {
    var desc = gOPD(anObject(target), propertyKey);
    return desc && !desc.configurable ? false : delete target[propertyKey];
  }
});

},{"./_an-object":8,"./_export":34,"./_object-gopd":75}],213:[function(require,module,exports){
'use strict';
// 26.1.5 Reflect.enumerate(target)
var $export = require('./_export');
var anObject = require('./_an-object');
var Enumerate = function (iterated) {
  this._t = anObject(iterated); // target
  this._i = 0;                  // next index
  var keys = this._k = [];      // keys
  var key;
  for (key in iterated) keys.push(key);
};
require('./_iter-create')(Enumerate, 'Object', function () {
  var that = this;
  var keys = that._k;
  var key;
  do {
    if (that._i >= keys.length) return { value: undefined, done: true };
  } while (!((key = keys[that._i++]) in that._t));
  return { value: key, done: false };
});

$export($export.S, 'Reflect', {
  enumerate: function enumerate(target) {
    return new Enumerate(target);
  }
});

},{"./_an-object":8,"./_export":34,"./_iter-create":55}],214:[function(require,module,exports){
// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)
var gOPD = require('./_object-gopd');
var $export = require('./_export');
var anObject = require('./_an-object');

$export($export.S, 'Reflect', {
  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {
    return gOPD.f(anObject(target), propertyKey);
  }
});

},{"./_an-object":8,"./_export":34,"./_object-gopd":75}],215:[function(require,module,exports){
// 26.1.8 Reflect.getPrototypeOf(target)
var $export = require('./_export');
var getProto = require('./_object-gpo');
var anObject = require('./_an-object');

$export($export.S, 'Reflect', {
  getPrototypeOf: function getPrototypeOf(target) {
    return getProto(anObject(target));
  }
});

},{"./_an-object":8,"./_export":34,"./_object-gpo":79}],216:[function(require,module,exports){
// 26.1.6 Reflect.get(target, propertyKey [, receiver])
var gOPD = require('./_object-gopd');
var getPrototypeOf = require('./_object-gpo');
var has = require('./_has');
var $export = require('./_export');
var isObject = require('./_is-object');
var anObject = require('./_an-object');

function get(target, propertyKey /* , receiver */) {
  var receiver = arguments.length < 3 ? target : arguments[2];
  var desc, proto;
  if (anObject(target) === receiver) return target[propertyKey];
  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')
    ? desc.value
    : desc.get !== undefined
      ? desc.get.call(receiver)
      : undefined;
  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);
}

$export($export.S, 'Reflect', { get: get });

},{"./_an-object":8,"./_export":34,"./_has":42,"./_is-object":52,"./_object-gopd":75,"./_object-gpo":79}],217:[function(require,module,exports){
// 26.1.9 Reflect.has(target, propertyKey)
var $export = require('./_export');

$export($export.S, 'Reflect', {
  has: function has(target, propertyKey) {
    return propertyKey in target;
  }
});

},{"./_export":34}],218:[function(require,module,exports){
// 26.1.10 Reflect.isExtensible(target)
var $export = require('./_export');
var anObject = require('./_an-object');
var $isExtensible = Object.isExtensible;

$export($export.S, 'Reflect', {
  isExtensible: function isExtensible(target) {
    anObject(target);
    return $isExtensible ? $isExtensible(target) : true;
  }
});

},{"./_an-object":8,"./_export":34}],219:[function(require,module,exports){
// 26.1.11 Reflect.ownKeys(target)
var $export = require('./_export');

$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });

},{"./_export":34,"./_own-keys":85}],220:[function(require,module,exports){
// 26.1.12 Reflect.preventExtensions(target)
var $export = require('./_export');
var anObject = require('./_an-object');
var $preventExtensions = Object.preventExtensions;

$export($export.S, 'Reflect', {
  preventExtensions: function preventExtensions(target) {
    anObject(target);
    try {
      if ($preventExtensions) $preventExtensions(target);
      return true;
    } catch (e) {
      return false;
    }
  }
});

},{"./_an-object":8,"./_export":34}],221:[function(require,module,exports){
// 26.1.14 Reflect.setPrototypeOf(target, proto)
var $export = require('./_export');
var setProto = require('./_set-proto');

if (setProto) $export($export.S, 'Reflect', {
  setPrototypeOf: function setPrototypeOf(target, proto) {
    setProto.check(target, proto);
    try {
      setProto.set(target, proto);
      return true;
    } catch (e) {
      return false;
    }
  }
});

},{"./_export":34,"./_set-proto":97}],222:[function(require,module,exports){
// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])
var dP = require('./_object-dp');
var gOPD = require('./_object-gopd');
var getPrototypeOf = require('./_object-gpo');
var has = require('./_has');
var $export = require('./_export');
var createDesc = require('./_property-desc');
var anObject = require('./_an-object');
var isObject = require('./_is-object');

function set(target, propertyKey, V /* , receiver */) {
  var receiver = arguments.length < 4 ? target : arguments[3];
  var ownDesc = gOPD.f(anObject(target), propertyKey);
  var existingDescriptor, proto;
  if (!ownDesc) {
    if (isObject(proto = getPrototypeOf(target))) {
      return set(proto, propertyKey, V, receiver);
    }
    ownDesc = createDesc(0);
  }
  if (has(ownDesc, 'value')) {
    if (ownDesc.writable === false || !isObject(receiver)) return false;
    if (existingDescriptor = gOPD.f(receiver, propertyKey)) {
      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;
      existingDescriptor.value = V;
      dP.f(receiver, propertyKey, existingDescriptor);
    } else dP.f(receiver, propertyKey, createDesc(0, V));
    return true;
  }
  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);
}

$export($export.S, 'Reflect', { set: set });

},{"./_an-object":8,"./_export":34,"./_has":42,"./_is-object":52,"./_object-dp":72,"./_object-gopd":75,"./_object-gpo":79,"./_property-desc":90}],223:[function(require,module,exports){
var global = require('./_global');
var inheritIfRequired = require('./_inherit-if-required');
var dP = require('./_object-dp').f;
var gOPN = require('./_object-gopn').f;
var isRegExp = require('./_is-regexp');
var $flags = require('./_flags');
var $RegExp = global.RegExp;
var Base = $RegExp;
var proto = $RegExp.prototype;
var re1 = /a/g;
var re2 = /a/g;
// "new" creates a new object, old webkit buggy here
var CORRECT_NEW = new $RegExp(re1) !== re1;

if (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {
  re2[require('./_wks')('match')] = false;
  // RegExp constructor can alter flags and IsRegExp works correct with @@match
  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';
}))) {
  $RegExp = function RegExp(p, f) {
    var tiRE = this instanceof $RegExp;
    var piRE = isRegExp(p);
    var fiU = f === undefined;
    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p
      : inheritIfRequired(CORRECT_NEW
        ? new Base(piRE && !fiU ? p.source : p, f)
        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)
      , tiRE ? this : proto, $RegExp);
  };
  var proxy = function (key) {
    key in $RegExp || dP($RegExp, key, {
      configurable: true,
      get: function () { return Base[key]; },
      set: function (it) { Base[key] = it; }
    });
  };
  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);
  proto.constructor = $RegExp;
  $RegExp.prototype = proto;
  require('./_redefine')(global, 'RegExp', $RegExp);
}

require('./_set-species')('RegExp');

},{"./_descriptors":30,"./_fails":36,"./_flags":38,"./_global":41,"./_inherit-if-required":46,"./_is-regexp":53,"./_object-dp":72,"./_object-gopn":77,"./_redefine":92,"./_set-species":98,"./_wks":127}],224:[function(require,module,exports){
// 21.2.5.3 get RegExp.prototype.flags()
if (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {
  configurable: true,
  get: require('./_flags')
});

},{"./_descriptors":30,"./_flags":38,"./_object-dp":72}],225:[function(require,module,exports){
// @@match logic
require('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {
  // 21.1.3.11 String.prototype.match(regexp)
  return [function match(regexp) {
    'use strict';
    var O = defined(this);
    var fn = regexp == undefined ? undefined : regexp[MATCH];
    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));
  }, $match];
});

},{"./_fix-re-wks":37}],226:[function(require,module,exports){
// @@replace logic
require('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {
  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)
  return [function replace(searchValue, replaceValue) {
    'use strict';
    var O = defined(this);
    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];
    return fn !== undefined
      ? fn.call(searchValue, O, replaceValue)
      : $replace.call(String(O), searchValue, replaceValue);
  }, $replace];
});

},{"./_fix-re-wks":37}],227:[function(require,module,exports){
// @@search logic
require('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {
  // 21.1.3.15 String.prototype.search(regexp)
  return [function search(regexp) {
    'use strict';
    var O = defined(this);
    var fn = regexp == undefined ? undefined : regexp[SEARCH];
    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));
  }, $search];
});

},{"./_fix-re-wks":37}],228:[function(require,module,exports){
// @@split logic
require('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {
  'use strict';
  var isRegExp = require('./_is-regexp');
  var _split = $split;
  var $push = [].push;
  var $SPLIT = 'split';
  var LENGTH = 'length';
  var LAST_INDEX = 'lastIndex';
  if (
    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||
    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||
    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||
    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||
    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||
    ''[$SPLIT](/.?/)[LENGTH]
  ) {
    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group
    // based on es5-shim implementation, need to rework it
    $split = function (separator, limit) {
      var string = String(this);
      if (separator === undefined && limit === 0) return [];
      // If `separator` is not a regex, use native split
      if (!isRegExp(separator)) return _split.call(string, separator, limit);
      var output = [];
      var flags = (separator.ignoreCase ? 'i' : '') +
                  (separator.multiline ? 'm' : '') +
                  (separator.unicode ? 'u' : '') +
                  (separator.sticky ? 'y' : '');
      var lastLastIndex = 0;
      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;
      // Make `global` and avoid `lastIndex` issues by working with a copy
      var separatorCopy = new RegExp(separator.source, flags + 'g');
      var separator2, match, lastIndex, lastLength, i;
      // Doesn't need flags gy, but they don't hurt
      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\s)', flags);
      while (match = separatorCopy.exec(string)) {
        // `separatorCopy.lastIndex` is not reliable cross-browser
        lastIndex = match.index + match[0][LENGTH];
        if (lastIndex > lastLastIndex) {
          output.push(string.slice(lastLastIndex, match.index));
          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG
          // eslint-disable-next-line no-loop-func
          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {
            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;
          });
          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));
          lastLength = match[0][LENGTH];
          lastLastIndex = lastIndex;
          if (output[LENGTH] >= splitLimit) break;
        }
        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop
      }
      if (lastLastIndex === string[LENGTH]) {
        if (lastLength || !separatorCopy.test('')) output.push('');
      } else output.push(string.slice(lastLastIndex));
      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;
    };
  // Chakra, V8
  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {
    $split = function (separator, limit) {
      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);
    };
  }
  // 21.1.3.17 String.prototype.split(separator, limit)
  return [function split(separator, limit) {
    var O = defined(this);
    var fn = separator == undefined ? undefined : separator[SPLIT];
    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);
  }, $split];
});

},{"./_fix-re-wks":37,"./_is-regexp":53}],229:[function(require,module,exports){
'use strict';
require('./es6.regexp.flags');
var anObject = require('./_an-object');
var $flags = require('./_flags');
var DESCRIPTORS = require('./_descriptors');
var TO_STRING = 'toString';
var $toString = /./[TO_STRING];

var define = function (fn) {
  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);
};

// 21.2.5.14 RegExp.prototype.toString()
if (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {
  define(function toString() {
    var R = anObject(this);
    return '/'.concat(R.source, '/',
      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);
  });
// FF44- RegExp#toString has a wrong name
} else if ($toString.name != TO_STRING) {
  define(function toString() {
    return $toString.call(this);
  });
}

},{"./_an-object":8,"./_descriptors":30,"./_fails":36,"./_flags":38,"./_redefine":92,"./es6.regexp.flags":224}],230:[function(require,module,exports){
'use strict';
var strong = require('./_collection-strong');
var validate = require('./_validate-collection');
var SET = 'Set';

// 23.2 Set Objects
module.exports = require('./_collection')(SET, function (get) {
  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.2.3.1 Set.prototype.add(value)
  add: function add(value) {
    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);
  }
}, strong);

},{"./_collection":23,"./_collection-strong":20,"./_validate-collection":124}],231:[function(require,module,exports){
'use strict';
// B.2.3.2 String.prototype.anchor(name)
require('./_string-html')('anchor', function (createHTML) {
  return function anchor(name) {
    return createHTML(this, 'a', 'name', name);
  };
});

},{"./_string-html":106}],232:[function(require,module,exports){
'use strict';
// B.2.3.3 String.prototype.big()
require('./_string-html')('big', function (createHTML) {
  return function big() {
    return createHTML(this, 'big', '', '');
  };
});

},{"./_string-html":106}],233:[function(require,module,exports){
'use strict';
// B.2.3.4 String.prototype.blink()
require('./_string-html')('blink', function (createHTML) {
  return function blink() {
    return createHTML(this, 'blink', '', '');
  };
});

},{"./_string-html":106}],234:[function(require,module,exports){
'use strict';
// B.2.3.5 String.prototype.bold()
require('./_string-html')('bold', function (createHTML) {
  return function bold() {
    return createHTML(this, 'b', '', '');
  };
});

},{"./_string-html":106}],235:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $at = require('./_string-at')(false);
$export($export.P, 'String', {
  // 21.1.3.3 String.prototype.codePointAt(pos)
  codePointAt: function codePointAt(pos) {
    return $at(this, pos);
  }
});

},{"./_export":34,"./_string-at":104}],236:[function(require,module,exports){
// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])
'use strict';
var $export = require('./_export');
var toLength = require('./_to-length');
var context = require('./_string-context');
var ENDS_WITH = 'endsWith';
var $endsWith = ''[ENDS_WITH];

$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {
  endsWith: function endsWith(searchString /* , endPosition = @length */) {
    var that = context(this, searchString, ENDS_WITH);
    var endPosition = arguments.length > 1 ? arguments[1] : undefined;
    var len = toLength(that.length);
    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);
    var search = String(searchString);
    return $endsWith
      ? $endsWith.call(that, search, end)
      : that.slice(end - search.length, end) === search;
  }
});

},{"./_export":34,"./_fails-is-regexp":35,"./_string-context":105,"./_to-length":116}],237:[function(require,module,exports){
'use strict';
// B.2.3.6 String.prototype.fixed()
require('./_string-html')('fixed', function (createHTML) {
  return function fixed() {
    return createHTML(this, 'tt', '', '');
  };
});

},{"./_string-html":106}],238:[function(require,module,exports){
'use strict';
// B.2.3.7 String.prototype.fontcolor(color)
require('./_string-html')('fontcolor', function (createHTML) {
  return function fontcolor(color) {
    return createHTML(this, 'font', 'color', color);
  };
});

},{"./_string-html":106}],239:[function(require,module,exports){
'use strict';
// B.2.3.8 String.prototype.fontsize(size)
require('./_string-html')('fontsize', function (createHTML) {
  return function fontsize(size) {
    return createHTML(this, 'font', 'size', size);
  };
});

},{"./_string-html":106}],240:[function(require,module,exports){
var $export = require('./_export');
var toAbsoluteIndex = require('./_to-absolute-index');
var fromCharCode = String.fromCharCode;
var $fromCodePoint = String.fromCodePoint;

// length should be 1, old FF problem
$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {
  // 21.1.2.2 String.fromCodePoint(...codePoints)
  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars
    var res = [];
    var aLen = arguments.length;
    var i = 0;
    var code;
    while (aLen > i) {
      code = +arguments[i++];
      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');
      res.push(code < 0x10000
        ? fromCharCode(code)
        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)
      );
    } return res.join('');
  }
});

},{"./_export":34,"./_to-absolute-index":112}],241:[function(require,module,exports){
// 21.1.3.7 String.prototype.includes(searchString, position = 0)
'use strict';
var $export = require('./_export');
var context = require('./_string-context');
var INCLUDES = 'includes';

$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {
  includes: function includes(searchString /* , position = 0 */) {
    return !!~context(this, searchString, INCLUDES)
      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);
  }
});

},{"./_export":34,"./_fails-is-regexp":35,"./_string-context":105}],242:[function(require,module,exports){
'use strict';
// B.2.3.9 String.prototype.italics()
require('./_string-html')('italics', function (createHTML) {
  return function italics() {
    return createHTML(this, 'i', '', '');
  };
});

},{"./_string-html":106}],243:[function(require,module,exports){
'use strict';
var $at = require('./_string-at')(true);

// 21.1.3.27 String.prototype[@@iterator]()
require('./_iter-define')(String, 'String', function (iterated) {
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var index = this._i;
  var point;
  if (index >= O.length) return { value: undefined, done: true };
  point = $at(O, index);
  this._i += point.length;
  return { value: point, done: false };
});

},{"./_iter-define":56,"./_string-at":104}],244:[function(require,module,exports){
'use strict';
// B.2.3.10 String.prototype.link(url)
require('./_string-html')('link', function (createHTML) {
  return function link(url) {
    return createHTML(this, 'a', 'href', url);
  };
});

},{"./_string-html":106}],245:[function(require,module,exports){
var $export = require('./_export');
var toIObject = require('./_to-iobject');
var toLength = require('./_to-length');

$export($export.S, 'String', {
  // 21.1.2.4 String.raw(callSite, ...substitutions)
  raw: function raw(callSite) {
    var tpl = toIObject(callSite.raw);
    var len = toLength(tpl.length);
    var aLen = arguments.length;
    var res = [];
    var i = 0;
    while (len > i) {
      res.push(String(tpl[i++]));
      if (i < aLen) res.push(String(arguments[i]));
    } return res.join('');
  }
});

},{"./_export":34,"./_to-iobject":115,"./_to-length":116}],246:[function(require,module,exports){
var $export = require('./_export');

$export($export.P, 'String', {
  // 21.1.3.13 String.prototype.repeat(count)
  repeat: require('./_string-repeat')
});

},{"./_export":34,"./_string-repeat":108}],247:[function(require,module,exports){
'use strict';
// B.2.3.11 String.prototype.small()
require('./_string-html')('small', function (createHTML) {
  return function small() {
    return createHTML(this, 'small', '', '');
  };
});

},{"./_string-html":106}],248:[function(require,module,exports){
// 21.1.3.18 String.prototype.startsWith(searchString [, position ])
'use strict';
var $export = require('./_export');
var toLength = require('./_to-length');
var context = require('./_string-context');
var STARTS_WITH = 'startsWith';
var $startsWith = ''[STARTS_WITH];

$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {
  startsWith: function startsWith(searchString /* , position = 0 */) {
    var that = context(this, searchString, STARTS_WITH);
    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));
    var search = String(searchString);
    return $startsWith
      ? $startsWith.call(that, search, index)
      : that.slice(index, index + search.length) === search;
  }
});

},{"./_export":34,"./_fails-is-regexp":35,"./_string-context":105,"./_to-length":116}],249:[function(require,module,exports){
'use strict';
// B.2.3.12 String.prototype.strike()
require('./_string-html')('strike', function (createHTML) {
  return function strike() {
    return createHTML(this, 'strike', '', '');
  };
});

},{"./_string-html":106}],250:[function(require,module,exports){
'use strict';
// B.2.3.13 String.prototype.sub()
require('./_string-html')('sub', function (createHTML) {
  return function sub() {
    return createHTML(this, 'sub', '', '');
  };
});

},{"./_string-html":106}],251:[function(require,module,exports){
'use strict';
// B.2.3.14 String.prototype.sup()
require('./_string-html')('sup', function (createHTML) {
  return function sup() {
    return createHTML(this, 'sup', '', '');
  };
});

},{"./_string-html":106}],252:[function(require,module,exports){
'use strict';
// 21.1.3.25 String.prototype.trim()
require('./_string-trim')('trim', function ($trim) {
  return function trim() {
    return $trim(this, 3);
  };
});

},{"./_string-trim":109}],253:[function(require,module,exports){
'use strict';
// ECMAScript 6 symbols shim
var global = require('./_global');
var has = require('./_has');
var DESCRIPTORS = require('./_descriptors');
var $export = require('./_export');
var redefine = require('./_redefine');
var META = require('./_meta').KEY;
var $fails = require('./_fails');
var shared = require('./_shared');
var setToStringTag = require('./_set-to-string-tag');
var uid = require('./_uid');
var wks = require('./_wks');
var wksExt = require('./_wks-ext');
var wksDefine = require('./_wks-define');
var enumKeys = require('./_enum-keys');
var isArray = require('./_is-array');
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var toIObject = require('./_to-iobject');
var toPrimitive = require('./_to-primitive');
var createDesc = require('./_property-desc');
var _create = require('./_object-create');
var gOPNExt = require('./_object-gopn-ext');
var $GOPD = require('./_object-gopd');
var $DP = require('./_object-dp');
var $keys = require('./_object-keys');
var gOPD = $GOPD.f;
var dP = $DP.f;
var gOPN = gOPNExt.f;
var $Symbol = global.Symbol;
var $JSON = global.JSON;
var _stringify = $JSON && $JSON.stringify;
var PROTOTYPE = 'prototype';
var HIDDEN = wks('_hidden');
var TO_PRIMITIVE = wks('toPrimitive');
var isEnum = {}.propertyIsEnumerable;
var SymbolRegistry = shared('symbol-registry');
var AllSymbols = shared('symbols');
var OPSymbols = shared('op-symbols');
var ObjectProto = Object[PROTOTYPE];
var USE_NATIVE = typeof $Symbol == 'function';
var QObject = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function () {
  return _create(dP({}, 'a', {
    get: function () { return dP(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (it, key, D) {
  var protoDesc = gOPD(ObjectProto, key);
  if (protoDesc) delete ObjectProto[key];
  dP(it, key, D);
  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function (tag) {
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D) {
  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if (has(AllSymbols, key)) {
    if (!D.enumerable) {
      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
      D = _create(D, { enumerable: createDesc(0, false) });
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P) {
  anObject(it);
  var keys = enumKeys(P = toIObject(P));
  var i = 0;
  var l = keys.length;
  var key;
  while (l > i) $defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P) {
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key) {
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
  it = toIObject(it);
  key = toPrimitive(key, true);
  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
  var D = gOPD(it, key);
  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it) {
  var names = gOPN(toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
  var IS_OP = it === ObjectProto;
  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if (!USE_NATIVE) {
  $Symbol = function Symbol() {
    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function (value) {
      if (this === ObjectProto) $set.call(OPSymbols, value);
      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString() {
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f = $defineProperty;
  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;
  require('./_object-pie').f = $propertyIsEnumerable;
  require('./_object-gops').f = $getOwnPropertySymbols;

  if (DESCRIPTORS && !require('./_library')) {
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function (name) {
    return wrap(wks(name));
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });

for (var es6Symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);

for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function (key) {
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');
    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;
  },
  useSetter: function () { setter = true; },
  useSimple: function () { setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it) {
    var args = [it];
    var i = 1;
    var replacer, $replacer;
    while (arguments.length > i) args.push(arguments[i++]);
    $replacer = replacer = args[1];
    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
    if (!isArray(replacer)) replacer = function (key, value) {
      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
      if (!isSymbol(value)) return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);

},{"./_an-object":8,"./_descriptors":30,"./_enum-keys":33,"./_export":34,"./_fails":36,"./_global":41,"./_has":42,"./_hide":43,"./_is-array":50,"./_is-object":52,"./_library":60,"./_meta":66,"./_object-create":71,"./_object-dp":72,"./_object-gopd":75,"./_object-gopn":77,"./_object-gopn-ext":76,"./_object-gops":78,"./_object-keys":81,"./_object-pie":82,"./_property-desc":90,"./_redefine":92,"./_set-to-string-tag":99,"./_shared":101,"./_to-iobject":115,"./_to-primitive":118,"./_uid":122,"./_wks":127,"./_wks-define":125,"./_wks-ext":126}],254:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $typed = require('./_typed');
var buffer = require('./_typed-buffer');
var anObject = require('./_an-object');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');
var isObject = require('./_is-object');
var ArrayBuffer = require('./_global').ArrayBuffer;
var speciesConstructor = require('./_species-constructor');
var $ArrayBuffer = buffer.ArrayBuffer;
var $DataView = buffer.DataView;
var $isView = $typed.ABV && ArrayBuffer.isView;
var $slice = $ArrayBuffer.prototype.slice;
var VIEW = $typed.VIEW;
var ARRAY_BUFFER = 'ArrayBuffer';

$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });

$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {
  // 24.1.3.1 ArrayBuffer.isView(arg)
  isView: function isView(it) {
    return $isView && $isView(it) || isObject(it) && VIEW in it;
  }
});

$export($export.P + $export.U + $export.F * require('./_fails')(function () {
  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;
}), ARRAY_BUFFER, {
  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)
  slice: function slice(start, end) {
    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start); // FF fix
    var len = anObject(this).byteLength;
    var first = toAbsoluteIndex(start, len);
    var final = toAbsoluteIndex(end === undefined ? len : end, len);
    var result = new (speciesConstructor(this, $ArrayBuffer))(toLength(final - first));
    var viewS = new $DataView(this);
    var viewT = new $DataView(result);
    var index = 0;
    while (first < final) {
      viewT.setUint8(index++, viewS.getUint8(first++));
    } return result;
  }
});

require('./_set-species')(ARRAY_BUFFER);

},{"./_an-object":8,"./_export":34,"./_fails":36,"./_global":41,"./_is-object":52,"./_set-species":98,"./_species-constructor":102,"./_to-absolute-index":112,"./_to-length":116,"./_typed":121,"./_typed-buffer":120}],255:[function(require,module,exports){
var $export = require('./_export');
$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {
  DataView: require('./_typed-buffer').DataView
});

},{"./_export":34,"./_typed":121,"./_typed-buffer":120}],256:[function(require,module,exports){
require('./_typed-array')('Float32', 4, function (init) {
  return function Float32Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":119}],257:[function(require,module,exports){
require('./_typed-array')('Float64', 8, function (init) {
  return function Float64Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":119}],258:[function(require,module,exports){
require('./_typed-array')('Int16', 2, function (init) {
  return function Int16Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":119}],259:[function(require,module,exports){
require('./_typed-array')('Int32', 4, function (init) {
  return function Int32Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":119}],260:[function(require,module,exports){
require('./_typed-array')('Int8', 1, function (init) {
  return function Int8Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":119}],261:[function(require,module,exports){
require('./_typed-array')('Uint16', 2, function (init) {
  return function Uint16Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":119}],262:[function(require,module,exports){
require('./_typed-array')('Uint32', 4, function (init) {
  return function Uint32Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":119}],263:[function(require,module,exports){
require('./_typed-array')('Uint8', 1, function (init) {
  return function Uint8Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":119}],264:[function(require,module,exports){
require('./_typed-array')('Uint8', 1, function (init) {
  return function Uint8ClampedArray(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
}, true);

},{"./_typed-array":119}],265:[function(require,module,exports){
'use strict';
var each = require('./_array-methods')(0);
var redefine = require('./_redefine');
var meta = require('./_meta');
var assign = require('./_object-assign');
var weak = require('./_collection-weak');
var isObject = require('./_is-object');
var fails = require('./_fails');
var validate = require('./_validate-collection');
var WEAK_MAP = 'WeakMap';
var getWeak = meta.getWeak;
var isExtensible = Object.isExtensible;
var uncaughtFrozenStore = weak.ufstore;
var tmp = {};
var InternalMap;

var wrapper = function (get) {
  return function WeakMap() {
    return get(this, arguments.length > 0 ? arguments[0] : undefined);
  };
};

var methods = {
  // 23.3.3.3 WeakMap.prototype.get(key)
  get: function get(key) {
    if (isObject(key)) {
      var data = getWeak(key);
      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);
      return data ? data[this._i] : undefined;
    }
  },
  // 23.3.3.5 WeakMap.prototype.set(key, value)
  set: function set(key, value) {
    return weak.def(validate(this, WEAK_MAP), key, value);
  }
};

// 23.3 WeakMap Objects
var $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);

// IE11 WeakMap frozen keys fix
if (fails(function () { return new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7; })) {
  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);
  assign(InternalMap.prototype, methods);
  meta.NEED = true;
  each(['delete', 'has', 'get', 'set'], function (key) {
    var proto = $WeakMap.prototype;
    var method = proto[key];
    redefine(proto, key, function (a, b) {
      // store frozen objects on internal weakmap shim
      if (isObject(a) && !isExtensible(a)) {
        if (!this._f) this._f = new InternalMap();
        var result = this._f[key](a, b);
        return key == 'set' ? this : result;
      // store all the rest on native weakmap
      } return method.call(this, a, b);
    });
  });
}

},{"./_array-methods":13,"./_collection":23,"./_collection-weak":22,"./_fails":36,"./_is-object":52,"./_meta":66,"./_object-assign":70,"./_redefine":92,"./_validate-collection":124}],266:[function(require,module,exports){
'use strict';
var weak = require('./_collection-weak');
var validate = require('./_validate-collection');
var WEAK_SET = 'WeakSet';

// 23.4 WeakSet Objects
require('./_collection')(WEAK_SET, function (get) {
  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.4.3.1 WeakSet.prototype.add(value)
  add: function add(value) {
    return weak.def(validate(this, WEAK_SET), value, true);
  }
}, weak, false, true);

},{"./_collection":23,"./_collection-weak":22,"./_validate-collection":124}],267:[function(require,module,exports){
'use strict';
// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap
var $export = require('./_export');
var flattenIntoArray = require('./_flatten-into-array');
var toObject = require('./_to-object');
var toLength = require('./_to-length');
var aFunction = require('./_a-function');
var arraySpeciesCreate = require('./_array-species-create');

$export($export.P, 'Array', {
  flatMap: function flatMap(callbackfn /* , thisArg */) {
    var O = toObject(this);
    var sourceLen, A;
    aFunction(callbackfn);
    sourceLen = toLength(O.length);
    A = arraySpeciesCreate(O, 0);
    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);
    return A;
  }
});

require('./_add-to-unscopables')('flatMap');

},{"./_a-function":4,"./_add-to-unscopables":6,"./_array-species-create":16,"./_export":34,"./_flatten-into-array":39,"./_to-length":116,"./_to-object":117}],268:[function(require,module,exports){
'use strict';
// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatten
var $export = require('./_export');
var flattenIntoArray = require('./_flatten-into-array');
var toObject = require('./_to-object');
var toLength = require('./_to-length');
var toInteger = require('./_to-integer');
var arraySpeciesCreate = require('./_array-species-create');

$export($export.P, 'Array', {
  flatten: function flatten(/* depthArg = 1 */) {
    var depthArg = arguments[0];
    var O = toObject(this);
    var sourceLen = toLength(O.length);
    var A = arraySpeciesCreate(O, 0);
    flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));
    return A;
  }
});

require('./_add-to-unscopables')('flatten');

},{"./_add-to-unscopables":6,"./_array-species-create":16,"./_export":34,"./_flatten-into-array":39,"./_to-integer":114,"./_to-length":116,"./_to-object":117}],269:[function(require,module,exports){
'use strict';
// https://github.com/tc39/Array.prototype.includes
var $export = require('./_export');
var $includes = require('./_array-includes')(true);

$export($export.P, 'Array', {
  includes: function includes(el /* , fromIndex = 0 */) {
    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);
  }
});

require('./_add-to-unscopables')('includes');

},{"./_add-to-unscopables":6,"./_array-includes":12,"./_export":34}],270:[function(require,module,exports){
// https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask
var $export = require('./_export');
var microtask = require('./_microtask')();
var process = require('./_global').process;
var isNode = require('./_cof')(process) == 'process';

$export($export.G, {
  asap: function asap(fn) {
    var domain = isNode && process.domain;
    microtask(domain ? domain.bind(fn) : fn);
  }
});

},{"./_cof":19,"./_export":34,"./_global":41,"./_microtask":68}],271:[function(require,module,exports){
// https://github.com/ljharb/proposal-is-error
var $export = require('./_export');
var cof = require('./_cof');

$export($export.S, 'Error', {
  isError: function isError(it) {
    return cof(it) === 'Error';
  }
});

},{"./_cof":19,"./_export":34}],272:[function(require,module,exports){
// https://github.com/tc39/proposal-global
var $export = require('./_export');

$export($export.G, { global: require('./_global') });

},{"./_export":34,"./_global":41}],273:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from
require('./_set-collection-from')('Map');

},{"./_set-collection-from":95}],274:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of
require('./_set-collection-of')('Map');

},{"./_set-collection-of":96}],275:[function(require,module,exports){
// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var $export = require('./_export');

$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });

},{"./_collection-to-json":21,"./_export":34}],276:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');

$export($export.S, 'Math', {
  clamp: function clamp(x, lower, upper) {
    return Math.min(upper, Math.max(lower, x));
  }
});

},{"./_export":34}],277:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');

$export($export.S, 'Math', { DEG_PER_RAD: Math.PI / 180 });

},{"./_export":34}],278:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');
var RAD_PER_DEG = 180 / Math.PI;

$export($export.S, 'Math', {
  degrees: function degrees(radians) {
    return radians * RAD_PER_DEG;
  }
});

},{"./_export":34}],279:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');
var scale = require('./_math-scale');
var fround = require('./_math-fround');

$export($export.S, 'Math', {
  fscale: function fscale(x, inLow, inHigh, outLow, outHigh) {
    return fround(scale(x, inLow, inHigh, outLow, outHigh));
  }
});

},{"./_export":34,"./_math-fround":62,"./_math-scale":64}],280:[function(require,module,exports){
// https://gist.github.com/BrendanEich/4294d5c212a6d2254703
var $export = require('./_export');

$export($export.S, 'Math', {
  iaddh: function iaddh(x0, x1, y0, y1) {
    var $x0 = x0 >>> 0;
    var $x1 = x1 >>> 0;
    var $y0 = y0 >>> 0;
    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;
  }
});

},{"./_export":34}],281:[function(require,module,exports){
// https://gist.github.com/BrendanEich/4294d5c212a6d2254703
var $export = require('./_export');

$export($export.S, 'Math', {
  imulh: function imulh(u, v) {
    var UINT16 = 0xffff;
    var $u = +u;
    var $v = +v;
    var u0 = $u & UINT16;
    var v0 = $v & UINT16;
    var u1 = $u >> 16;
    var v1 = $v >> 16;
    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);
    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);
  }
});

},{"./_export":34}],282:[function(require,module,exports){
// https://gist.github.com/BrendanEich/4294d5c212a6d2254703
var $export = require('./_export');

$export($export.S, 'Math', {
  isubh: function isubh(x0, x1, y0, y1) {
    var $x0 = x0 >>> 0;
    var $x1 = x1 >>> 0;
    var $y0 = y0 >>> 0;
    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;
  }
});

},{"./_export":34}],283:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');

$export($export.S, 'Math', { RAD_PER_DEG: 180 / Math.PI });

},{"./_export":34}],284:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');
var DEG_PER_RAD = Math.PI / 180;

$export($export.S, 'Math', {
  radians: function radians(degrees) {
    return degrees * DEG_PER_RAD;
  }
});

},{"./_export":34}],285:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');

$export($export.S, 'Math', { scale: require('./_math-scale') });

},{"./_export":34,"./_math-scale":64}],286:[function(require,module,exports){
// http://jfbastien.github.io/papers/Math.signbit.html
var $export = require('./_export');

$export($export.S, 'Math', { signbit: function signbit(x) {
  // eslint-disable-next-line no-self-compare
  return (x = +x) != x ? x : x == 0 ? 1 / x == Infinity : x > 0;
} });

},{"./_export":34}],287:[function(require,module,exports){
// https://gist.github.com/BrendanEich/4294d5c212a6d2254703
var $export = require('./_export');

$export($export.S, 'Math', {
  umulh: function umulh(u, v) {
    var UINT16 = 0xffff;
    var $u = +u;
    var $v = +v;
    var u0 = $u & UINT16;
    var v0 = $v & UINT16;
    var u1 = $u >>> 16;
    var v1 = $v >>> 16;
    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);
    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);
  }
});

},{"./_export":34}],288:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toObject = require('./_to-object');
var aFunction = require('./_a-function');
var $defineProperty = require('./_object-dp');

// B.2.2.2 Object.prototype.__defineGetter__(P, getter)
require('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {
  __defineGetter__: function __defineGetter__(P, getter) {
    $defineProperty.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });
  }
});

},{"./_a-function":4,"./_descriptors":30,"./_export":34,"./_object-dp":72,"./_object-forced-pam":74,"./_to-object":117}],289:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toObject = require('./_to-object');
var aFunction = require('./_a-function');
var $defineProperty = require('./_object-dp');

// B.2.2.3 Object.prototype.__defineSetter__(P, setter)
require('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {
  __defineSetter__: function __defineSetter__(P, setter) {
    $defineProperty.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });
  }
});

},{"./_a-function":4,"./_descriptors":30,"./_export":34,"./_object-dp":72,"./_object-forced-pam":74,"./_to-object":117}],290:[function(require,module,exports){
// https://github.com/tc39/proposal-object-values-entries
var $export = require('./_export');
var $entries = require('./_object-to-array')(true);

$export($export.S, 'Object', {
  entries: function entries(it) {
    return $entries(it);
  }
});

},{"./_export":34,"./_object-to-array":84}],291:[function(require,module,exports){
// https://github.com/tc39/proposal-object-getownpropertydescriptors
var $export = require('./_export');
var ownKeys = require('./_own-keys');
var toIObject = require('./_to-iobject');
var gOPD = require('./_object-gopd');
var createProperty = require('./_create-property');

$export($export.S, 'Object', {
  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
    var O = toIObject(object);
    var getDesc = gOPD.f;
    var keys = ownKeys(O);
    var result = {};
    var i = 0;
    var key, desc;
    while (keys.length > i) {
      desc = getDesc(O, key = keys[i++]);
      if (desc !== undefined) createProperty(result, key, desc);
    }
    return result;
  }
});

},{"./_create-property":25,"./_export":34,"./_object-gopd":75,"./_own-keys":85,"./_to-iobject":115}],292:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toObject = require('./_to-object');
var toPrimitive = require('./_to-primitive');
var getPrototypeOf = require('./_object-gpo');
var getOwnPropertyDescriptor = require('./_object-gopd').f;

// B.2.2.4 Object.prototype.__lookupGetter__(P)
require('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {
  __lookupGetter__: function __lookupGetter__(P) {
    var O = toObject(this);
    var K = toPrimitive(P, true);
    var D;
    do {
      if (D = getOwnPropertyDescriptor(O, K)) return D.get;
    } while (O = getPrototypeOf(O));
  }
});

},{"./_descriptors":30,"./_export":34,"./_object-forced-pam":74,"./_object-gopd":75,"./_object-gpo":79,"./_to-object":117,"./_to-primitive":118}],293:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toObject = require('./_to-object');
var toPrimitive = require('./_to-primitive');
var getPrototypeOf = require('./_object-gpo');
var getOwnPropertyDescriptor = require('./_object-gopd').f;

// B.2.2.5 Object.prototype.__lookupSetter__(P)
require('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {
  __lookupSetter__: function __lookupSetter__(P) {
    var O = toObject(this);
    var K = toPrimitive(P, true);
    var D;
    do {
      if (D = getOwnPropertyDescriptor(O, K)) return D.set;
    } while (O = getPrototypeOf(O));
  }
});

},{"./_descriptors":30,"./_export":34,"./_object-forced-pam":74,"./_object-gopd":75,"./_object-gpo":79,"./_to-object":117,"./_to-primitive":118}],294:[function(require,module,exports){
// https://github.com/tc39/proposal-object-values-entries
var $export = require('./_export');
var $values = require('./_object-to-array')(false);

$export($export.S, 'Object', {
  values: function values(it) {
    return $values(it);
  }
});

},{"./_export":34,"./_object-to-array":84}],295:[function(require,module,exports){
'use strict';
// https://github.com/zenparsing/es-observable
var $export = require('./_export');
var global = require('./_global');
var core = require('./_core');
var microtask = require('./_microtask')();
var OBSERVABLE = require('./_wks')('observable');
var aFunction = require('./_a-function');
var anObject = require('./_an-object');
var anInstance = require('./_an-instance');
var redefineAll = require('./_redefine-all');
var hide = require('./_hide');
var forOf = require('./_for-of');
var RETURN = forOf.RETURN;

var getMethod = function (fn) {
  return fn == null ? undefined : aFunction(fn);
};

var cleanupSubscription = function (subscription) {
  var cleanup = subscription._c;
  if (cleanup) {
    subscription._c = undefined;
    cleanup();
  }
};

var subscriptionClosed = function (subscription) {
  return subscription._o === undefined;
};

var closeSubscription = function (subscription) {
  if (!subscriptionClosed(subscription)) {
    subscription._o = undefined;
    cleanupSubscription(subscription);
  }
};

var Subscription = function (observer, subscriber) {
  anObject(observer);
  this._c = undefined;
  this._o = observer;
  observer = new SubscriptionObserver(this);
  try {
    var cleanup = subscriber(observer);
    var subscription = cleanup;
    if (cleanup != null) {
      if (typeof cleanup.unsubscribe === 'function') cleanup = function () { subscription.unsubscribe(); };
      else aFunction(cleanup);
      this._c = cleanup;
    }
  } catch (e) {
    observer.error(e);
    return;
  } if (subscriptionClosed(this)) cleanupSubscription(this);
};

Subscription.prototype = redefineAll({}, {
  unsubscribe: function unsubscribe() { closeSubscription(this); }
});

var SubscriptionObserver = function (subscription) {
  this._s = subscription;
};

SubscriptionObserver.prototype = redefineAll({}, {
  next: function next(value) {
    var subscription = this._s;
    if (!subscriptionClosed(subscription)) {
      var observer = subscription._o;
      try {
        var m = getMethod(observer.next);
        if (m) return m.call(observer, value);
      } catch (e) {
        try {
          closeSubscription(subscription);
        } finally {
          throw e;
        }
      }
    }
  },
  error: function error(value) {
    var subscription = this._s;
    if (subscriptionClosed(subscription)) throw value;
    var observer = subscription._o;
    subscription._o = undefined;
    try {
      var m = getMethod(observer.error);
      if (!m) throw value;
      value = m.call(observer, value);
    } catch (e) {
      try {
        cleanupSubscription(subscription);
      } finally {
        throw e;
      }
    } cleanupSubscription(subscription);
    return value;
  },
  complete: function complete(value) {
    var subscription = this._s;
    if (!subscriptionClosed(subscription)) {
      var observer = subscription._o;
      subscription._o = undefined;
      try {
        var m = getMethod(observer.complete);
        value = m ? m.call(observer, value) : undefined;
      } catch (e) {
        try {
          cleanupSubscription(subscription);
        } finally {
          throw e;
        }
      } cleanupSubscription(subscription);
      return value;
    }
  }
});

var $Observable = function Observable(subscriber) {
  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);
};

redefineAll($Observable.prototype, {
  subscribe: function subscribe(observer) {
    return new Subscription(observer, this._f);
  },
  forEach: function forEach(fn) {
    var that = this;
    return new (core.Promise || global.Promise)(function (resolve, reject) {
      aFunction(fn);
      var subscription = that.subscribe({
        next: function (value) {
          try {
            return fn(value);
          } catch (e) {
            reject(e);
            subscription.unsubscribe();
          }
        },
        error: reject,
        complete: resolve
      });
    });
  }
});

redefineAll($Observable, {
  from: function from(x) {
    var C = typeof this === 'function' ? this : $Observable;
    var method = getMethod(anObject(x)[OBSERVABLE]);
    if (method) {
      var observable = anObject(method.call(x));
      return observable.constructor === C ? observable : new C(function (observer) {
        return observable.subscribe(observer);
      });
    }
    return new C(function (observer) {
      var done = false;
      microtask(function () {
        if (!done) {
          try {
            if (forOf(x, false, function (it) {
              observer.next(it);
              if (done) return RETURN;
            }) === RETURN) return;
          } catch (e) {
            if (done) throw e;
            observer.error(e);
            return;
          } observer.complete();
        }
      });
      return function () { done = true; };
    });
  },
  of: function of() {
    for (var i = 0, l = arguments.length, items = new Array(l); i < l;) items[i] = arguments[i++];
    return new (typeof this === 'function' ? this : $Observable)(function (observer) {
      var done = false;
      microtask(function () {
        if (!done) {
          for (var j = 0; j < items.length; ++j) {
            observer.next(items[j]);
            if (done) return;
          } observer.complete();
        }
      });
      return function () { done = true; };
    });
  }
});

hide($Observable.prototype, OBSERVABLE, function () { return this; });

$export($export.G, { Observable: $Observable });

require('./_set-species')('Observable');

},{"./_a-function":4,"./_an-instance":7,"./_an-object":8,"./_core":24,"./_export":34,"./_for-of":40,"./_global":41,"./_hide":43,"./_microtask":68,"./_redefine-all":91,"./_set-species":98,"./_wks":127}],296:[function(require,module,exports){
// https://github.com/tc39/proposal-promise-finally
'use strict';
var $export = require('./_export');
var core = require('./_core');
var global = require('./_global');
var speciesConstructor = require('./_species-constructor');
var promiseResolve = require('./_promise-resolve');

$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {
  var C = speciesConstructor(this, core.Promise || global.Promise);
  var isFunction = typeof onFinally == 'function';
  return this.then(
    isFunction ? function (x) {
      return promiseResolve(C, onFinally()).then(function () { return x; });
    } : onFinally,
    isFunction ? function (e) {
      return promiseResolve(C, onFinally()).then(function () { throw e; });
    } : onFinally
  );
} });

},{"./_core":24,"./_export":34,"./_global":41,"./_promise-resolve":89,"./_species-constructor":102}],297:[function(require,module,exports){
'use strict';
// https://github.com/tc39/proposal-promise-try
var $export = require('./_export');
var newPromiseCapability = require('./_new-promise-capability');
var perform = require('./_perform');

$export($export.S, 'Promise', { 'try': function (callbackfn) {
  var promiseCapability = newPromiseCapability.f(this);
  var result = perform(callbackfn);
  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);
  return promiseCapability.promise;
} });

},{"./_export":34,"./_new-promise-capability":69,"./_perform":88}],298:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var toMetaKey = metadata.key;
var ordinaryDefineOwnMetadata = metadata.set;

metadata.exp({ defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) {
  ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));
} });

},{"./_an-object":8,"./_metadata":67}],299:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var toMetaKey = metadata.key;
var getOrCreateMetadataMap = metadata.map;
var store = metadata.store;

metadata.exp({ deleteMetadata: function deleteMetadata(metadataKey, target /* , targetKey */) {
  var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]);
  var metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);
  if (metadataMap === undefined || !metadataMap['delete'](metadataKey)) return false;
  if (metadataMap.size) return true;
  var targetMetadata = store.get(target);
  targetMetadata['delete'](targetKey);
  return !!targetMetadata.size || store['delete'](target);
} });

},{"./_an-object":8,"./_metadata":67}],300:[function(require,module,exports){
var Set = require('./es6.set');
var from = require('./_array-from-iterable');
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var getPrototypeOf = require('./_object-gpo');
var ordinaryOwnMetadataKeys = metadata.keys;
var toMetaKey = metadata.key;

var ordinaryMetadataKeys = function (O, P) {
  var oKeys = ordinaryOwnMetadataKeys(O, P);
  var parent = getPrototypeOf(O);
  if (parent === null) return oKeys;
  var pKeys = ordinaryMetadataKeys(parent, P);
  return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;
};

metadata.exp({ getMetadataKeys: function getMetadataKeys(target /* , targetKey */) {
  return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));
} });

},{"./_an-object":8,"./_array-from-iterable":11,"./_metadata":67,"./_object-gpo":79,"./es6.set":230}],301:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var getPrototypeOf = require('./_object-gpo');
var ordinaryHasOwnMetadata = metadata.has;
var ordinaryGetOwnMetadata = metadata.get;
var toMetaKey = metadata.key;

var ordinaryGetMetadata = function (MetadataKey, O, P) {
  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);
  if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P);
  var parent = getPrototypeOf(O);
  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;
};

metadata.exp({ getMetadata: function getMetadata(metadataKey, target /* , targetKey */) {
  return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
} });

},{"./_an-object":8,"./_metadata":67,"./_object-gpo":79}],302:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var ordinaryOwnMetadataKeys = metadata.keys;
var toMetaKey = metadata.key;

metadata.exp({ getOwnMetadataKeys: function getOwnMetadataKeys(target /* , targetKey */) {
  return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));
} });

},{"./_an-object":8,"./_metadata":67}],303:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var ordinaryGetOwnMetadata = metadata.get;
var toMetaKey = metadata.key;

metadata.exp({ getOwnMetadata: function getOwnMetadata(metadataKey, target /* , targetKey */) {
  return ordinaryGetOwnMetadata(metadataKey, anObject(target)
    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
} });

},{"./_an-object":8,"./_metadata":67}],304:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var getPrototypeOf = require('./_object-gpo');
var ordinaryHasOwnMetadata = metadata.has;
var toMetaKey = metadata.key;

var ordinaryHasMetadata = function (MetadataKey, O, P) {
  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);
  if (hasOwn) return true;
  var parent = getPrototypeOf(O);
  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;
};

metadata.exp({ hasMetadata: function hasMetadata(metadataKey, target /* , targetKey */) {
  return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
} });

},{"./_an-object":8,"./_metadata":67,"./_object-gpo":79}],305:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var ordinaryHasOwnMetadata = metadata.has;
var toMetaKey = metadata.key;

metadata.exp({ hasOwnMetadata: function hasOwnMetadata(metadataKey, target /* , targetKey */) {
  return ordinaryHasOwnMetadata(metadataKey, anObject(target)
    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
} });

},{"./_an-object":8,"./_metadata":67}],306:[function(require,module,exports){
var $metadata = require('./_metadata');
var anObject = require('./_an-object');
var aFunction = require('./_a-function');
var toMetaKey = $metadata.key;
var ordinaryDefineOwnMetadata = $metadata.set;

$metadata.exp({ metadata: function metadata(metadataKey, metadataValue) {
  return function decorator(target, targetKey) {
    ordinaryDefineOwnMetadata(
      metadataKey, metadataValue,
      (targetKey !== undefined ? anObject : aFunction)(target),
      toMetaKey(targetKey)
    );
  };
} });

},{"./_a-function":4,"./_an-object":8,"./_metadata":67}],307:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from
require('./_set-collection-from')('Set');

},{"./_set-collection-from":95}],308:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of
require('./_set-collection-of')('Set');

},{"./_set-collection-of":96}],309:[function(require,module,exports){
// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var $export = require('./_export');

$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });

},{"./_collection-to-json":21,"./_export":34}],310:[function(require,module,exports){
'use strict';
// https://github.com/mathiasbynens/String.prototype.at
var $export = require('./_export');
var $at = require('./_string-at')(true);

$export($export.P, 'String', {
  at: function at(pos) {
    return $at(this, pos);
  }
});

},{"./_export":34,"./_string-at":104}],311:[function(require,module,exports){
'use strict';
// https://tc39.github.io/String.prototype.matchAll/
var $export = require('./_export');
var defined = require('./_defined');
var toLength = require('./_to-length');
var isRegExp = require('./_is-regexp');
var getFlags = require('./_flags');
var RegExpProto = RegExp.prototype;

var $RegExpStringIterator = function (regexp, string) {
  this._r = regexp;
  this._s = string;
};

require('./_iter-create')($RegExpStringIterator, 'RegExp String', function next() {
  var match = this._r.exec(this._s);
  return { value: match, done: match === null };
});

$export($export.P, 'String', {
  matchAll: function matchAll(regexp) {
    defined(this);
    if (!isRegExp(regexp)) throw TypeError(regexp + ' is not a regexp!');
    var S = String(this);
    var flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp);
    var rx = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);
    rx.lastIndex = toLength(regexp.lastIndex);
    return new $RegExpStringIterator(rx, S);
  }
});

},{"./_defined":29,"./_export":34,"./_flags":38,"./_is-regexp":53,"./_iter-create":55,"./_to-length":116}],312:[function(require,module,exports){
'use strict';
// https://github.com/tc39/proposal-string-pad-start-end
var $export = require('./_export');
var $pad = require('./_string-pad');
var userAgent = require('./_user-agent');

// https://github.com/zloirock/core-js/issues/280
$export($export.P + $export.F * /Version\/10\.\d+(\.\d+)? Safari\//.test(userAgent), 'String', {
  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {
    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);
  }
});

},{"./_export":34,"./_string-pad":107,"./_user-agent":123}],313:[function(require,module,exports){
'use strict';
// https://github.com/tc39/proposal-string-pad-start-end
var $export = require('./_export');
var $pad = require('./_string-pad');
var userAgent = require('./_user-agent');

// https://github.com/zloirock/core-js/issues/280
$export($export.P + $export.F * /Version\/10\.\d+(\.\d+)? Safari\//.test(userAgent), 'String', {
  padStart: function padStart(maxLength /* , fillString = ' ' */) {
    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);
  }
});

},{"./_export":34,"./_string-pad":107,"./_user-agent":123}],314:[function(require,module,exports){
'use strict';
// https://github.com/sebmarkbage/ecmascript-string-left-right-trim
require('./_string-trim')('trimLeft', function ($trim) {
  return function trimLeft() {
    return $trim(this, 1);
  };
}, 'trimStart');

},{"./_string-trim":109}],315:[function(require,module,exports){
'use strict';
// https://github.com/sebmarkbage/ecmascript-string-left-right-trim
require('./_string-trim')('trimRight', function ($trim) {
  return function trimRight() {
    return $trim(this, 2);
  };
}, 'trimEnd');

},{"./_string-trim":109}],316:[function(require,module,exports){
require('./_wks-define')('asyncIterator');

},{"./_wks-define":125}],317:[function(require,module,exports){
require('./_wks-define')('observable');

},{"./_wks-define":125}],318:[function(require,module,exports){
// https://github.com/tc39/proposal-global
var $export = require('./_export');

$export($export.S, 'System', { global: require('./_global') });

},{"./_export":34,"./_global":41}],319:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from
require('./_set-collection-from')('WeakMap');

},{"./_set-collection-from":95}],320:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of
require('./_set-collection-of')('WeakMap');

},{"./_set-collection-of":96}],321:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.from
require('./_set-collection-from')('WeakSet');

},{"./_set-collection-from":95}],322:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.of
require('./_set-collection-of')('WeakSet');

},{"./_set-collection-of":96}],323:[function(require,module,exports){
var $iterators = require('./es6.array.iterator');
var getKeys = require('./_object-keys');
var redefine = require('./_redefine');
var global = require('./_global');
var hide = require('./_hide');
var Iterators = require('./_iterators');
var wks = require('./_wks');
var ITERATOR = wks('iterator');
var TO_STRING_TAG = wks('toStringTag');
var ArrayValues = Iterators.Array;

var DOMIterables = {
  CSSRuleList: true, // TODO: Not spec compliant, should be false.
  CSSStyleDeclaration: false,
  CSSValueList: false,
  ClientRectList: false,
  DOMRectList: false,
  DOMStringList: false,
  DOMTokenList: true,
  DataTransferItemList: false,
  FileList: false,
  HTMLAllCollection: false,
  HTMLCollection: false,
  HTMLFormElement: false,
  HTMLSelectElement: false,
  MediaList: true, // TODO: Not spec compliant, should be false.
  MimeTypeArray: false,
  NamedNodeMap: false,
  NodeList: true,
  PaintRequestList: false,
  Plugin: false,
  PluginArray: false,
  SVGLengthList: false,
  SVGNumberList: false,
  SVGPathSegList: false,
  SVGPointList: false,
  SVGStringList: false,
  SVGTransformList: false,
  SourceBufferList: false,
  StyleSheetList: true, // TODO: Not spec compliant, should be false.
  TextTrackCueList: false,
  TextTrackList: false,
  TouchList: false
};

for (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {
  var NAME = collections[i];
  var explicit = DOMIterables[NAME];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  var key;
  if (proto) {
    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);
    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
    Iterators[NAME] = ArrayValues;
    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);
  }
}

},{"./_global":41,"./_hide":43,"./_iterators":59,"./_object-keys":81,"./_redefine":92,"./_wks":127,"./es6.array.iterator":140}],324:[function(require,module,exports){
var $export = require('./_export');
var $task = require('./_task');
$export($export.G + $export.B, {
  setImmediate: $task.set,
  clearImmediate: $task.clear
});

},{"./_export":34,"./_task":111}],325:[function(require,module,exports){
// ie9- setTimeout & setInterval additional parameters fix
var global = require('./_global');
var $export = require('./_export');
var userAgent = require('./_user-agent');
var slice = [].slice;
var MSIE = /MSIE .\./.test(userAgent); // <- dirty ie9- check
var wrap = function (set) {
  return function (fn, time /* , ...args */) {
    var boundArgs = arguments.length > 2;
    var args = boundArgs ? slice.call(arguments, 2) : false;
    return set(boundArgs ? function () {
      // eslint-disable-next-line no-new-func
      (typeof fn == 'function' ? fn : Function(fn)).apply(this, args);
    } : fn, time);
  };
};
$export($export.G + $export.B + $export.F * MSIE, {
  setTimeout: wrap(global.setTimeout),
  setInterval: wrap(global.setInterval)
});

},{"./_export":34,"./_global":41,"./_user-agent":123}],326:[function(require,module,exports){
require('./modules/es6.symbol');
require('./modules/es6.object.create');
require('./modules/es6.object.define-property');
require('./modules/es6.object.define-properties');
require('./modules/es6.object.get-own-property-descriptor');
require('./modules/es6.object.get-prototype-of');
require('./modules/es6.object.keys');
require('./modules/es6.object.get-own-property-names');
require('./modules/es6.object.freeze');
require('./modules/es6.object.seal');
require('./modules/es6.object.prevent-extensions');
require('./modules/es6.object.is-frozen');
require('./modules/es6.object.is-sealed');
require('./modules/es6.object.is-extensible');
require('./modules/es6.object.assign');
require('./modules/es6.object.is');
require('./modules/es6.object.set-prototype-of');
require('./modules/es6.object.to-string');
require('./modules/es6.function.bind');
require('./modules/es6.function.name');
require('./modules/es6.function.has-instance');
require('./modules/es6.parse-int');
require('./modules/es6.parse-float');
require('./modules/es6.number.constructor');
require('./modules/es6.number.to-fixed');
require('./modules/es6.number.to-precision');
require('./modules/es6.number.epsilon');
require('./modules/es6.number.is-finite');
require('./modules/es6.number.is-integer');
require('./modules/es6.number.is-nan');
require('./modules/es6.number.is-safe-integer');
require('./modules/es6.number.max-safe-integer');
require('./modules/es6.number.min-safe-integer');
require('./modules/es6.number.parse-float');
require('./modules/es6.number.parse-int');
require('./modules/es6.math.acosh');
require('./modules/es6.math.asinh');
require('./modules/es6.math.atanh');
require('./modules/es6.math.cbrt');
require('./modules/es6.math.clz32');
require('./modules/es6.math.cosh');
require('./modules/es6.math.expm1');
require('./modules/es6.math.fround');
require('./modules/es6.math.hypot');
require('./modules/es6.math.imul');
require('./modules/es6.math.log10');
require('./modules/es6.math.log1p');
require('./modules/es6.math.log2');
require('./modules/es6.math.sign');
require('./modules/es6.math.sinh');
require('./modules/es6.math.tanh');
require('./modules/es6.math.trunc');
require('./modules/es6.string.from-code-point');
require('./modules/es6.string.raw');
require('./modules/es6.string.trim');
require('./modules/es6.string.iterator');
require('./modules/es6.string.code-point-at');
require('./modules/es6.string.ends-with');
require('./modules/es6.string.includes');
require('./modules/es6.string.repeat');
require('./modules/es6.string.starts-with');
require('./modules/es6.string.anchor');
require('./modules/es6.string.big');
require('./modules/es6.string.blink');
require('./modules/es6.string.bold');
require('./modules/es6.string.fixed');
require('./modules/es6.string.fontcolor');
require('./modules/es6.string.fontsize');
require('./modules/es6.string.italics');
require('./modules/es6.string.link');
require('./modules/es6.string.small');
require('./modules/es6.string.strike');
require('./modules/es6.string.sub');
require('./modules/es6.string.sup');
require('./modules/es6.date.now');
require('./modules/es6.date.to-json');
require('./modules/es6.date.to-iso-string');
require('./modules/es6.date.to-string');
require('./modules/es6.date.to-primitive');
require('./modules/es6.array.is-array');
require('./modules/es6.array.from');
require('./modules/es6.array.of');
require('./modules/es6.array.join');
require('./modules/es6.array.slice');
require('./modules/es6.array.sort');
require('./modules/es6.array.for-each');
require('./modules/es6.array.map');
require('./modules/es6.array.filter');
require('./modules/es6.array.some');
require('./modules/es6.array.every');
require('./modules/es6.array.reduce');
require('./modules/es6.array.reduce-right');
require('./modules/es6.array.index-of');
require('./modules/es6.array.last-index-of');
require('./modules/es6.array.copy-within');
require('./modules/es6.array.fill');
require('./modules/es6.array.find');
require('./modules/es6.array.find-index');
require('./modules/es6.array.species');
require('./modules/es6.array.iterator');
require('./modules/es6.regexp.constructor');
require('./modules/es6.regexp.to-string');
require('./modules/es6.regexp.flags');
require('./modules/es6.regexp.match');
require('./modules/es6.regexp.replace');
require('./modules/es6.regexp.search');
require('./modules/es6.regexp.split');
require('./modules/es6.promise');
require('./modules/es6.map');
require('./modules/es6.set');
require('./modules/es6.weak-map');
require('./modules/es6.weak-set');
require('./modules/es6.typed.array-buffer');
require('./modules/es6.typed.data-view');
require('./modules/es6.typed.int8-array');
require('./modules/es6.typed.uint8-array');
require('./modules/es6.typed.uint8-clamped-array');
require('./modules/es6.typed.int16-array');
require('./modules/es6.typed.uint16-array');
require('./modules/es6.typed.int32-array');
require('./modules/es6.typed.uint32-array');
require('./modules/es6.typed.float32-array');
require('./modules/es6.typed.float64-array');
require('./modules/es6.reflect.apply');
require('./modules/es6.reflect.construct');
require('./modules/es6.reflect.define-property');
require('./modules/es6.reflect.delete-property');
require('./modules/es6.reflect.enumerate');
require('./modules/es6.reflect.get');
require('./modules/es6.reflect.get-own-property-descriptor');
require('./modules/es6.reflect.get-prototype-of');
require('./modules/es6.reflect.has');
require('./modules/es6.reflect.is-extensible');
require('./modules/es6.reflect.own-keys');
require('./modules/es6.reflect.prevent-extensions');
require('./modules/es6.reflect.set');
require('./modules/es6.reflect.set-prototype-of');
require('./modules/es7.array.includes');
require('./modules/es7.array.flat-map');
require('./modules/es7.array.flatten');
require('./modules/es7.string.at');
require('./modules/es7.string.pad-start');
require('./modules/es7.string.pad-end');
require('./modules/es7.string.trim-left');
require('./modules/es7.string.trim-right');
require('./modules/es7.string.match-all');
require('./modules/es7.symbol.async-iterator');
require('./modules/es7.symbol.observable');
require('./modules/es7.object.get-own-property-descriptors');
require('./modules/es7.object.values');
require('./modules/es7.object.entries');
require('./modules/es7.object.define-getter');
require('./modules/es7.object.define-setter');
require('./modules/es7.object.lookup-getter');
require('./modules/es7.object.lookup-setter');
require('./modules/es7.map.to-json');
require('./modules/es7.set.to-json');
require('./modules/es7.map.of');
require('./modules/es7.set.of');
require('./modules/es7.weak-map.of');
require('./modules/es7.weak-set.of');
require('./modules/es7.map.from');
require('./modules/es7.set.from');
require('./modules/es7.weak-map.from');
require('./modules/es7.weak-set.from');
require('./modules/es7.global');
require('./modules/es7.system.global');
require('./modules/es7.error.is-error');
require('./modules/es7.math.clamp');
require('./modules/es7.math.deg-per-rad');
require('./modules/es7.math.degrees');
require('./modules/es7.math.fscale');
require('./modules/es7.math.iaddh');
require('./modules/es7.math.isubh');
require('./modules/es7.math.imulh');
require('./modules/es7.math.rad-per-deg');
require('./modules/es7.math.radians');
require('./modules/es7.math.scale');
require('./modules/es7.math.umulh');
require('./modules/es7.math.signbit');
require('./modules/es7.promise.finally');
require('./modules/es7.promise.try');
require('./modules/es7.reflect.define-metadata');
require('./modules/es7.reflect.delete-metadata');
require('./modules/es7.reflect.get-metadata');
require('./modules/es7.reflect.get-metadata-keys');
require('./modules/es7.reflect.get-own-metadata');
require('./modules/es7.reflect.get-own-metadata-keys');
require('./modules/es7.reflect.has-metadata');
require('./modules/es7.reflect.has-own-metadata');
require('./modules/es7.reflect.metadata');
require('./modules/es7.asap');
require('./modules/es7.observable');
require('./modules/web.timers');
require('./modules/web.immediate');
require('./modules/web.dom.iterable');
module.exports = require('./modules/_core');

},{"./modules/_core":24,"./modules/es6.array.copy-within":130,"./modules/es6.array.every":131,"./modules/es6.array.fill":132,"./modules/es6.array.filter":133,"./modules/es6.array.find":135,"./modules/es6.array.find-index":134,"./modules/es6.array.for-each":136,"./modules/es6.array.from":137,"./modules/es6.array.index-of":138,"./modules/es6.array.is-array":139,"./modules/es6.array.iterator":140,"./modules/es6.array.join":141,"./modules/es6.array.last-index-of":142,"./modules/es6.array.map":143,"./modules/es6.array.of":144,"./modules/es6.array.reduce":146,"./modules/es6.array.reduce-right":145,"./modules/es6.array.slice":147,"./modules/es6.array.some":148,"./modules/es6.array.sort":149,"./modules/es6.array.species":150,"./modules/es6.date.now":151,"./modules/es6.date.to-iso-string":152,"./modules/es6.date.to-json":153,"./modules/es6.date.to-primitive":154,"./modules/es6.date.to-string":155,"./modules/es6.function.bind":156,"./modules/es6.function.has-instance":157,"./modules/es6.function.name":158,"./modules/es6.map":159,"./modules/es6.math.acosh":160,"./modules/es6.math.asinh":161,"./modules/es6.math.atanh":162,"./modules/es6.math.cbrt":163,"./modules/es6.math.clz32":164,"./modules/es6.math.cosh":165,"./modules/es6.math.expm1":166,"./modules/es6.math.fround":167,"./modules/es6.math.hypot":168,"./modules/es6.math.imul":169,"./modules/es6.math.log10":170,"./modules/es6.math.log1p":171,"./modules/es6.math.log2":172,"./modules/es6.math.sign":173,"./modules/es6.math.sinh":174,"./modules/es6.math.tanh":175,"./modules/es6.math.trunc":176,"./modules/es6.number.constructor":177,"./modules/es6.number.epsilon":178,"./modules/es6.number.is-finite":179,"./modules/es6.number.is-integer":180,"./modules/es6.number.is-nan":181,"./modules/es6.number.is-safe-integer":182,"./modules/es6.number.max-safe-integer":183,"./modules/es6.number.min-safe-integer":184,"./modules/es6.number.parse-float":185,"./modules/es6.number.parse-int":186,"./modules/es6.number.to-fixed":187,"./modules/es6.number.to-precision":188,"./modules/es6.object.assign":189,"./modules/es6.object.create":190,"./modules/es6.object.define-properties":191,"./modules/es6.object.define-property":192,"./modules/es6.object.freeze":193,"./modules/es6.object.get-own-property-descriptor":194,"./modules/es6.object.get-own-property-names":195,"./modules/es6.object.get-prototype-of":196,"./modules/es6.object.is":200,"./modules/es6.object.is-extensible":197,"./modules/es6.object.is-frozen":198,"./modules/es6.object.is-sealed":199,"./modules/es6.object.keys":201,"./modules/es6.object.prevent-extensions":202,"./modules/es6.object.seal":203,"./modules/es6.object.set-prototype-of":204,"./modules/es6.object.to-string":205,"./modules/es6.parse-float":206,"./modules/es6.parse-int":207,"./modules/es6.promise":208,"./modules/es6.reflect.apply":209,"./modules/es6.reflect.construct":210,"./modules/es6.reflect.define-property":211,"./modules/es6.reflect.delete-property":212,"./modules/es6.reflect.enumerate":213,"./modules/es6.reflect.get":216,"./modules/es6.reflect.get-own-property-descriptor":214,"./modules/es6.reflect.get-prototype-of":215,"./modules/es6.reflect.has":217,"./modules/es6.reflect.is-extensible":218,"./modules/es6.reflect.own-keys":219,"./modules/es6.reflect.prevent-extensions":220,"./modules/es6.reflect.set":222,"./modules/es6.reflect.set-prototype-of":221,"./modules/es6.regexp.constructor":223,"./modules/es6.regexp.flags":224,"./modules/es6.regexp.match":225,"./modules/es6.regexp.replace":226,"./modules/es6.regexp.search":227,"./modules/es6.regexp.split":228,"./modules/es6.regexp.to-string":229,"./modules/es6.set":230,"./modules/es6.string.anchor":231,"./modules/es6.string.big":232,"./modules/es6.string.blink":233,"./modules/es6.string.bold":234,"./modules/es6.string.code-point-at":235,"./modules/es6.string.ends-with":236,"./modules/es6.string.fixed":237,"./modules/es6.string.fontcolor":238,"./modules/es6.string.fontsize":239,"./modules/es6.string.from-code-point":240,"./modules/es6.string.includes":241,"./modules/es6.string.italics":242,"./modules/es6.string.iterator":243,"./modules/es6.string.link":244,"./modules/es6.string.raw":245,"./modules/es6.string.repeat":246,"./modules/es6.string.small":247,"./modules/es6.string.starts-with":248,"./modules/es6.string.strike":249,"./modules/es6.string.sub":250,"./modules/es6.string.sup":251,"./modules/es6.string.trim":252,"./modules/es6.symbol":253,"./modules/es6.typed.array-buffer":254,"./modules/es6.typed.data-view":255,"./modules/es6.typed.float32-array":256,"./modules/es6.typed.float64-array":257,"./modules/es6.typed.int16-array":258,"./modules/es6.typed.int32-array":259,"./modules/es6.typed.int8-array":260,"./modules/es6.typed.uint16-array":261,"./modules/es6.typed.uint32-array":262,"./modules/es6.typed.uint8-array":263,"./modules/es6.typed.uint8-clamped-array":264,"./modules/es6.weak-map":265,"./modules/es6.weak-set":266,"./modules/es7.array.flat-map":267,"./modules/es7.array.flatten":268,"./modules/es7.array.includes":269,"./modules/es7.asap":270,"./modules/es7.error.is-error":271,"./modules/es7.global":272,"./modules/es7.map.from":273,"./modules/es7.map.of":274,"./modules/es7.map.to-json":275,"./modules/es7.math.clamp":276,"./modules/es7.math.deg-per-rad":277,"./modules/es7.math.degrees":278,"./modules/es7.math.fscale":279,"./modules/es7.math.iaddh":280,"./modules/es7.math.imulh":281,"./modules/es7.math.isubh":282,"./modules/es7.math.rad-per-deg":283,"./modules/es7.math.radians":284,"./modules/es7.math.scale":285,"./modules/es7.math.signbit":286,"./modules/es7.math.umulh":287,"./modules/es7.object.define-getter":288,"./modules/es7.object.define-setter":289,"./modules/es7.object.entries":290,"./modules/es7.object.get-own-property-descriptors":291,"./modules/es7.object.lookup-getter":292,"./modules/es7.object.lookup-setter":293,"./modules/es7.object.values":294,"./modules/es7.observable":295,"./modules/es7.promise.finally":296,"./modules/es7.promise.try":297,"./modules/es7.reflect.define-metadata":298,"./modules/es7.reflect.delete-metadata":299,"./modules/es7.reflect.get-metadata":301,"./modules/es7.reflect.get-metadata-keys":300,"./modules/es7.reflect.get-own-metadata":303,"./modules/es7.reflect.get-own-metadata-keys":302,"./modules/es7.reflect.has-metadata":304,"./modules/es7.reflect.has-own-metadata":305,"./modules/es7.reflect.metadata":306,"./modules/es7.set.from":307,"./modules/es7.set.of":308,"./modules/es7.set.to-json":309,"./modules/es7.string.at":310,"./modules/es7.string.match-all":311,"./modules/es7.string.pad-end":312,"./modules/es7.string.pad-start":313,"./modules/es7.string.trim-left":314,"./modules/es7.string.trim-right":315,"./modules/es7.symbol.async-iterator":316,"./modules/es7.symbol.observable":317,"./modules/es7.system.global":318,"./modules/es7.weak-map.from":319,"./modules/es7.weak-map.of":320,"./modules/es7.weak-set.from":321,"./modules/es7.weak-set.of":322,"./modules/web.dom.iterable":323,"./modules/web.immediate":324,"./modules/web.timers":325}],327:[function(require,module,exports){
/*!
Copyright (C) 2013-2015 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
(function(window){'use strict';
  /* jshint loopfunc: true, noempty: false*/
  // http://www.w3.org/TR/dom/#element

  function createDocumentFragment() {
    return document.createDocumentFragment();
  }

  function createElement(nodeName) {
    return document.createElement(nodeName);
  }

  function enoughArguments(length, name) {
    if (!length) throw new Error(
      'Failed to construct ' +
        name +
      ': 1 argument required, but only 0 present.'
    );
  }

  function mutationMacro(nodes) {
    if (nodes.length === 1) {
      return textNodeIfPrimitive(nodes[0]);
    }
    for (var
      fragment = createDocumentFragment(),
      list = slice.call(nodes),
      i = 0; i < nodes.length; i++
    ) {
      fragment.appendChild(textNodeIfPrimitive(list[i]));
    }
    return fragment;
  }

  function textNodeIfPrimitive(node) {
    return typeof node === 'object' ? node : document.createTextNode(node);
  }

  for(var
    head,
    property,
    TemporaryPrototype,
    TemporaryTokenList,
    wrapVerifyToken,
    document = window.document,
    hOP = Object.prototype.hasOwnProperty,
    defineProperty = Object.defineProperty || function (object, property, descriptor) {
      if (hOP.call(descriptor, 'value')) {
        object[property] = descriptor.value;
      } else {
        if (hOP.call(descriptor, 'get'))
          object.__defineGetter__(property, descriptor.get);
        if (hOP.call(descriptor, 'set'))
          object.__defineSetter__(property, descriptor.set);
      }
      return object;
    },
    indexOf = [].indexOf || function indexOf(value){
      var length = this.length;
      while(length--) {
        if (this[length] === value) {
          break;
        }
      }
      return length;
    },
    // http://www.w3.org/TR/domcore/#domtokenlist
    verifyToken = function (token) {
      if (!token) {
        throw 'SyntaxError';
      } else if (spaces.test(token)) {
        throw 'InvalidCharacterError';
      }
      return token;
    },
    DOMTokenList = function (node) {
      var
        noClassName = typeof node.className === 'undefined',
        className = noClassName ?
          (node.getAttribute('class') || '') : node.className,
        isSVG = noClassName || typeof className === 'object',
        value = (isSVG ?
          (noClassName ? className : className.baseVal) :
          className
        ).replace(trim, '')
      ;
      if (value.length) {
        properties.push.apply(
          this,
          value.split(spaces)
        );
      }
      this._isSVG = isSVG;
      this._ = node;
    },
    classListDescriptor = {
      get: function get() {
        return new DOMTokenList(this);
      },
      set: function(){}
    },
    trim = /^\s+|\s+$/g,
    spaces = /\s+/,
    SPACE = '\x20',
    CLASS_LIST = 'classList',
    toggle = function toggle(token, force) {
      if (this.contains(token)) {
        if (!force) {
          // force is not true (either false or omitted)
          this.remove(token);
        }
      } else if(force === undefined || force) {
        force = true;
        this.add(token);
      }
      return !!force;
    },
    DocumentFragmentPrototype = window.DocumentFragment && DocumentFragment.prototype,
    Node = window.Node,
    NodePrototype = (Node || Element).prototype,
    CharacterData = window.CharacterData || Node,
    CharacterDataPrototype = CharacterData && CharacterData.prototype,
    DocumentType = window.DocumentType,
    DocumentTypePrototype = DocumentType && DocumentType.prototype,
    ElementPrototype = (window.Element || Node || window.HTMLElement).prototype,
    HTMLSelectElement = window.HTMLSelectElement || createElement('select').constructor,
    selectRemove = HTMLSelectElement.prototype.remove,
    SVGElement = window.SVGElement,
    properties = [
      'matches', (
        ElementPrototype.matchesSelector ||
        ElementPrototype.webkitMatchesSelector ||
        ElementPrototype.khtmlMatchesSelector ||
        ElementPrototype.mozMatchesSelector ||
        ElementPrototype.msMatchesSelector ||
        ElementPrototype.oMatchesSelector ||
        function matches(selector) {
          var parentNode = this.parentNode;
          return !!parentNode && -1 < indexOf.call(
            parentNode.querySelectorAll(selector),
            this
          );
        }
      ),
      'closest', function closest(selector) {
        var parentNode = this, matches;
        while (
          // document has no .matches
          (matches = parentNode && parentNode.matches) &&
          !parentNode.matches(selector)
        ) {
          parentNode = parentNode.parentNode;
        }
        return matches ? parentNode : null;
      },
      'prepend', function prepend() {
        var firstChild = this.firstChild,
            node = mutationMacro(arguments);
        if (firstChild) {
          this.insertBefore(node, firstChild);
        } else {
          this.appendChild(node);
        }
      },
      'append', function append() {
        this.appendChild(mutationMacro(arguments));
      },
      'before', function before() {
        var parentNode = this.parentNode;
        if (parentNode) {
          parentNode.insertBefore(
            mutationMacro(arguments), this
          );
        }
      },
      'after', function after() {
        var parentNode = this.parentNode,
            nextSibling = this.nextSibling,
            node = mutationMacro(arguments);
        if (parentNode) {
          if (nextSibling) {
            parentNode.insertBefore(node, nextSibling);
          } else {
            parentNode.appendChild(node);
          }
        }
      },
      // https://dom.spec.whatwg.org/#dom-element-toggleattribute
      'toggleAttribute', function toggleAttribute(name, force) {
        var had = this.hasAttribute(name);
        if (1 < arguments.length) {
          if (had && !force)
            this.removeAttribute(name);
          else if (force && !had)
            this.setAttribute(name, "");
        }
        else if (had)
          this.removeAttribute(name);
        else
          this.setAttribute(name, "");
        return this.hasAttribute(name);
      },
      // WARNING - DEPRECATED - use .replaceWith() instead
      'replace', function replace() {
        this.replaceWith.apply(this, arguments);
      },
      'replaceWith', function replaceWith() {
        var parentNode = this.parentNode;
        if (parentNode) {
          parentNode.replaceChild(
            mutationMacro(arguments),
            this
          );
        }
      },
      'remove', function remove() {
        var parentNode = this.parentNode;
        if (parentNode) {
          parentNode.removeChild(this);
        }
      }
    ],
    slice = properties.slice,
    i = properties.length; i; i -= 2
  ) {
    property = properties[i - 2];
    if (!(property in ElementPrototype)) {
      ElementPrototype[property] = properties[i - 1];
    }
    // avoid unnecessary re-patch when the script is included
    // gazillion times without any reason whatsoever
    // https://github.com/WebReflection/dom4/pull/48
    if (property === 'remove' && !selectRemove._dom4) {
      // see https://github.com/WebReflection/dom4/issues/19
      (HTMLSelectElement.prototype[property] = function () {
        return 0 < arguments.length ?
          selectRemove.apply(this, arguments) :
          ElementPrototype.remove.call(this);
      })._dom4 = true;
    }
    // see https://github.com/WebReflection/dom4/issues/18
    if (/^(?:before|after|replace|replaceWith|remove)$/.test(property)) {
      if (CharacterData && !(property in CharacterDataPrototype)) {
        CharacterDataPrototype[property] = properties[i - 1];
      }
      if (DocumentType && !(property in DocumentTypePrototype)) {
        DocumentTypePrototype[property] = properties[i - 1];
      }
    }
    // see https://github.com/WebReflection/dom4/pull/26
    if (/^(?:append|prepend)$/.test(property)) {
      if (DocumentFragmentPrototype) {
        if (!(property in DocumentFragmentPrototype)) {
          DocumentFragmentPrototype[property] = properties[i - 1];
        }
      } else {
        try {
          createDocumentFragment().constructor.prototype[property] = properties[i - 1];
        } catch(o_O) {}
      }
    }
  }

  // most likely an IE9 only issue
  // see https://github.com/WebReflection/dom4/issues/6
  if (!createElement('a').matches('a')) {
    ElementPrototype[property] = function(matches){
      return function (selector) {
        return matches.call(
          this.parentNode ?
            this :
            createDocumentFragment().appendChild(this),
          selector
        );
      };
    }(ElementPrototype[property]);
  }

  // used to fix both old webkit and SVG
  DOMTokenList.prototype = {
    length: 0,
    add: function add() {
      for(var j = 0, token; j < arguments.length; j++) {
        token = arguments[j];
        if(!this.contains(token)) {
          properties.push.call(this, property);
        }
      }
      if (this._isSVG) {
        this._.setAttribute('class', '' + this);
      } else {
        this._.className = '' + this;
      }
    },
    contains: (function(indexOf){
      return function contains(token) {
        i = indexOf.call(this, property = verifyToken(token));
        return -1 < i;
      };
    }([].indexOf || function (token) {
      i = this.length;
      while(i-- && this[i] !== token){}
      return i;
    })),
    item: function item(i) {
      return this[i] || null;
    },
    remove: function remove() {
      for(var j = 0, token; j < arguments.length; j++) {
        token = arguments[j];
        if(this.contains(token)) {
          properties.splice.call(this, i, 1);
        }
      }
      if (this._isSVG) {
        this._.setAttribute('class', '' + this);
      } else {
        this._.className = '' + this;
      }
    },
    toggle: toggle,
    toString: function toString() {
      return properties.join.call(this, SPACE);
    }
  };

  if (SVGElement && !(CLASS_LIST in SVGElement.prototype)) {
    defineProperty(SVGElement.prototype, CLASS_LIST, classListDescriptor);
  }

  // http://www.w3.org/TR/dom/#domtokenlist
  // iOS 5.1 has completely screwed this property
  // classList in ElementPrototype is false
  // but it's actually there as getter
  if (!(CLASS_LIST in document.documentElement)) {
    defineProperty(ElementPrototype, CLASS_LIST, classListDescriptor);
  } else {
    // iOS 5.1 and Nokia ASHA do not support multiple add or remove
    // trying to detect and fix that in here
    TemporaryTokenList = createElement('div')[CLASS_LIST];
    TemporaryTokenList.add('a', 'b', 'a');
    if ('a\x20b' != TemporaryTokenList) {
      // no other way to reach original methods in iOS 5.1
      TemporaryPrototype = TemporaryTokenList.constructor.prototype;
      if (!('add' in TemporaryPrototype)) {
        // ASHA double fails in here
        TemporaryPrototype = window.TemporaryTokenList.prototype;
      }
      wrapVerifyToken = function (original) {
        return function () {
          var i = 0;
          while (i < arguments.length) {
            original.call(this, arguments[i++]);
          }
        };
      };
      TemporaryPrototype.add = wrapVerifyToken(TemporaryPrototype.add);
      TemporaryPrototype.remove = wrapVerifyToken(TemporaryPrototype.remove);
      // toggle is broken too ^_^ ... let's fix it
      TemporaryPrototype.toggle = toggle;
    }
  }

  if (!('contains' in NodePrototype)) {
    defineProperty(NodePrototype, 'contains', {
      value: function (el) {
        while (el && el !== this) el = el.parentNode;
        return this === el;
      }
    });
  }

  if (!('head' in document)) {
    defineProperty(document, 'head', {
      get: function () {
        return head || (
          head = document.getElementsByTagName('head')[0]
        );
      }
    });
  }

  // requestAnimationFrame partial polyfill
  (function () {
    for (var
      raf,
      rAF = window.requestAnimationFrame,
      cAF = window.cancelAnimationFrame,
      prefixes = ['o', 'ms', 'moz', 'webkit'],
      i = prefixes.length;
      !cAF && i--;
    ) {
      rAF = rAF || window[prefixes[i] + 'RequestAnimationFrame'];
      cAF = window[prefixes[i] + 'CancelAnimationFrame'] ||
            window[prefixes[i] + 'CancelRequestAnimationFrame'];
    }
    if (!cAF) {
      // some FF apparently implemented rAF but no cAF 
      if (rAF) {
        raf = rAF;
        rAF = function (callback) {
          var goOn = true;
          raf(function () {
            if (goOn) callback.apply(this, arguments);
          });
          return function () {
            goOn = false;
          };
        };
        cAF = function (id) {
          id();
        };
      } else {
        rAF = function (callback) {
          return setTimeout(callback, 15, 15);
        };
        cAF = function (id) {
          clearTimeout(id);
        };
      }
    }
    window.requestAnimationFrame = rAF;
    window.cancelAnimationFrame = cAF;
  }());

  // http://www.w3.org/TR/dom/#customevent
  try{new window.CustomEvent('?');}catch(o_O){
    window.CustomEvent = function(
      eventName,
      defaultInitDict
    ){

      // the infamous substitute
      function CustomEvent(type, eventInitDict) {
        /*jshint eqnull:true */
        var event = document.createEvent(eventName);
        if (typeof type != 'string') {
          throw new Error('An event name must be provided');
        }
        if (eventName == 'Event') {
          event.initCustomEvent = initCustomEvent;
        }
        if (eventInitDict == null) {
          eventInitDict = defaultInitDict;
        }
        event.initCustomEvent(
          type,
          eventInitDict.bubbles,
          eventInitDict.cancelable,
          eventInitDict.detail
        );
        return event;
      }

      // attached at runtime
      function initCustomEvent(
        type, bubbles, cancelable, detail
      ) {
        /*jshint validthis:true*/
        this.initEvent(type, bubbles, cancelable);
        this.detail = detail;
      }

      // that's it
      return CustomEvent;
    }(
      // is this IE9 or IE10 ?
      // where CustomEvent is there
      // but not usable as construtor ?
      window.CustomEvent ?
        // use the CustomEvent interface in such case
        'CustomEvent' : 'Event',
        // otherwise the common compatible one
      {
        bubbles: false,
        cancelable: false,
        detail: null
      }
    );
  }

  // window.Event as constructor
  try { new Event('_'); } catch (o_O) {
    /* jshint -W022 */
    o_O = (function ($Event) {
      function Event(type, init) {
        enoughArguments(arguments.length, 'Event');
        var out = document.createEvent('Event');
        if (!init) init = {};
        out.initEvent(
          type,
          !!init.bubbles,
          !!init.cancelable
        );
        return out;
      }
      Event.prototype = $Event.prototype;
      return Event;
    }(window.Event || function Event() {}));
    defineProperty(window, 'Event', {value: o_O});
    // Android 4 gotcha
    if (Event !== o_O) Event = o_O;
  }

  // window.KeyboardEvent as constructor
  try { new KeyboardEvent('_', {}); } catch (o_O) {
    /* jshint -W022 */
    o_O = (function ($KeyboardEvent) {
      // code inspired by https://gist.github.com/termi/4654819
      var
        initType = 0,
        defaults = {
          char: '',
          key: '',
          location: 0,
          ctrlKey: false,
          shiftKey: false,
          altKey: false,
          metaKey: false,
          altGraphKey: false,
          repeat: false,
          locale: navigator.language,
          detail: 0,
          bubbles: false,
          cancelable: false,
          keyCode: 0,
          charCode: 0,
          which: 0
        },
        eventType
      ;
      try {
        var e = document.createEvent('KeyboardEvent');
        e.initKeyboardEvent(
          'keyup', false, false, window, '+', 3,
          true, false, true, false, false
        );
        initType = (
          (e.keyIdentifier || e.key) == '+' &&
          (e.keyLocation || e.location) == 3
        ) && (
          e.ctrlKey ? e.altKey ? 1 : 3 : e.shiftKey ? 2 : 4
        ) || 9;
      } catch(o_O) {}
      eventType = 0 < initType ? 'KeyboardEvent' : 'Event';

      function getModifier(init) {
        for (var
          out = [],
          keys = [
            'ctrlKey',
            'Control',
            'shiftKey',
            'Shift',
            'altKey',
            'Alt',
            'metaKey',
            'Meta',
            'altGraphKey',
            'AltGraph'
          ],
          i = 0; i < keys.length; i += 2
        ) {
          if (init[keys[i]])
            out.push(keys[i + 1]);
        }
        return out.join(' ');
      }

      function withDefaults(target, source) {
        for (var key in source) {
          if (
            source.hasOwnProperty(key) &&
            !source.hasOwnProperty.call(target, key)
          ) target[key] = source[key];
        }
        return target;
      }

      function withInitValues(key, out, init) {
        try {
          out[key] = init[key];
        } catch(o_O) {}
      }

      function KeyboardEvent(type, init) {
        enoughArguments(arguments.length, 'KeyboardEvent');
        init = withDefaults(init || {}, defaults);
        var
          out = document.createEvent(eventType),
          ctrlKey = init.ctrlKey,
          shiftKey = init.shiftKey,
          altKey = init.altKey,
          metaKey = init.metaKey,
          altGraphKey = init.altGraphKey,
          modifiers = initType > 3 ? getModifier(init) : null,
          key = String(init.key),
          chr = String(init.char),
          location = init.location,
          keyCode = init.keyCode || (
            (init.keyCode = key) &&
            key.charCodeAt(0)
          ) || 0,
          charCode = init.charCode || (
            (init.charCode = chr) &&
            chr.charCodeAt(0)
          ) || 0,
          bubbles = init.bubbles,
          cancelable = init.cancelable,
          repeat = init.repeat,
          locale = init.locale,
          view = init.view || window,
          args
        ;
        if (!init.which) init.which = init.keyCode;
        if ('initKeyEvent' in out) {
          out.initKeyEvent(
            type, bubbles, cancelable, view,
            ctrlKey, altKey, shiftKey, metaKey, keyCode, charCode
          );
        } else if (0 < initType && 'initKeyboardEvent' in out) {
          args = [type, bubbles, cancelable, view];
          switch (initType) {
            case 1:
              args.push(key, location, ctrlKey, shiftKey, altKey, metaKey, altGraphKey);
              break;
            case 2:
              args.push(ctrlKey, altKey, shiftKey, metaKey, keyCode, charCode);
              break;
            case 3:
              args.push(key, location, ctrlKey, altKey, shiftKey, metaKey, altGraphKey);
              break;
            case 4:
              args.push(key, location, modifiers, repeat, locale);
              break;
            default:
              args.push(char, key, location, modifiers, repeat, locale);
          }
          out.initKeyboardEvent.apply(out, args);
        } else {
          out.initEvent(type, bubbles, cancelable);
        }
        for (key in out) {
          if (defaults.hasOwnProperty(key) && out[key] !== init[key]) {
            withInitValues(key, out, init);
          }
        }
        return out;
      }
      KeyboardEvent.prototype = $KeyboardEvent.prototype;
      return KeyboardEvent;
    }(window.KeyboardEvent || function KeyboardEvent() {}));
    defineProperty(window, 'KeyboardEvent', {value: o_O});
    // Android 4 gotcha
    if (KeyboardEvent !== o_O) KeyboardEvent = o_O;
  }

  // window.MouseEvent as constructor
  try { new MouseEvent('_', {}); } catch (o_O) {
    /* jshint -W022 */
    o_O = (function ($MouseEvent) {
      function MouseEvent(type, init) {
        enoughArguments(arguments.length, 'MouseEvent');
        var out = document.createEvent('MouseEvent');
        if (!init) init = {};
        out.initMouseEvent(
          type,
          !!init.bubbles,
          !!init.cancelable,
          init.view || window,
          init.detail || 1,
          init.screenX || 0,
          init.screenY || 0,
          init.clientX || 0,
          init.clientY || 0,
          !!init.ctrlKey,
          !!init.altKey,
          !!init.shiftKey,
          !!init.metaKey,
          init.button || 0,
          init.relatedTarget || null
        );
        return out;
      }
      MouseEvent.prototype = $MouseEvent.prototype;
      return MouseEvent;
    }(window.MouseEvent || function MouseEvent() {}));
    defineProperty(window, 'MouseEvent', {value: o_O});
    // Android 4 gotcha
    if (MouseEvent !== o_O) MouseEvent = o_O;
  }

  if (!document.querySelectorAll('*').forEach) {
    (function () {
      function patch(what) {
        var querySelectorAll = what.querySelectorAll;
        what.querySelectorAll = function qSA(css) {
          var result = querySelectorAll.call(this, css);
          result.forEach = Array.prototype.forEach;
          return result;
        };
      }
      patch(document);
      patch(Element.prototype);
    }());
  }

  try {
    // https://drafts.csswg.org/selectors-4/#the-scope-pseudo
    document.querySelector(':scope *');
  } catch(o_O) {
    (function () {
      var dataScope = 'data-scope-' + (Math.random() * 1e9 >>> 0);
      var proto = Element.prototype;
      var querySelector = proto.querySelector;
      var querySelectorAll = proto.querySelectorAll;
      proto.querySelector = function qS(css) {
        return find(this, querySelector, css);
      };
      proto.querySelectorAll = function qSA(css) {
        return find(this, querySelectorAll, css);
      };
      function find(node, method, css) {
        node.setAttribute(dataScope, null);
        var result = method.call(
          node,
          String(css).replace(
            /(^|,\s*)(:scope([ >]|$))/g,
            function ($0, $1, $2, $3) {
              return $1 + '[' + dataScope + ']' + ($3 || ' ');
            }
          )
        );
        node.removeAttribute(dataScope);
        return result;
      }
    }());
  }
}(window));
(function (global){'use strict';

  // a WeakMap fallback for DOM nodes only used as key
  var DOMMap = global.WeakMap || (function () {

    var
      counter = 0,
      dispatched = false,
      drop = false,
      value
    ;

    function dispatch(key, ce, shouldDrop) {
      drop = shouldDrop;
      dispatched = false;
      value = undefined;
      key.dispatchEvent(ce);
    }

    function Handler(value) {
      this.value = value;
    }

    Handler.prototype.handleEvent = function handleEvent(e) {
      dispatched = true;
      if (drop) {
        e.currentTarget.removeEventListener(e.type, this, false);
      } else {
        value = this.value;
      }
    };

    function DOMMap() {
      counter++;  // make id clashing highly improbable
      this.__ce__ = new Event(('@DOMMap:' + counter) + Math.random());
    }

    DOMMap.prototype = {
      'constructor': DOMMap,
      'delete': function del(key) {
        return dispatch(key, this.__ce__, true), dispatched;
      },
      'get': function get(key) {
        dispatch(key, this.__ce__, false);
        var v = value;
        value = undefined;
        return v;
      },
      'has': function has(key) {
        return dispatch(key, this.__ce__, false), dispatched;
      },
      'set': function set(key, value) {
        dispatch(key, this.__ce__, true);
        key.addEventListener(this.__ce__.type, new Handler(value), false);
        return this;
      },
    };

    return DOMMap;

  }());

  function Dict() {}
  Dict.prototype = (Object.create || Object)(null);

  // https://dom.spec.whatwg.org/#interface-eventtarget

  function createEventListener(type, callback, options) {
    function eventListener(e) {
      if (eventListener.once) {
        e.currentTarget.removeEventListener(
          e.type,
          callback,
          eventListener
        );
        eventListener.removed = true;
      }
      if (eventListener.passive) {
        e.preventDefault = createEventListener.preventDefault;
      }
      if (typeof eventListener.callback === 'function') {
        /* jshint validthis: true */
        eventListener.callback.call(this, e);
      } else if (eventListener.callback) {
        eventListener.callback.handleEvent(e);
      }
      if (eventListener.passive) {
        delete e.preventDefault;
      }
    }
    eventListener.type = type;
    eventListener.callback = callback;
    eventListener.capture = !!options.capture;
    eventListener.passive = !!options.passive;
    eventListener.once = !!options.once;
    // currently pointless but specs say to use it, so ...
    eventListener.removed = false;
    return eventListener;
  }

  createEventListener.preventDefault = function preventDefault() {};

  var
    Event = global.CustomEvent,
    dE = global.dispatchEvent,
    aEL = global.addEventListener,
    rEL = global.removeEventListener,
    counter = 0,
    increment = function () { counter++; },
    indexOf = [].indexOf || function indexOf(value){
      var length = this.length;
      while(length--) {
        if (this[length] === value) {
          break;
        }
      }
      return length;
    },
    getListenerKey = function (options) {
      return ''.concat(
        options.capture ? '1' : '0',
        options.passive ? '1' : '0',
        options.once ? '1' : '0'
      );
    },
    augment
  ;

  try {
    aEL('_', increment, {once: true});
    dE(new Event('_'));
    dE(new Event('_'));
    rEL('_', increment, {once: true});
  } catch(o_O) {}

  if (counter !== 1) {
    (function () {
      var dm = new DOMMap();
      function createAEL(aEL) {
        return function addEventListener(type, handler, options) {
          if (options && typeof options !== 'boolean') {
            var
              info = dm.get(this),
              key = getListenerKey(options),
              i, tmp, wrap
            ;
            if (!info) dm.set(this, (info = new Dict()));
            if (!(type in info)) info[type] = {
              handler: [],
              wrap: []
            };
            tmp = info[type];
            i = indexOf.call(tmp.handler, handler);
            if (i < 0) {
              i = tmp.handler.push(handler) - 1;
              tmp.wrap[i] = (wrap = new Dict());
            } else {
              wrap = tmp.wrap[i];
            }
            if (!(key in wrap)) {
              wrap[key] = createEventListener(type, handler, options);
              aEL.call(this, type, wrap[key], wrap[key].capture);
            }
          } else {
            aEL.call(this, type, handler, options);
          }
        };
      }
      function createREL(rEL) {
        return function removeEventListener(type, handler, options) {
          if (options && typeof options !== 'boolean') {
            var
              info = dm.get(this),
              key, i, tmp, wrap
            ;
            if (info && (type in info)) {
              tmp = info[type];
              i = indexOf.call(tmp.handler, handler);
              if (-1 < i) {
                key = getListenerKey(options);
                wrap = tmp.wrap[i];
                if (key in wrap) {
                  rEL.call(this, type, wrap[key], wrap[key].capture);
                  delete wrap[key];
                  // return if there are other wraps
                  for (key in wrap) return;
                  // otherwise remove all the things
                  tmp.handler.splice(i, 1);
                  tmp.wrap.splice(i, 1);
                  // if there are no other handlers
                  if (tmp.handler.length === 0)
                    // drop the info[type] entirely
                    delete info[type];
                }
              }
            }
          } else {
            rEL.call(this, type, handler, options);
          }
        };
      }

      augment = function (Constructor) {
        if (!Constructor) return;
        var proto = Constructor.prototype;
        proto.addEventListener = createAEL(proto.addEventListener);
        proto.removeEventListener = createREL(proto.removeEventListener);
      };

      if (global.EventTarget) {
        augment(EventTarget);
      } else {
        augment(global.Text);
        augment(global.Element || global.HTMLElement);
        augment(global.HTMLDocument);
        augment(global.Window || {prototype:global});
        augment(global.XMLHttpRequest);
      }

    }());
  }

}(self));

},{}],328:[function(require,module,exports){
(function (global){
(function (global){
/*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
(function(w){
	"use strict";
	/* exported loadCSS */
	var loadCSS = function( href, before, media, attributes ){
		// Arguments explained:
		// `href` [REQUIRED] is the URL for your CSS file.
		// `before` [OPTIONAL] is the element the script should use as a reference for injecting our stylesheet <link> before
		// By default, loadCSS attempts to inject the link after the last stylesheet or script in the DOM. However, you might desire a more specific location in your document.
		// `media` [OPTIONAL] is the media type or query of the stylesheet. By default it will be 'all'
		// `attributes` [OPTIONAL] is the Object of attribute name/attribute value pairs to set on the stylesheet's DOM Element.
		var doc = w.document;
		var ss = doc.createElement( "link" );
		var ref;
		if( before ){
			ref = before;
		}
		else {
			var refs = ( doc.body || doc.getElementsByTagName( "head" )[ 0 ] ).childNodes;
			ref = refs[ refs.length - 1];
		}

		var sheets = doc.styleSheets;
		// Set any of the provided attributes to the stylesheet DOM Element.
		if( attributes ){
			for( var attributeName in attributes ){
				if( attributes.hasOwnProperty( attributeName ) ){
					ss.setAttribute( attributeName, attributes[attributeName] );
				}
			}
		}
		ss.rel = "stylesheet";
		ss.href = href;
		// temporarily set media to something inapplicable to ensure it'll fetch without blocking render
		ss.media = "only x";

		// wait until body is defined before injecting link. This ensures a non-blocking load in IE11.
		function ready( cb ){
			if( doc.body ){
				return cb();
			}
			setTimeout(function(){
				ready( cb );
			});
		}
		// Inject link
			// Note: the ternary preserves the existing behavior of "before" argument, but we could choose to change the argument to "after" in a later release and standardize on ref.nextSibling for all refs
			// Note: `insertBefore` is used instead of `appendChild`, for safety re: http://www.paulirish.com/2011/surefire-dom-element-insertion/
		ready( function(){
			ref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );
		});
		// A method (exposed on return object for external use) that mimics onload by polling document.styleSheets until it includes the new sheet.
		var onloadcssdefined = function( cb ){
			var resolvedHref = ss.href;
			var i = sheets.length;
			while( i-- ){
				if( sheets[ i ].href === resolvedHref ){
					return cb();
				}
			}
			setTimeout(function() {
				onloadcssdefined( cb );
			});
		};

		function loadCB(){
			if( ss.addEventListener ){
				ss.removeEventListener( "load", loadCB );
			}
			ss.media = media || "all";
		}

		// once loaded, set link's media back to `all` so that the stylesheet applies once it loads
		if( ss.addEventListener ){
			ss.addEventListener( "load", loadCB);
		}
		ss.onloadcssdefined = onloadcssdefined;
		onloadcssdefined( loadCB );
		return ss;
	};
	// commonjs
	if( typeof exports !== "undefined" ){
		exports.loadCSS = loadCSS;
	}
	else {
		w.loadCSS = loadCSS;
	}
}( typeof global !== "undefined" ? global : this ));

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],329:[function(require,module,exports){
/* Font Face Observer v2.1.0 - © Bram Stein. License: BSD-3-Clause */(function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c);a()}):document.attachEvent("onreadystatechange",function k(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",k),a()})};function t(a){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}
function u(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function z(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function A(a,b){function c(){var a=k;z(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);z(a)};function B(a,b){var c=b||{};this.family=a;this.style=c.style||"normal";this.weight=c.weight||"normal";this.stretch=c.stretch||"normal"}var C=null,D=null,E=null,F=null;function G(){if(null===D)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!a&&603>parseInt(a[1],10)}else D=!1;return D}function J(){null===F&&(F=!!document.fonts);return F}
function K(){if(null===E){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}E=""!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:"","100px",b].join(" ")}
B.prototype.load=function(a,b){var c=this,k=a||"BESbswy",r=0,n=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=n?b(Error(""+n+"ms timeout exceeded")):document.fonts.load(L(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},b)}e()}),N=new Promise(function(a,c){r=setTimeout(function(){c(Error(""+n+"ms timeout exceeded"))},n)});Promise.race([N,M]).then(function(){clearTimeout(r);a(c)},
b)}else m(function(){function v(){var b;if(b=-1!=f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===C&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),C=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=C&&(f==w&&g==w&&h==w||f==x&&g==x&&h==x||f==y&&g==y&&h==y)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(r),a(c))}function I(){if((new Date).getTime()-H>=n)d.parentNode&&d.parentNode.removeChild(d),b(Error(""+
n+"ms timeout exceeded"));else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,g=p.a.offsetWidth,h=q.a.offsetWidth,v();r=setTimeout(I,50)}}var e=new t(k),p=new t(k),q=new t(k),f=-1,g=-1,h=-1,w=-1,x=-1,y=-1,d=document.createElement("div");d.dir="ltr";u(e,L(c,"sans-serif"));u(p,L(c,"serif"));u(q,L(c,"monospace"));d.appendChild(e.a);d.appendChild(p.a);d.appendChild(q.a);document.body.appendChild(d);w=e.a.offsetWidth;x=p.a.offsetWidth;y=q.a.offsetWidth;I();A(e,function(a){f=a;v()});u(e,
L(c,'"'+c.family+'",sans-serif'));A(p,function(a){g=a;v()});u(p,L(c,'"'+c.family+'",serif'));A(q,function(a){h=a;v()});u(q,L(c,'"'+c.family+'",monospace'))})})};"object"===typeof module?module.exports=B:(window.FontFaceObserver=B,window.FontFaceObserver.prototype.load=B.prototype.load);}());

},{}],330:[function(require,module,exports){
/**
* @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
*/
;(function(window, document) {
/*jshint evil:true */
  /** version */
  var version = '3.7.3-pre';

  /** Preset options */
  var options = window.html5 || {};

  /** Used to skip problem elements */
  var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;

  /** Not all elements can be cloned in IE **/
  var saveClones = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;

  /** Detect whether the browser supports default html5 styles */
  var supportsHtml5Styles;

  /** Name of the expando, to work with multiple documents or to re-shiv one document */
  var expando = '_html5shiv';

  /** The id for the the documents expando */
  var expanID = 0;

  /** Cached data for each document */
  var expandoData = {};

  /** Detect whether the browser supports unknown elements */
  var supportsUnknownElements;

  (function() {
    try {
        var a = document.createElement('a');
        a.innerHTML = '<xyz></xyz>';
        //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles
        supportsHtml5Styles = ('hidden' in a);

        supportsUnknownElements = a.childNodes.length == 1 || (function() {
          // assign a false positive if unable to shiv
          (document.createElement)('a');
          var frag = document.createDocumentFragment();
          return (
            typeof frag.cloneNode == 'undefined' ||
            typeof frag.createDocumentFragment == 'undefined' ||
            typeof frag.createElement == 'undefined'
          );
        }());
    } catch(e) {
      // assign a false positive if detection fails => unable to shiv
      supportsHtml5Styles = true;
      supportsUnknownElements = true;
    }

  }());

  /*--------------------------------------------------------------------------*/

  /**
   * Creates a style sheet with the given CSS text and adds it to the document.
   * @private
   * @param {Document} ownerDocument The document.
   * @param {String} cssText The CSS text.
   * @returns {StyleSheet} The style element.
   */
  function addStyleSheet(ownerDocument, cssText) {
    var p = ownerDocument.createElement('p'),
        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;

    p.innerHTML = 'x<style>' + cssText + '</style>';
    return parent.insertBefore(p.lastChild, parent.firstChild);
  }

  /**
   * Returns the value of `html5.elements` as an array.
   * @private
   * @returns {Array} An array of shived element node names.
   */
  function getElements() {
    var elements = html5.elements;
    return typeof elements == 'string' ? elements.split(' ') : elements;
  }

  /**
   * Extends the built-in list of html5 elements
   * @memberOf html5
   * @param {String|Array} newElements whitespace separated list or array of new element names to shiv
   * @param {Document} ownerDocument The context document.
   */
  function addElements(newElements, ownerDocument) {
    var elements = html5.elements;
    if(typeof elements != 'string'){
      elements = elements.join(' ');
    }
    if(typeof newElements != 'string'){
      newElements = newElements.join(' ');
    }
    html5.elements = elements +' '+ newElements;
    shivDocument(ownerDocument);
  }

   /**
   * Returns the data associated to the given document
   * @private
   * @param {Document} ownerDocument The document.
   * @returns {Object} An object of data.
   */
  function getExpandoData(ownerDocument) {
    var data = expandoData[ownerDocument[expando]];
    if (!data) {
        data = {};
        expanID++;
        ownerDocument[expando] = expanID;
        expandoData[expanID] = data;
    }
    return data;
  }

  /**
   * returns a shived element for the given nodeName and document
   * @memberOf html5
   * @param {String} nodeName name of the element
   * @param {Document} ownerDocument The context document.
   * @returns {Object} The shived element.
   */
  function createElement(nodeName, ownerDocument, data){
    if (!ownerDocument) {
        ownerDocument = document;
    }
    if(supportsUnknownElements){
        return ownerDocument.createElement(nodeName);
    }
    if (!data) {
        data = getExpandoData(ownerDocument);
    }
    var node;

    if (data.cache[nodeName]) {
        node = data.cache[nodeName].cloneNode();
    } else if (saveClones.test(nodeName)) {
        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();
    } else {
        node = data.createElem(nodeName);
    }

    // Avoid adding some elements to fragments in IE < 9 because
    // * Attributes like `name` or `type` cannot be set/changed once an element
    //   is inserted into a document/fragment
    // * Link elements with `src` attributes that are inaccessible, as with
    //   a 403 response, will cause the tab/window to crash
    // * Script elements appended to fragments will execute when their `src`
    //   or `text` property is set
    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn ? data.frag.appendChild(node) : node;
  }

  /**
   * returns a shived DocumentFragment for the given document
   * @memberOf html5
   * @param {Document} ownerDocument The context document.
   * @returns {Object} The shived DocumentFragment.
   */
  function createDocumentFragment(ownerDocument, data){
    if (!ownerDocument) {
        ownerDocument = document;
    }
    if(supportsUnknownElements){
        return ownerDocument.createDocumentFragment();
    }
    data = data || getExpandoData(ownerDocument);
    var clone = data.frag.cloneNode(),
        i = 0,
        elems = getElements(),
        l = elems.length;
    for(;i<l;i++){
        clone.createElement(elems[i]);
    }
    return clone;
  }

  /**
   * Shivs the `createElement` and `createDocumentFragment` methods of the document.
   * @private
   * @param {Document|DocumentFragment} ownerDocument The document.
   * @param {Object} data of the document.
   */
  function shivMethods(ownerDocument, data) {
    if (!data.cache) {
        data.cache = {};
        data.createElem = ownerDocument.createElement;
        data.createFrag = ownerDocument.createDocumentFragment;
        data.frag = data.createFrag();
    }


    ownerDocument.createElement = function(nodeName) {
      //abort shiv
      if (!html5.shivMethods) {
          return data.createElem(nodeName);
      }
      return createElement(nodeName, ownerDocument, data);
    };

    ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +
      'var n=f.cloneNode(),c=n.createElement;' +
      'h.shivMethods&&(' +
        // unroll the `createElement` calls
        getElements().join().replace(/[\w\-:]+/g, function(nodeName) {
          data.createElem(nodeName);
          data.frag.createElement(nodeName);
          return 'c("' + nodeName + '")';
        }) +
      ');return n}'
    )(html5, data.frag);
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Shivs the given document.
   * @memberOf html5
   * @param {Document} ownerDocument The document to shiv.
   * @returns {Document} The shived document.
   */
  function shivDocument(ownerDocument) {
    if (!ownerDocument) {
        ownerDocument = document;
    }
    var data = getExpandoData(ownerDocument);

    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {
      data.hasCSS = !!addStyleSheet(ownerDocument,
        // corrects block display not defined in IE6/7/8/9
        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +
        // adds styling not present in IE6/7/8/9
        'mark{background:#FF0;color:#000}' +
        // hides non-rendered elements
        'template{display:none}'
      );
    }
    if (!supportsUnknownElements) {
      shivMethods(ownerDocument, data);
    }
    return ownerDocument;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * The `html5` object is exposed so that more elements can be shived and
   * existing shiving can be detected on iframes.
   * @type Object
   * @example
   *
   * // options can be changed before the script is included
   * html5 = { 'elements': 'mark section', 'shivCSS': false, 'shivMethods': false };
   */
  var html5 = {

    /**
     * An array or space separated string of node names of the elements to shiv.
     * @memberOf html5
     * @type Array|String
     */
    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video',

    /**
     * current version of html5shiv
     */
    'version': version,

    /**
     * A flag to indicate that the HTML5 style sheet should be inserted.
     * @memberOf html5
     * @type Boolean
     */
    'shivCSS': (options.shivCSS !== false),

    /**
     * Is equal to true if a browser supports creating unknown/HTML5 elements
     * @memberOf html5
     * @type boolean
     */
    'supportsUnknownElements': supportsUnknownElements,

    /**
     * A flag to indicate that the document's `createElement` and `createDocumentFragment`
     * methods should be overwritten.
     * @memberOf html5
     * @type Boolean
     */
    'shivMethods': (options.shivMethods !== false),

    /**
     * A string to describe the type of `html5` object ("default" or "default print").
     * @memberOf html5
     * @type String
     */
    'type': 'default',

    // shivs the document according to the specified `html5` object options
    'shivDocument': shivDocument,

    //creates a shived element
    createElement: createElement,

    //creates a shived documentFragment
    createDocumentFragment: createDocumentFragment,

    //extends list of elements
    addElements: addElements
  };

  /*--------------------------------------------------------------------------*/

  // expose html5
  window.html5 = html5;

  // shiv the document
  shivDocument(document);

  if(typeof module == 'object' && module.exports){
    module.exports = html5;
  }

}(typeof window !== "undefined" ? window : this, document));

},{}],331:[function(require,module,exports){
(function (global){
(function (global){
/*!
Copyright (C) 2013-2015 by WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
(function(window){
  /*! (C) WebReflection Mit Style License */
  if (document.createEvent) return;
  var
    DUNNOABOUTDOMLOADED = true,
    READYEVENTDISPATCHED = false,
    ONREADYSTATECHANGE = 'onreadystatechange',
    DOMCONTENTLOADED = 'DOMContentLoaded',
    SECRET = '__IE8__' + Math.random(),
    // Object = window.Object,
    defineProperty = Object.defineProperty ||
    // just in case ...
    function (object, property, descriptor) {
      object[property] = descriptor.value;
    },
    defineProperties = Object.defineProperties ||
    // IE8 implemented defineProperty but not the plural...
    function (object, descriptors) {
      for(var key in descriptors) {
        if (hasOwnProperty.call(descriptors, key)) {
          try {
            defineProperty(object, key, descriptors[key]);
          } catch(o_O) {
            if (window.console) {
              console.log(key + ' failed on object:', object, o_O.message);
            }
          }
        }
      }
    },
    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor,
    hasOwnProperty = Object.prototype.hasOwnProperty,
    // here IE7 will break like a charm
    ElementPrototype = window.Element.prototype,
    TextPrototype = window.Text.prototype,
    // none of above native constructors exist/are exposed
    possiblyNativeEvent = /^[a-z]+$/,
    // ^ actually could probably be just /^[a-z]+$/
    readyStateOK = /loaded|complete/,
    types = {},
    div = document.createElement('div'),
    html = document.documentElement,
    removeAttribute = html.removeAttribute,
    setAttribute = html.setAttribute,
    valueDesc = function (value) {
      return {
        enumerable: true,
        writable: true,
        configurable: true,
        value: value
      };
    }
  ;

  function commonEventLoop(currentTarget, e, $handlers, synthetic) {
    for(var
      handler,
      continuePropagation,
      handlers = $handlers.slice(),
      evt = enrich(e, currentTarget),
      i = 0, length = handlers.length; i < length; i++
    ) {
      handler = handlers[i];
      if (typeof handler === 'object') {
        if (typeof handler.handleEvent === 'function') {
          handler.handleEvent(evt);
        }
      } else {
        handler.call(currentTarget, evt);
      }
      if (evt.stoppedImmediatePropagation) break;
    }
    continuePropagation = !evt.stoppedPropagation;
    /*
    if (continuePropagation && !synthetic && !live(currentTarget)) {
      evt.cancelBubble = true;
    }
    */
    return (
      synthetic &&
      continuePropagation &&
      currentTarget.parentNode
    ) ?
      currentTarget.parentNode.dispatchEvent(evt) :
      !evt.defaultPrevented
    ;
  }

  function commonDescriptor(get, set) {
    return {
      // if you try with enumerable: true
      // IE8 will miserably fail
      configurable: true,
      get: get,
      set: set
    };
  }

  function commonTextContent(protoDest, protoSource, property) {
    var descriptor = getOwnPropertyDescriptor(
      protoSource || protoDest, property
    );
    defineProperty(
      protoDest,
      'textContent',
      commonDescriptor(
        function () {
          return descriptor.get.call(this);
        },
        function (textContent) {
          descriptor.set.call(this, textContent);
        }
      )
    );
  }

  function enrich(e, currentTarget) {
    e.currentTarget = currentTarget;
    e.eventPhase = (
      // AT_TARGET : BUBBLING_PHASE
      e.target === e.currentTarget ? 2 : 3
    );
    return e;
  }

  function find(array, value) {
    var i = array.length;
    while(i-- && array[i] !== value);
    return i;
  }

  function getTextContent() {
    if (this.tagName === 'BR') return '\n';
    var
      textNode = this.firstChild,
      arrayContent = []
    ;
    while(textNode) {
      if (textNode.nodeType !== 8 && textNode.nodeType !== 7) {
        arrayContent.push(textNode.textContent);
      }
      textNode = textNode.nextSibling;
    }
    return arrayContent.join('');
  }

  function live(self) {
    return self.nodeType !== 9 && html.contains(self);
  }

  function onkeyup(e) {
    var evt = document.createEvent('Event');
    evt.initEvent('input', true, true);
    (e.srcElement || e.fromElement || document).dispatchEvent(evt);
  }

  function onReadyState(e) {
    if (!READYEVENTDISPATCHED && readyStateOK.test(
      document.readyState
    )) {
      READYEVENTDISPATCHED = !READYEVENTDISPATCHED;
      document.detachEvent(ONREADYSTATECHANGE, onReadyState);
      e = document.createEvent('Event');
      e.initEvent(DOMCONTENTLOADED, true, true);
      document.dispatchEvent(e);
    }
  }
  
  function getter(attr) {
    return function() {
      return html[attr] || (document.body && document.body[attr]) || 0;
    };
  }

  function setTextContent(textContent) {
    var node;
    while ((node = this.lastChild)) {
      this.removeChild(node);
    }
    /*jshint eqnull:true */
    if (textContent != null) {
      this.appendChild(document.createTextNode(textContent));
    }
  }

  function verify(self, e) {
    if (!e) {
      e = window.event;
    }
    if (!e.target) {
      e.target = e.srcElement || e.fromElement || document;
    }
    if (!e.timeStamp) {
      e.timeStamp = (new Date()).getTime();
    }
    return e;
  }

  // normalized textContent for:
  //  comment, script, style, text, title
  commonTextContent(
    window.HTMLCommentElement.prototype,
    ElementPrototype,
    'nodeValue'
  );

  commonTextContent(
    window.HTMLScriptElement.prototype,
    null,
    'text'
  );

  commonTextContent(
    TextPrototype,
    null,
    'nodeValue'
  );

  commonTextContent(
    window.HTMLTitleElement.prototype,
    null,
    'text'
  );

  defineProperty(
    window.HTMLStyleElement.prototype,
    'textContent',
    (function(descriptor){
      return commonDescriptor(
        function () {
          return descriptor.get.call(this.styleSheet);
        },
        function (textContent) {
          descriptor.set.call(this.styleSheet, textContent);
        }
      );
    }(getOwnPropertyDescriptor(window.CSSStyleSheet.prototype, 'cssText')))
  );

  var opacityre = /\b\s*alpha\s*\(\s*opacity\s*=\s*(\d+)\s*\)/;
  defineProperty(
    window.CSSStyleDeclaration.prototype,
    'opacity', {
      get: function() {
        var m = this.filter.match(opacityre);
        return m ? (m[1] / 100).toString() : '';
      },
      set: function(value) {
        this.zoom = 1;
        var found = false;
        if (value < 1) {
          value = ' alpha(opacity=' + Math.round(value * 100) + ')';
        }
        else {
          value = '';
        }
        this.filter = this.filter.replace(opacityre,
                        function() { found = true; return value; });
        if (!found && value) {
          this.filter += value;
        }
      }
    }
  );

  defineProperties(
    ElementPrototype,
    {
      // bonus
      textContent: {
        get: getTextContent,
        set: setTextContent
      },
      // http://www.w3.org/TR/ElementTraversal/#interface-elementTraversal
      firstElementChild: {
        get: function () {
          for(var
            childNodes = this.childNodes || [],
            i = 0, length = childNodes.length;
            i < length; i++
          ) {
            if (childNodes[i].nodeType == 1) return childNodes[i];
          }
        }
      },
      lastElementChild: {
        get: function () {
          for(var
            childNodes = this.childNodes || [],
            i = childNodes.length;
            i--;
          ) {
            if (childNodes[i].nodeType == 1) return childNodes[i];
          }
        }
      },
      oninput: {
        get: function () {
          return this._oninput || null;
        },
        set: function (oninput) {
          if (this._oninput) {
            this.removeEventListener('input', this._oninput);
            this._oninput = oninput;
            if (oninput) {
              this.addEventListener('input', oninput);
            }
          }
        }
      },
      previousElementSibling: {
        get: function () {
          var previousElementSibling = this.previousSibling;
          while (previousElementSibling && previousElementSibling.nodeType != 1) {
            previousElementSibling = previousElementSibling.previousSibling;
          }
          return previousElementSibling;
        }
      },
      nextElementSibling: {
        get: function () {
          var nextElementSibling = this.nextSibling;
          while (nextElementSibling && nextElementSibling.nodeType != 1) {
            nextElementSibling = nextElementSibling.nextSibling;
          }
          return nextElementSibling;
        }
      },
      childElementCount: {
        get: function () {
          for(var
            count = 0,
            childNodes = this.childNodes || [],
            i = childNodes.length; i--; count += childNodes[i].nodeType == 1
          );
          return count;
        }
      },
      /*
      // children would be an override
      // IE8 already supports them but with comments too
      // not just nodeType 1
      children: {
        get: function () {
          for(var
            children = [],
            childNodes = this.childNodes || [],
            i = 0, length = childNodes.length;
            i < length; i++
          ) {
            if (childNodes[i].nodeType == 1) {
              children.push(childNodes[i]);
            }
          }
          return children;
        }
      },
      */
      // DOM Level 2 EventTarget methods and events
      addEventListener: valueDesc(function (type, handler, capture) {
        if (typeof handler !== 'function' && typeof handler !== 'object') return;
        var
          self = this,
          ontype = 'on' + type,
          temple =  self[SECRET] ||
                      defineProperty(
                        self, SECRET, {value: {}}
                      )[SECRET],
          currentType = temple[ontype] || (temple[ontype] = {}),
          handlers  = currentType.h || (currentType.h = []),
          e, attr
        ;
        if (!hasOwnProperty.call(currentType, 'w')) {
          currentType.w = function (e) {
            // e[SECRET] is a silent notification needed to avoid
            // fired events during live test
            return e[SECRET] || commonEventLoop(self, verify(self, e), handlers, false);
          };
          // if not detected yet
          if (!hasOwnProperty.call(types, ontype)) {
            // and potentially a native event
            if(possiblyNativeEvent.test(type)) {
              // do this heavy thing
              try {
                // TODO:  should I consider tagName too so that
                //        INPUT[ontype] could be different ?
                e = document.createEventObject();
                // do not clone ever a node
                // specially a document one ...
                // use the secret to ignore them all
                e[SECRET] = true;
                // document a part if a node has never been
                // added to any other node, fireEvent might
                // behave very weirdly (read: trigger unspecified errors)
                if (self.nodeType != 9) {
                  /*jshint eqnull:true */
                  if (self.parentNode == null) {
                    div.appendChild(self);
                  }
                  if ((attr = self.getAttribute(ontype))) {
                    removeAttribute.call(self, ontype);
                  }
                }
                self.fireEvent(ontype, e);
                types[ontype] = true;
              } catch(meh) {
                types[ontype] = false;
                while (div.hasChildNodes()) {
                  div.removeChild(div.firstChild);
                }
              }
              if (attr != null) {
                setAttribute.call(self, ontype, attr);
              }
            } else {
              // no need to bother since
              // 'x-event' ain't native for sure
              types[ontype] = false;
            }
          }
          if ((currentType.n = types[ontype])) {
            self.attachEvent(ontype, currentType.w);
          }
        }
        if (find(handlers, handler) < 0) {
          handlers[capture ? 'unshift' : 'push'](handler);
        }
        if (type === 'input') {
          self.attachEvent('onkeyup', onkeyup);
        }
      }),
      dispatchEvent: valueDesc(function (e) {
        var
          self = this,
          ontype = 'on' + e.type,
          temple =  self[SECRET],
          currentType = temple && temple[ontype],
          valid = !!currentType,
          parentNode
        ;
        if (!e.target) e.target = self;
        return (valid ? (
          currentType.n /* && live(self) */ ?
            self.fireEvent(ontype, e) :
            commonEventLoop(
              self,
              e,
              currentType.h,
              true
            )
        ) : (
          (parentNode = self.parentNode) /* && live(self) */ ?
            parentNode.dispatchEvent(e) :
            true
        )), !e.defaultPrevented;
      }),
      removeEventListener: valueDesc(function (type, handler, capture) {
        if (typeof handler !== 'function' && typeof handler !== 'object') return;
        var
          self = this,
          ontype = 'on' + type,
          temple =  self[SECRET],
          currentType = temple && temple[ontype],
          handlers = currentType && currentType.h,
          i = handlers ? find(handlers, handler) : -1
        ;
        if (-1 < i) handlers.splice(i, 1);
      })
    }
  );

  /* this is not needed in IE8
  defineProperties(window.HTMLSelectElement.prototype, {
    value: {
      get: function () {
        return this.options[this.selectedIndex].value;
      }
    }
  });
  //*/

  // EventTarget methods for Text nodes too
  defineProperties(TextPrototype, {
    addEventListener: valueDesc(ElementPrototype.addEventListener),
    dispatchEvent: valueDesc(ElementPrototype.dispatchEvent),
    removeEventListener: valueDesc(ElementPrototype.removeEventListener)
  });

  defineProperties(
    window.XMLHttpRequest.prototype,
    {
      addEventListener: valueDesc(function (type, handler, capture) {
        var
          self = this,
          ontype = 'on' + type,
          temple =  self[SECRET] ||
                      defineProperty(
                        self, SECRET, {value: {}}
                      )[SECRET],
          currentType = temple[ontype] || (temple[ontype] = {}),
          handlers  = currentType.h || (currentType.h = [])
        ;
        if (find(handlers, handler) < 0) {
          if (!self[ontype]) {
            self[ontype] = function () {
              var e = document.createEvent('Event');
              e.initEvent(type, true, true);
              self.dispatchEvent(e);
            };
          }
          handlers[capture ? 'unshift' : 'push'](handler);
        }
      }),
      dispatchEvent: valueDesc(function (e) {
        var
          self = this,
          ontype = 'on' + e.type,
          temple =  self[SECRET],
          currentType = temple && temple[ontype],
          valid = !!currentType
        ;
        return valid && (
          currentType.n /* && live(self) */ ?
            self.fireEvent(ontype, e) :
            commonEventLoop(
              self,
              e,
              currentType.h,
              true
            )
        );
      }),
      removeEventListener: valueDesc(ElementPrototype.removeEventListener)
    }
  );

  var buttonGetter = getOwnPropertyDescriptor(Event.prototype, 'button').get;
  defineProperties(
    window.Event.prototype,
    {
      bubbles: valueDesc(true),
      cancelable: valueDesc(true),
      preventDefault: valueDesc(function () {
        if (this.cancelable) {
          this.returnValue = false;
        }
      }),
      stopPropagation: valueDesc(function () {
        this.stoppedPropagation = true;
        this.cancelBubble = true;
      }),
      stopImmediatePropagation: valueDesc(function () {
        this.stoppedImmediatePropagation = true;
        this.stopPropagation();
      }),
      initEvent: valueDesc(function(type, bubbles, cancelable){
        this.type = type;
        this.bubbles = !!bubbles;
        this.cancelable = !!cancelable;
        if (!this.bubbles) {
          this.stopPropagation();
        }
      }),
      pageX: {get: function(){ return this._pageX || (this._pageX = this.clientX + window.scrollX - (html.clientLeft || 0)); }},
      pageY: {get: function(){ return this._pageY || (this._pageY = this.clientY + window.scrollY - (html.clientTop || 0)); }},
      which: {get: function(){ return this.keyCode ? this.keyCode : (isNaN(this.button) ? undefined : this.button + 1); }},
      charCode: {get: function(){ return (this.keyCode && this.type == 'keypress') ? this.keyCode : 0; }},
      buttons: {get: function(){ return buttonGetter.call(this); }},
      button: {get: function() {
        var buttons = this.buttons;
        return (buttons & 1 ? 0 : (buttons & 2 ? 2 : (buttons & 4 ? 1 : undefined)));
      }},
      defaultPrevented: {get: function() {
        // if preventDefault() was never called, or returnValue not given a value
        // then returnValue is undefined
        var returnValue = this.returnValue, undef;
        return !(returnValue === undef || returnValue);
      }},
      relatedTarget: {get: function() {
        var type = this.type;
        if (type === 'mouseover') {
          return this.fromElement;
        } else if (type === 'mouseout') {
          return this.toElement;
        } else {
          return null;
        }
      }}
    }
  );

  defineProperties(
    window.HTMLDocument.prototype,
    {
      defaultView: {
        get: function () {
          return this.parentWindow;
        }
      },
      textContent: {
        get: function () {
          return this.nodeType === 11 ? getTextContent.call(this) : null;
        },
        set: function (textContent) {
          if (this.nodeType === 11) {
            setTextContent.call(this, textContent);
          }
        }
      },
      addEventListener: valueDesc(function(type, handler, capture) {
        var self = this;
        ElementPrototype.addEventListener.call(self, type, handler, capture);
        // NOTE:  it won't fire if already loaded, this is NOT a $.ready() shim!
        //        this behaves just like standard browsers
        if (
          DUNNOABOUTDOMLOADED &&
          type === DOMCONTENTLOADED &&
          !readyStateOK.test(
            self.readyState
          )
        ) {
          DUNNOABOUTDOMLOADED = false;
          self.attachEvent(ONREADYSTATECHANGE, onReadyState);
          /* global top */
          if (window == top) {
            (function gonna(e){try{
              self.documentElement.doScroll('left');
              onReadyState();
              }catch(o_O){
              setTimeout(gonna, 50);
            }}());
          }
        }
      }),
      dispatchEvent: valueDesc(ElementPrototype.dispatchEvent),
      removeEventListener: valueDesc(ElementPrototype.removeEventListener),
      createEvent: valueDesc(function(Class){
        var e;
        if (Class !== 'Event') throw new Error('unsupported ' + Class);
        e = document.createEventObject();
        e.timeStamp = (new Date()).getTime();
        return e;
      })
    }
  );

  defineProperties(
    window.Window.prototype,
    {
      getComputedStyle: valueDesc(function(){

        var // partially grabbed from jQuery and Dean's hack
          notpixel = /^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/,
          position = /^(top|right|bottom|left)$/,
          re = /\-([a-z])/g,
          place = function (match, $1) {
            return $1.toUpperCase();
          }
        ;

        function ComputedStyle(_) {
          this._ = _;
        }

        ComputedStyle.prototype.getPropertyValue = function (name) {
          var
            el = this._,
            style = el.style,
            currentStyle = el.currentStyle,
            runtimeStyle = el.runtimeStyle,
            result,
            left,
            rtLeft
          ;
          if (name == 'opacity') {
            return style.opacity || '1';
          }
          name = (name === 'float' ? 'style-float' : name).replace(re, place);
          result = currentStyle ? currentStyle[name] : style[name];
          if (notpixel.test(result) && !position.test(name)) {
            left = style.left;
            rtLeft = runtimeStyle && runtimeStyle.left;
            if (rtLeft) {
              runtimeStyle.left = currentStyle.left;
            }
            style.left = name === 'fontSize' ? '1em' : result;
            result = style.pixelLeft + 'px';
            style.left = left;
            if (rtLeft) {
              runtimeStyle.left = rtLeft;
            }
          }
          /*jshint eqnull:true */
          return result == null ?
            result : ((result + '') || 'auto');
        };

        // unsupported
        function PseudoComputedStyle() {}
        PseudoComputedStyle.prototype.getPropertyValue = function () {
          return null;
        };

        return function (el, pseudo) {
          return pseudo ?
            new PseudoComputedStyle(el) :
            new ComputedStyle(el);
        };

      }()),

      addEventListener: valueDesc(function (type, handler, capture) {
        var
          self = window,
          ontype = 'on' + type,
          handlers
        ;
        if (!self[ontype]) {
          self[ontype] = function(e) {
            return commonEventLoop(self, verify(self, e), handlers, false) && undefined;
          };
        }
        handlers = self[ontype][SECRET] || (
          self[ontype][SECRET] = []
        );
        if (find(handlers, handler) < 0) {
          handlers[capture ? 'unshift' : 'push'](handler);
        }
      }),
      dispatchEvent: valueDesc(function (e) {
        var method = window['on' + e.type];
        return method ? method.call(window, e) !== false && !e.defaultPrevented : true;
      }),
      removeEventListener: valueDesc(function (type, handler, capture) {
        var
          ontype = 'on' + type,
          handlers = (window[ontype] || Object)[SECRET],
          i = handlers ? find(handlers, handler) : -1
         ;
        if (-1 < i) handlers.splice(i, 1);
      }),
      pageXOffset: {get: getter('scrollLeft')},
      pageYOffset: {get: getter('scrollTop')},
      scrollX: {get: getter('scrollLeft')},
      scrollY: {get: getter('scrollTop')},
      innerWidth: {get: getter('clientWidth')},
      innerHeight: {get: getter('clientHeight')}
    }
  );

  window.HTMLElement = window.Element;

  (function (styleSheets, HTML5Element, i) {
    for (i = 0; i < HTML5Element.length; i++) document.createElement(HTML5Element[i]);
    if (!styleSheets.length) document.createStyleSheet('');
    styleSheets[0].addRule(HTML5Element.join(','), 'display:block;');
  }(document.styleSheets, ['header', 'nav', 'section', 'article', 'aside', 'footer']));

  (function () {
    if (document.createRange) return;
    document.createRange = function createRange() {
      return new Range();
    };
  
    function getContents(start, end) {
      var nodes = [start];
      while (start !== end) {
        nodes.push(start = start.nextSibling);
      }
      return nodes;
    }
  
    function Range() {}
    var proto = Range.prototype;
    proto.cloneContents = function cloneContents() {
      for (var
        fragment = this._start.ownerDocument.createDocumentFragment(),
        nodes = getContents(this._start, this._end),
        i = 0,
        length = nodes.length;
        i < length; i++
      ) {
        fragment.appendChild(nodes[i].cloneNode(true));
      }
      return fragment;
    };
    proto.cloneRange = function cloneRange() {
      var range = new Range();
      range._start = this._start;
      range._end = this._end;
      return range;
    };
    proto.deleteContents = function deleteContents() {
      for (var
        parentNode = this._start.parentNode,
        nodes = getContents(this._start, this._end),
        i = 0,
        length = nodes.length;
        i < length; i++
      ) {
        parentNode.removeChild(nodes[i]);
      }
    };
    proto.extractContents = function extractContents() {
      for (var
        fragment = this._start.ownerDocument.createDocumentFragment(),
        nodes = getContents(this._start, this._end),
        i = 0,
        length = nodes.length;
        i < length; i++
      ) {
        fragment.appendChild(nodes[i]);
      }
      return fragment;
    };
    proto.setEndAfter = function setEndAfter(node) {
      this._end = node;
    };
    proto.setEndBefore = function setEndBefore(node) {
      this._end = node.previousSibling;
    };
    proto.setStartAfter = function setStartAfter(node) {
      this._start = node.nextSibling;
    };
    proto.setStartBefore = function setStartBefore(node) {
      this._start = node;
    };
  }());
}(this.window || global));
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],332:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }

var _path = require('./path');

var _path2 = _interopRequireDefault(_path);

var _polygon = require('./polygon');

var _polygon2 = _interopRequireDefault(_polygon);

var _ops = require('./ops');

var reflect = function reflect(p, q) {
  return (0, _ops.minus)((0, _ops.times)(2, p), q);
};

exports['default'] = function (_ref) {
  var _Path;

  var points = _ref.points;
  var tension = _ref.tension;

  tension = tension || 0.3;
  var diffs = [];
  var l = points.length;
  if (l <= 2) {
    return (0, _polygon2['default'])({ points: points });
  }
  for (var i = 1; i <= l - 1; i++) {
    diffs.push((0, _ops.times)(tension, (0, _ops.minus)(points[i], points[i - 1])));
  }
  var controlPoints = [(0, _ops.plus)(points[0], reflect(diffs[0], diffs[1]))];
  for (var i = 1; i <= l - 2; i++) {
    controlPoints.push((0, _ops.minus)(points[i], (0, _ops.average)([diffs[i], diffs[i - 1]])));
  }
  controlPoints.push((0, _ops.minus)(points[l - 1], reflect(diffs[l - 2], diffs[l - 3])));
  var c0 = controlPoints[0];
  var c1 = controlPoints[1];
  var p0 = points[0];
  var p1 = points[1];
  var path = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(p0)).curveto(c0[0], c0[1], c1[0], c1[1], p1[0], p1[1]);

  return {
    path: (0, _ops.range)(2, l).reduce(function (pt, i) {
      var c = controlPoints[i];
      var p = points[i];
      return pt.smoothcurveto(c[0], c[1], p[0], p[1]);
    }, path),
    centroid: (0, _ops.average)(points)
  };
};

module.exports = exports['default'];
},{"./ops":336,"./path":337,"./polygon":338}],333:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; })();

var sq = function sq(x) {
  return x * x;
};

var distPointToPoint = function distPointToPoint(_ref, _ref3) {
  var _ref2 = _slicedToArray(_ref, 2);

  var ax = _ref2[0];
  var ay = _ref2[1];

  var _ref32 = _slicedToArray(_ref3, 2);

  var bx = _ref32[0];
  var by = _ref32[1];
  return Math.sqrt(sq(ax - bx) + sq(ay - by));
};

var distPointToParabol = function distPointToParabol(a, f) {
  var p = distPointToPoint(a, f);

  return p == 0 ? Infinity : sq(p) / (2 * Math.abs(a[1] - f[1]));
};

var circumCenter = function circumCenter(a, b, c) {
  var d = (a[0] - c[0]) * (b[1] - c[1]) - (b[0] - c[0]) * (a[1] - c[1]);

  if (d == 0) return [Infinity, Infinity];

  var xc = (((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[1] - c[1]) - ((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[1] - c[1])) / d;
  var yc = (((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[0] - c[0]) - ((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[0] - c[0])) / d;
  return [xc, yc];
};

var parabolsCrossX = function parabolsCrossX(fa, fb, q) {
  if (fa[1] === fb[1]) return [(fa[0] + fb[0]) / 2, (fa[0] + fb[0]) / 2];

  var s1 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q + Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);
  var s2 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q - Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);

  return s1 < s2 ? [s1, s2] : [s2, s1];
};

var doHalflinesCross = function doHalflinesCross(sa, sb) {
  var approx = arguments.length <= 2 || arguments[2] === undefined ? 1e-10 : arguments[2];
  //sa, sb are Segment instance
  var dx = sb.ps[0] - sa.ps[0];
  var dy = sb.ps[1] - sa.ps[1];

  if (sa.m == Infinity) return sa.hp * (sb.m * dx - dy) <= approx && sb.vec[0] * dx <= approx;
  if (sb.m == Infinity) return sb.hp * (sa.m * dx - dy) >= -approx && sa.vec[0] * dx >= -approx;

  var det = sb.vec[0] * sa.vec[1] - sb.vec[1] * sa.vec[0];

  if (det === 0) return false;

  var u = (dy * sb.vec[0] - dx * sb.vec[1]) / det;
  var v = (dy * sa.vec[0] - dx * sa.vec[1]) / det;

  return u >= -approx && v >= approx || u >= approx && v >= -approx;
};

var matrixTransform = function matrixTransform(points, matrix) {
  return points.map(function (point) {
    return {
      x: point.x * matrix[0] + point.y * matrix[2] + matrix[4],
      y: point.x * matrix[1] + point.y * matrix[3] + matrix[5]
    };
  });
};

var transformEllipse = function transformEllipse(rx, ry, ax, m) {
  var torad = Math.PI / 180;
  var epsilon = 0.0000000001;

  var c = Math.cos(ax * torad),
      s = Math.sin(ax * torad);
  var ma = [rx * (m[0] * c + m[2] * s), rx * (m[1] * c + m[3] * s), ry * (-m[0] * s + m[2] * c), ry * (-m[1] * s + m[3] * c)];

  var J = ma[0] * ma[0] + ma[2] * ma[2],
      K = ma[1] * ma[1] + ma[3] * ma[3];

  var D = ((ma[0] - ma[3]) * (ma[0] - ma[3]) + (ma[2] + ma[1]) * (ma[2] + ma[1])) * ((ma[0] + ma[3]) * (ma[0] + ma[3]) + (ma[2] - ma[1]) * (ma[2] - ma[1]));

  var JK = (J + K) / 2;

  if (D < epsilon * JK) {
    return {
      rx: Math.sqrt(JK),
      ry: Math.sqrt(JK),
      ax: 0,
      isDegenerate: false
    };
  }

  var L = ma[0] * ma[1] + ma[2] * ma[3];
  D = Math.sqrt(D);

  var l1 = JK + D / 2,
      l2 = JK - D / 2;

  var newAx = undefined,
      newRx = undefined,
      newRy = undefined;
  newAx = Math.abs(L) < epsilon && Math.abs(l1 - K) < epsilon ? 90 : Math.atan(Math.abs(L) > Math.abs(l1 - K) ? (l1 - J) / L : L / (l1 - K)) * 180 / Math.PI;

  if (newAx >= 0) {
    newRx = Math.sqrt(l1);
    newRy = Math.sqrt(l2);
  } else {
    newAx += 90;
    newRx = Math.sqrt(l2);
    newRy = Math.sqrt(l1);
  }

  return {
    rx: newRx,
    ry: newRy,
    ax: newAx,
    isDegenerate: newRx < epsilon * newRy || newRy < epsilon * newRx
  };
};

exports["default"] = { distPointToPoint: distPointToPoint, distPointToParabol: distPointToParabol, circumCenter: circumCenter,
  parabolsCrossX: parabolsCrossX, doHalflinesCross: doHalflinesCross, matrixTransform: matrixTransform, transformEllipse: transformEllipse };
module.exports = exports["default"];
},{}],334:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _linear = require('./linear');

var _linear2 = _interopRequireDefault(_linear);

var _ops = require('./ops');

var epsilon = 1e-5;

var box = function box(datum, accessor, sort) {
  var points = datum.map(accessor);
  var sorted = sort ? points.sort(function (_ref, _ref3) {
    var _ref2 = _slicedToArray(_ref, 2);

    var a = _ref2[0];
    var b = _ref2[1];

    var _ref32 = _slicedToArray(_ref3, 2);

    var c = _ref32[0];
    var d = _ref32[1];
    return a - c;
  }) : points;
  var l = sorted.length;
  var xmin = sorted[0][0];
  var xmax = sorted[l - 1][0];
  var ymin = (0, _ops.minBy)(sorted, function (p) {
    return p[1];
  });
  var ymax = (0, _ops.maxBy)(sorted, function (p) {
    return p[1];
  });
  if (xmin == xmax) {
    xmax += epsilon;
  }
  if (ymin == ymax) {
    ymax += epsilon;
  }

  return {
    points: sorted,
    xmin: xmin,
    xmax: xmax,
    ymin: ymin,
    ymax: ymax
  };
};

exports['default'] = function (_ref4) {
  var data = _ref4.data;
  var xaccessor = _ref4.xaccessor;
  var yaccessor = _ref4.yaccessor;
  var width = _ref4.width;
  var height = _ref4.height;
  var closed = _ref4.closed;
  var min = _ref4.min;
  var max = _ref4.max;
  var _ref4$sort = _ref4.sort;
  var sort = _ref4$sort === undefined ? true : _ref4$sort;

  if (!xaccessor) {
    xaccessor = function (_ref5) {
      var _ref52 = _slicedToArray(_ref5, 2);

      var x = _ref52[0];
      var y = _ref52[1];
      return x;
    };
  }
  if (!yaccessor) {
    yaccessor = function (_ref6) {
      var _ref62 = _slicedToArray(_ref6, 2);

      var x = _ref62[0];
      var y = _ref62[1];
      return y;
    };
  }
  var f = function f(i) {
    return [xaccessor(i), yaccessor(i)];
  };
  var arranged = data.map(function (datum) {
    return box(datum, f, sort);
  });

  var xmin = (0, _ops.minBy)(arranged, function (d) {
    return d.xmin;
  });
  var xmax = (0, _ops.maxBy)(arranged, function (d) {
    return d.xmax;
  });
  var ymin = min == null ? (0, _ops.minBy)(arranged, function (d) {
    return d.ymin;
  }) : min;
  var ymax = max == null ? (0, _ops.maxBy)(arranged, function (d) {
    return d.ymax;
  }) : max;
  if (closed) {
    ymin = Math.min(ymin, 0);
    ymax = Math.max(ymax, 0);
  }
  var base = closed ? 0 : ymin;
  var xscale = (0, _linear2['default'])([xmin, xmax], [0, width]);
  var yscale = (0, _linear2['default'])([ymin, ymax], [height, 0]);
  var scale = function scale(_ref7) {
    var _ref72 = _slicedToArray(_ref7, 2);

    var x = _ref72[0];
    var y = _ref72[1];
    return [xscale(x), yscale(y)];
  };

  return {
    arranged: arranged,
    scale: scale,
    xscale: xscale,
    yscale: yscale,
    base: base
  };
};

module.exports = exports['default'];
},{"./linear":335,"./ops":336}],335:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; })();

var linear = function linear(_ref, _ref3) {
  var _ref2 = _slicedToArray(_ref, 2);

  var a = _ref2[0];
  var b = _ref2[1];

  var _ref32 = _slicedToArray(_ref3, 2);

  var c = _ref32[0];
  var d = _ref32[1];

  var f = function f(x) {
    return c + (d - c) * (x - a) / (b - a);
  };

  f.inverse = function () {
    return linear([c, d], [a, b]);
  };
  return f;
};

exports["default"] = linear;
module.exports = exports["default"];
},{}],336:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; })();

var sum = function sum(xs) {
  return xs.reduce(function (a, b) {
    return a + b;
  }, 0);
};

var min = function min(xs) {
  return xs.reduce(function (a, b) {
    return Math.min(a, b);
  });
};

var max = function max(xs) {
  return xs.reduce(function (a, b) {
    return Math.max(a, b);
  });
};

var sumBy = function sumBy(xs, f) {
  return xs.reduce(function (a, b) {
    return a + f(b);
  }, 0);
};

var minBy = function minBy(xs, f) {
  return xs.reduce(function (a, b) {
    return Math.min(a, f(b));
  }, Infinity);
};

var maxBy = function maxBy(xs, f) {
  return xs.reduce(function (a, b) {
    return Math.max(a, f(b));
  }, -Infinity);
};

var plus = function plus(_ref, _ref3) {
  var _ref2 = _slicedToArray(_ref, 2);

  var a = _ref2[0];
  var b = _ref2[1];

  var _ref32 = _slicedToArray(_ref3, 2);

  var c = _ref32[0];
  var d = _ref32[1];
  return [a + c, b + d];
};

var minus = function minus(_ref4, _ref5) {
  var _ref42 = _slicedToArray(_ref4, 2);

  var a = _ref42[0];
  var b = _ref42[1];

  var _ref52 = _slicedToArray(_ref5, 2);

  var c = _ref52[0];
  var d = _ref52[1];
  return [a - c, b - d];
};

var times = function times(k, _ref6) {
  var _ref62 = _slicedToArray(_ref6, 2);

  var a = _ref62[0];
  var b = _ref62[1];
  return [k * a, k * b];
};

var length = function length(_ref7) {
  var _ref72 = _slicedToArray(_ref7, 2);

  var a = _ref72[0];
  var b = _ref72[1];
  return Math.sqrt(a * a + b * b);
};

var sumVectors = function sumVectors(xs) {
  return xs.reduce(plus, [0, 0]);
};

var average = function average(points) {
  return times(1 / points.length, points.reduce(plus));
};

var onCircle = function onCircle(r, angle) {
  return times(r, [Math.sin(angle), -Math.cos(angle)]);
};

var enhance = function enhance(compute, curve) {
  var obj = compute || {};
  for (var key in obj) {
    var method = obj[key];
    curve[key] = method(curve.index, curve.item, curve.group);
  }
  return curve;
};

var range = function range(a, b, inclusive) {
  var result = [];
  for (var i = a; i < b; i++) {
    result.push(i);
  }
  if (inclusive) {
    result.push(b);
  }
  return result;
};

var mapObject = function mapObject(obj, f) {
  var result = [];
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = Object.keys(obj)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var k = _step.value;

      var v = obj[k];
      result.push(f(k, v));
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator["return"]) {
        _iterator["return"]();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  return result;
};

var pairs = function pairs(obj) {
  return mapObject(obj, function (k, v) {
    return [k, v];
  });
};

var id = function id(x) {
  return x;
};

exports.sum = sum;
exports.min = min;
exports.max = max;
exports.sumBy = sumBy;
exports.minBy = minBy;
exports.maxBy = maxBy;
exports.plus = plus;
exports.minus = minus;
exports.times = times;
exports.id = id;
exports.length = length;
exports.sumVectors = sumVectors;
exports.average = average;
exports.onCircle = onCircle;
exports.enhance = enhance;
exports.range = range;
exports.mapObject = mapObject;
exports.pairs = pairs;
exports["default"] = { sum: sum, min: min, max: max, sumBy: sumBy, minBy: minBy, maxBy: maxBy, plus: plus, minus: minus, times: times, id: id,
  length: length, sumVectors: sumVectors, average: average, onCircle: onCircle, enhance: enhance, range: range, mapObject: mapObject, pairs: pairs };
},{}],337:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();

var _geom = require('./geom');

var Path = function Path(init) {
  var _instructions = init || [];

  var push = function push(arr, el) {
    var copy = arr.slice(0, arr.length);
    copy.push(el);
    return copy;
  };

  var areEqualPoints = function areEqualPoints(_ref, _ref3) {
    var _ref2 = _slicedToArray(_ref, 2);

    var a1 = _ref2[0];
    var b1 = _ref2[1];

    var _ref32 = _slicedToArray(_ref3, 2);

    var a2 = _ref32[0];
    var b2 = _ref32[1];
    return a1 === a2 && b1 === b2;
  };

  var trimZeros = function trimZeros(string, char) {
    var l = string.length;
    while (string.charAt(l - 1) === '0') {
      l = l - 1;
    }
    if (string.charAt(l - 1) === '.') {
      l = l - 1;
    }
    return string.substr(0, l);
  };

  var round = function round(number, digits) {
    var str = number.toFixed(digits);
    return trimZeros(str);
  };

  var printInstrunction = function printInstrunction(_ref4) {
    var command = _ref4.command;
    var params = _ref4.params;

    var numbers = params.map(function (param) {
      return round(param, 6);
    });
    return command + ' ' + numbers.join(' ');
  };

  var point = function point(_ref5, prev) {
    var command = _ref5.command;
    var params = _ref5.params;

    switch (command) {
      case 'M':
        return [params[0], params[1]];
      case 'L':
        return [params[0], params[1]];
      case 'H':
        return [params[0], prev[1]];
      case 'V':
        return [prev[0], params[0]];
      case 'Z':
        return null;
      case 'C':
        return [params[4], params[5]];
      case 'S':
        return [params[2], params[3]];
      case 'Q':
        return [params[2], params[3]];
      case 'T':
        return [params[0], params[1]];
      case 'A':
        return [params[5], params[6]];
    }
  };

  var transformParams = function transformParams(instruction, matrix, prev) {
    var p = instruction.params;

    var transformer = {
      'V': function V(instruction, matrix, prev) {
        var pts = [{ x: prev[0], y: p[0] }];
        var newPts = (0, _geom.matrixTransform)(pts, matrix);
        if (newPts[0].x === (0, _geom.matrixTransform)([{ x: prev[0], y: prev[1] }], matrix)[0].x) {
          return {
            command: 'V',
            params: [newPts[0].y]
          };
        } else {
          return {
            command: 'L',
            params: [newPts[0].x, newPts[0].y]
          };
        }
      },
      'H': function H(instruction, matrix, prev) {
        var pts = [{ x: p[0], y: prev[1] }];
        var newPts = (0, _geom.matrixTransform)(pts, matrix);
        if (newPts[0].y === (0, _geom.matrixTransform)([{ x: prev[0], y: prev[1] }], matrix)[0].y) {
          return {
            command: 'H',
            params: [newPts[0].x]
          };
        } else {
          return {
            command: 'L',
            params: [newPts[0].x, newPts[0].y]
          };
        }
      },
      'A': function A(instruction, matrix, prev) {
        // transform rx, ry, and x-axis rotation
        var r = (0, _geom.transformEllipse)(p[0], p[1], p[2], matrix);

        var sweepFlag = p[4];
        if (matrix[0] * matrix[3] - matrix[1] * matrix[2] < 0) {
          sweepFlag = sweepFlag ? '0' : '1';
        }

        // transform endpoint
        var pts = [{ x: p[5], y: p[6] }];
        var newPts = (0, _geom.matrixTransform)(pts, matrix);

        if (r.isDegenerate) {
          return {
            command: 'L',
            params: [newPts[0].x, newPts[0].y]
          };
        } else {
          return {
            command: 'A',
            params: [r.rx, r.ry, r.ax, p[3], sweepFlag, newPts[0].x, newPts[0].y]
          };
        }
      },
      'C': function C(instruction, matrix, prev) {
        var pts = [{ x: p[0], y: p[1] }, { x: p[2], y: p[3] }, { x: p[4], y: p[5] }];
        var newPts = (0, _geom.matrixTransform)(pts, matrix);
        return {
          command: 'C',
          params: [newPts[0].x, newPts[0].y, newPts[1].x, newPts[1].y, newPts[2].x, newPts[2].y]
        };
      },
      'Z': function Z(instruction, matrix, prev) {
        return {
          command: 'Z',
          params: []
        };
      },
      'default': function _default(instruction, matrix, prev) {
        var pts = [{ x: p[0], y: p[1] }];
        var newPts = (0, _geom.matrixTransform)(pts, matrix);
        var newParams = instruction.params.slice(0, instruction.params.length);
        newParams.splice(0, 2, newPts[0].x, newPts[0].y);
        return {
          command: instruction.command,
          params: newParams
        };
      }
    };

    if (transformer[instruction.command]) {
      return transformer[instruction.command](instruction, matrix, prev);
    } else {
      return transformer['default'](instruction, matrix, prev);
    }
  };

  var verbosify = function verbosify(keys, f) {
    return function (a) {
      var args = typeof a === 'object' ? keys.map(function (k) {
        return a[k];
      }) : arguments;
      return f.apply(null, args);
    };
  };

  var plus = function plus(instruction) {
    return Path(push(_instructions, instruction));
  };

  return {
    moveto: verbosify(['x', 'y'], function (x, y) {
      return plus({
        command: 'M',
        params: [x, y]
      });
    }),
    lineto: verbosify(['x', 'y'], function (x, y) {
      return plus({
        command: 'L',
        params: [x, y]
      });
    }),
    hlineto: verbosify(['x'], function (x) {
      return plus({
        command: 'H',
        params: [x]
      });
    }),
    vlineto: verbosify(['y'], function (y) {
      return plus({
        command: 'V',
        params: [y]
      });
    }),
    closepath: function closepath() {
      return plus({
        command: 'Z',
        params: []
      });
    },
    curveto: verbosify(['x1', 'y1', 'x2', 'y2', 'x', 'y'], function (x1, y1, x2, y2, x, y) {
      return plus({
        command: 'C',
        params: [x1, y1, x2, y2, x, y]
      });
    }),
    smoothcurveto: verbosify(['x2', 'y2', 'x', 'y'], function (x2, y2, x, y) {
      return plus({
        command: 'S',
        params: [x2, y2, x, y]
      });
    }),
    qcurveto: verbosify(['x1', 'y1', 'x', 'y'], function (x1, y1, x, y) {
      return plus({
        command: 'Q',
        params: [x1, y1, x, y]
      });
    }),
    smoothqcurveto: verbosify(['x', 'y'], function (x, y) {
      return plus({
        command: 'T',
        params: [x, y]
      });
    }),
    arc: verbosify(['rx', 'ry', 'xrot', 'largeArcFlag', 'sweepFlag', 'x', 'y'], function (rx, ry, xrot, largeArcFlag, sweepFlag, x, y) {
      return plus({
        command: 'A',
        params: [rx, ry, xrot, largeArcFlag, sweepFlag, x, y]
      });
    }),
    translate: verbosify(['dx', 'dy'], function () {
      var dx = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];
      var dy = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];

      if (dx !== 0 || dy !== 0) {
        var _ret = (function () {
          var prev = [0, 0];
          var matrix = [1, 0, 0, 1, dx, dy];
          var newInstructions = _instructions.map(function (instruction) {
            var p = transformParams(instruction, matrix, prev);
            prev = point(instruction, prev);
            return p;
          });
          return {
            v: Path(newInstructions)
          };
        })();

        if (typeof _ret === 'object') return _ret.v;
      } else {
        return Path(_instructions);
      }
    }),
    rotate: verbosify(['angle', 'rx', 'ry'], function (angle) {
      var rx = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];
      var ry = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];

      if (angle !== 0) {
        var _ret2 = (function () {
          var prev = undefined;
          var matrix = undefined;
          var newInstructions = _instructions;

          if (rx !== 0 && ry !== 0) {
            prev = [0, 0];
            matrix = [1, 0, 0, 1, -rx, -ry];
            newInstructions = newInstructions.map(function (instruction) {
              var p = transformParams(instruction, matrix, prev);
              prev = point(instruction, prev);
              return p;
            });
          }

          var rad = angle * Math.PI / 180;
          var cos = Math.cos(rad);
          var sin = Math.sin(rad);

          prev = [0, 0];
          matrix = [cos, sin, -sin, cos, 0, 0];
          newInstructions = newInstructions.map(function (instruction) {
            var p = transformParams(instruction, matrix, prev);
            prev = point(instruction, prev);
            return p;
          });

          if (rx !== 0 && ry !== 0) {
            prev = [0, 0];
            matrix = [1, 0, 0, 1, rx, ry];
            newInstructions = newInstructions.map(function (instruction) {
              var p = transformParams(instruction, matrix, prev);
              prev = point(instruction, prev);
              return p;
            });
          }

          return {
            v: Path(newInstructions)
          };
        })();

        if (typeof _ret2 === 'object') return _ret2.v;
      } else {
        return Path(_instructions);
      }
    }),
    scale: verbosify(['sx', 'sy'], function () {
      var sx = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];
      var sy = arguments.length <= 1 || arguments[1] === undefined ? sx : arguments[1];
      return (function () {
        if (sx !== 1 || sy !== 1) {
          var _ret3 = (function () {
            var prev = [0, 0];
            var matrix = [sx, 0, 0, sy, 0, 0];
            var newInstructions = _instructions.map(function (instruction) {
              var p = transformParams(instruction, matrix, prev);
              prev = point(instruction, prev);
              return p;
            });
            return {
              v: Path(newInstructions)
            };
          })();

          if (typeof _ret3 === 'object') return _ret3.v;
        } else {
          return Path(_instructions);
        }
      })();
    }),
    shearX: verbosify(['angle'], function () {
      var angle = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];

      if (angle !== 0) {
        var _ret4 = (function () {
          var prev = [0, 0];
          var matrix = [1, 0, Math.tan(angle * Math.PI / 180), 1, 0, 0];
          var newInstructions = _instructions.map(function (instruction) {
            var p = transformParams(instruction, matrix, prev);
            prev = point(instruction, prev);
            return p;
          });
          return {
            v: Path(newInstructions)
          };
        })();

        if (typeof _ret4 === 'object') return _ret4.v;
      } else {
        return Path(_instructions);
      }
    }),
    shearY: verbosify(['angle'], function () {
      var angle = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];

      if (angle !== 0) {
        var _ret5 = (function () {
          var prev = [0, 0];
          var matrix = [1, Math.tan(angle * Math.PI / 180), 0, 1, 0, 0];
          var newInstructions = _instructions.map(function (instruction) {
            var p = transformParams(instruction, matrix, prev);
            prev = point(instruction, prev);
            return p;
          });
          return {
            v: Path(newInstructions)
          };
        })();

        if (typeof _ret5 === 'object') return _ret5.v;
      } else {
        return Path(_instructions);
      }
    }),
    print: function print() {
      return _instructions.map(printInstrunction).join(' ');
    },
    toString: function toString() {
      return undefined.print();
    },
    points: function points() {
      var ps = [];
      var prev = [0, 0];
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = _instructions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var instruction = _step.value;

          var p = point(instruction, prev);
          prev = p;
          if (p) {
            ps.push(p);
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator['return']) {
            _iterator['return']();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return ps;
    },
    instructions: function instructions() {
      return _instructions.slice(0, _instructions.length);
    },
    connect: function connect(path) {
      var ps = this.points();
      var last = ps[ps.length - 1];
      var first = path.points()[0];
      var newInstructions = undefined;
      if (_instructions[_instructions.length - 1].command !== 'Z') {
        newInstructions = path.instructions().slice(1);
        if (!areEqualPoints(last, first)) {
          newInstructions.unshift({
            command: "L",
            params: first
          });
        }
      } else {
        newInstructions = path.instructions();
      }
      return Path(this.instructions().concat(newInstructions));
    }
  };
};

exports['default'] = function () {
  return Path();
};

module.exports = exports['default'];
},{"./geom":333}],338:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }

var _path = require('./path');

var _path2 = _interopRequireDefault(_path);

var _ops = require('./ops');

exports['default'] = function (_ref) {
  var _Path;

  var points = _ref.points;
  var closed = _ref.closed;

  var l = points.length;
  var head = points[0];
  var tail = points.slice(1, l + 1);
  var path = tail.reduce(function (pt, p) {
    return pt.lineto.apply(pt, _toConsumableArray(p));
  }, (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(head)));

  return {
    path: closed ? path.closepath() : path,
    centroid: (0, _ops.average)(points)
  };
};

module.exports = exports['default'];
},{"./ops":336,"./path":337}],339:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }

var _bezier = require('./bezier');

var _bezier2 = _interopRequireDefault(_bezier);

var _lineChartComp = require('./line-chart-comp');

var _lineChartComp2 = _interopRequireDefault(_lineChartComp);

var _ops = require('./ops');

exports['default'] = function (options) {
  var _comp = (0, _lineChartComp2['default'])(options);

  var arranged = _comp.arranged;
  var scale = _comp.scale;
  var xscale = _comp.xscale;
  var yscale = _comp.yscale;
  var base = _comp.base;

  var i = -1;

  var lines = arranged.map(function (_ref) {
    var _line$path$lineto, _line$path;

    var points = _ref.points;
    var xmin = _ref.xmin;
    var xmax = _ref.xmax;

    var scaledPoints = points.map(scale);
    i += 1;
    var line = (0, _bezier2['default'])({ points: scaledPoints });
    var area = {
      path: (_line$path$lineto = (_line$path = line.path).lineto.apply(_line$path, _toConsumableArray(scale([xmax, base])))).lineto.apply(_line$path$lineto, _toConsumableArray(scale([xmin, base]))).closepath(),
      centroid: (0, _ops.average)([line.centroid, scale([xmin, base]), scale([xmax, base])])
    };

    return (0, _ops.enhance)(options.compute, {
      item: options.data[i],
      line: line,
      area: area,
      index: i
    });
  });

  return {
    curves: lines,
    xscale: xscale,
    yscale: yscale
  };
};

module.exports = exports['default'];
},{"./bezier":332,"./line-chart-comp":334,"./ops":336}],340:[function(require,module,exports){
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
	typeof define === 'function' && define.amd ? define(['exports'], factory) :
	factory(global.Ractive.events)
}(this, function (exports) { 'use strict';

	// TODO can we just declare the keydowhHandler once? using `this`?
	function makeKeyDefinition(code) {
		return function (node, fire) {
			function keydownHandler(event) {
				var which = event.which || event.keyCode;

				if (which === code) {
					event.preventDefault();

					fire({
						node: node,
						original: event
					});
				}
			}

			node.addEventListener('keydown', keydownHandler, false);

			return {
				teardown: function teardown() {
					node.removeEventListener('keydown', keydownHandler, false);
				}
			};
		};
	}

	var enter = makeKeyDefinition(13);
	var tab = makeKeyDefinition(9);
	var ractive_events_keys__escape = makeKeyDefinition(27);
	var space = makeKeyDefinition(32);

	var leftarrow = makeKeyDefinition(37);
	var rightarrow = makeKeyDefinition(39);
	var downarrow = makeKeyDefinition(40);
	var uparrow = makeKeyDefinition(38);

	exports.enter = enter;
	exports.tab = tab;
	exports.escape = ractive_events_keys__escape;
	exports.space = space;
	exports.leftarrow = leftarrow;
	exports.rightarrow = rightarrow;
	exports.downarrow = downarrow;
	exports.uparrow = uparrow;

}));
},{}],341:[function(require,module,exports){
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	global.Ractive.transitions.fade = factory();
}(this, function () { 'use strict';

	var DEFAULTS = {
		delay: 0,
		duration: 300,
		easing: 'linear'
	};

	function fade(t, params) {
		var targetOpacity;

		params = t.processParams(params, DEFAULTS);

		if (t.isIntro) {
			targetOpacity = t.getStyle('opacity');
			t.setStyle('opacity', 0);
		} else {
			targetOpacity = 0;
		}

		t.animateStyle('opacity', targetOpacity, params).then(t.complete);
	}

	return fade;

}));
},{}],342:[function(require,module,exports){
/*
	Ractive.js v0.7.3
	Sat Apr 25 2015 13:52:38 GMT-0400 (EDT) - commit da40f81c660ba2f09c45a09a9c20fdd34ee36d80

	http://ractivejs.org
	http://twitter.com/RactiveJS

	Released under the MIT License.
*/

(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  global.Ractive = factory()
}(this, function () { 'use strict';

  var TEMPLATE_VERSION = 3;

  var defaultOptions = {

  	// render placement:
  	el: void 0,
  	append: false,

  	// template:
  	template: { v: TEMPLATE_VERSION, t: [] },

  	// parse:     // TODO static delimiters?
  	preserveWhitespace: false,
  	sanitize: false,
  	stripComments: true,
  	delimiters: ["{{", "}}"],
  	tripleDelimiters: ["{{{", "}}}"],
  	interpolate: false,

  	// data & binding:
  	data: {},
  	computed: {},
  	magic: false,
  	modifyArrays: true,
  	adapt: [],
  	isolated: false,
  	twoway: true,
  	lazy: false,

  	// transitions:
  	noIntro: false,
  	transitionsEnabled: true,
  	complete: void 0,

  	// css:
  	css: null,
  	noCssTransform: false
  };

  var config_defaults = defaultOptions;

  // These are a subset of the easing equations found at
  // https://raw.github.com/danro/easing-js - license info
  // follows:

  // --------------------------------------------------
  // easing.js v0.5.4
  // Generic set of easing functions with AMD support
  // https://github.com/danro/easing-js
  // This code may be freely distributed under the MIT license
  // http://danro.mit-license.org/
  // --------------------------------------------------
  // All functions adapted from Thomas Fuchs & Jeremy Kahn
  // Easing Equations (c) 2003 Robert Penner, BSD license
  // https://raw.github.com/danro/easing-js/master/LICENSE
  // --------------------------------------------------

  // In that library, the functions named easeIn, easeOut, and
  // easeInOut below are named easeInCubic, easeOutCubic, and
  // (you guessed it) easeInOutCubic.
  //
  // You can add additional easing functions to this list, and they
  // will be globally available.

  var static_easing = {
  	linear: function (pos) {
  		return pos;
  	},
  	easeIn: function (pos) {
  		return Math.pow(pos, 3);
  	},
  	easeOut: function (pos) {
  		return Math.pow(pos - 1, 3) + 1;
  	},
  	easeInOut: function (pos) {
  		if ((pos /= 0.5) < 1) {
  			return 0.5 * Math.pow(pos, 3);
  		}
  		return 0.5 * (Math.pow(pos - 2, 3) + 2);
  	}
  };

  /*global console, navigator */
  var isClient, isJsdom, hasConsole, environment__magic, namespaces, svg, vendors;

  isClient = typeof document === "object";

  isJsdom = typeof navigator !== "undefined" && /jsDom/.test(navigator.appName);

  hasConsole = typeof console !== "undefined" && typeof console.warn === "function" && typeof console.warn.apply === "function";

  try {
  	Object.defineProperty({}, "test", { value: 0 });
  	environment__magic = true;
  } catch (e) {
  	environment__magic = false;
  }

  namespaces = {
  	html: "http://www.w3.org/1999/xhtml",
  	mathml: "http://www.w3.org/1998/Math/MathML",
  	svg: "http://www.w3.org/2000/svg",
  	xlink: "http://www.w3.org/1999/xlink",
  	xml: "http://www.w3.org/XML/1998/namespace",
  	xmlns: "http://www.w3.org/2000/xmlns/"
  };

  if (typeof document === "undefined") {
  	svg = false;
  } else {
  	svg = document && document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1");
  }

  vendors = ["o", "ms", "moz", "webkit"];

  var createElement, matches, dom__div, methodNames, unprefixed, prefixed, dom__i, j, makeFunction;

  // Test for SVG support
  if (!svg) {
  	createElement = function (type, ns) {
  		if (ns && ns !== namespaces.html) {
  			throw "This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";
  		}

  		return document.createElement(type);
  	};
  } else {
  	createElement = function (type, ns) {
  		if (!ns || ns === namespaces.html) {
  			return document.createElement(type);
  		}

  		return document.createElementNS(ns, type);
  	};
  }

  function getElement(input) {
  	var output;

  	if (!input || typeof input === "boolean") {
  		return;
  	}

  	if (typeof window === "undefined" || !document || !input) {
  		return null;
  	}

  	// We already have a DOM node - no work to do. (Duck typing alert!)
  	if (input.nodeType) {
  		return input;
  	}

  	// Get node from string
  	if (typeof input === "string") {
  		// try ID first
  		output = document.getElementById(input);

  		// then as selector, if possible
  		if (!output && document.querySelector) {
  			output = document.querySelector(input);
  		}

  		// did it work?
  		if (output && output.nodeType) {
  			return output;
  		}
  	}

  	// If we've been given a collection (jQuery, Zepto etc), extract the first item
  	if (input[0] && input[0].nodeType) {
  		return input[0];
  	}

  	return null;
  }

  if (!isClient) {
  	matches = null;
  } else {
  	dom__div = createElement("div");
  	methodNames = ["matches", "matchesSelector"];

  	makeFunction = function (methodName) {
  		return function (node, selector) {
  			return node[methodName](selector);
  		};
  	};

  	dom__i = methodNames.length;

  	while (dom__i-- && !matches) {
  		unprefixed = methodNames[dom__i];

  		if (dom__div[unprefixed]) {
  			matches = makeFunction(unprefixed);
  		} else {
  			j = vendors.length;
  			while (j--) {
  				prefixed = vendors[dom__i] + unprefixed.substr(0, 1).toUpperCase() + unprefixed.substring(1);

  				if (dom__div[prefixed]) {
  					matches = makeFunction(prefixed);
  					break;
  				}
  			}
  		}
  	}

  	// IE8...
  	if (!matches) {
  		matches = function (node, selector) {
  			var nodes, parentNode, i;

  			parentNode = node.parentNode;

  			if (!parentNode) {
  				// empty dummy <div>
  				dom__div.innerHTML = "";

  				parentNode = dom__div;
  				node = node.cloneNode();

  				dom__div.appendChild(node);
  			}

  			nodes = parentNode.querySelectorAll(selector);

  			i = nodes.length;
  			while (i--) {
  				if (nodes[i] === node) {
  					return true;
  				}
  			}

  			return false;
  		};
  	}
  }

  function detachNode(node) {
  	if (node && typeof node.parentNode !== "unknown" && node.parentNode) {
  		node.parentNode.removeChild(node);
  	}

  	return node;
  }

  function safeToStringValue(value) {
  	return value == null || !value.toString ? "" : value;
  }

  var noop = function () {};

  var win, doc, exportedShims;

  if (typeof window === "undefined") {
  	exportedShims = null;
  } else {
  	win = window;
  	doc = win.document;
  	exportedShims = {};

  	if (!doc) {
  		exportedShims = null;
  	}

  	// Shims for older browsers

  	if (!Date.now) {
  		Date.now = function () {
  			return +new Date();
  		};
  	}

  	if (!String.prototype.trim) {
  		String.prototype.trim = function () {
  			return this.replace(/^\s+/, "").replace(/\s+$/, "");
  		};
  	}

  	// Polyfill for Object.keys
  	// https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/keys
  	if (!Object.keys) {
  		Object.keys = (function () {
  			var hasOwnProperty = Object.prototype.hasOwnProperty,
  			    hasDontEnumBug = !({ toString: null }).propertyIsEnumerable("toString"),
  			    dontEnums = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
  			    dontEnumsLength = dontEnums.length;

  			return function (obj) {
  				if (typeof obj !== "object" && typeof obj !== "function" || obj === null) {
  					throw new TypeError("Object.keys called on non-object");
  				}

  				var result = [];

  				for (var prop in obj) {
  					if (hasOwnProperty.call(obj, prop)) {
  						result.push(prop);
  					}
  				}

  				if (hasDontEnumBug) {
  					for (var i = 0; i < dontEnumsLength; i++) {
  						if (hasOwnProperty.call(obj, dontEnums[i])) {
  							result.push(dontEnums[i]);
  						}
  					}
  				}
  				return result;
  			};
  		})();
  	}

  	// TODO: use defineProperty to make these non-enumerable

  	// Array extras
  	if (!Array.prototype.indexOf) {
  		Array.prototype.indexOf = function (needle, i) {
  			var len;

  			if (i === undefined) {
  				i = 0;
  			}

  			if (i < 0) {
  				i += this.length;
  			}

  			if (i < 0) {
  				i = 0;
  			}

  			for (len = this.length; i < len; i++) {
  				if (this.hasOwnProperty(i) && this[i] === needle) {
  					return i;
  				}
  			}

  			return -1;
  		};
  	}

  	if (!Array.prototype.forEach) {
  		Array.prototype.forEach = function (callback, context) {
  			var i, len;

  			for (i = 0, len = this.length; i < len; i += 1) {
  				if (this.hasOwnProperty(i)) {
  					callback.call(context, this[i], i, this);
  				}
  			}
  		};
  	}

  	if (!Array.prototype.map) {
  		Array.prototype.map = function (mapper, context) {
  			var array = this,
  			    i,
  			    len,
  			    mapped = [],
  			    isActuallyString;

  			// incredibly, if you do something like
  			// Array.prototype.map.call( someString, iterator )
  			// then `this` will become an instance of String in IE8.
  			// And in IE8, you then can't do string[i]. Facepalm.
  			if (array instanceof String) {
  				array = array.toString();
  				isActuallyString = true;
  			}

  			for (i = 0, len = array.length; i < len; i += 1) {
  				if (array.hasOwnProperty(i) || isActuallyString) {
  					mapped[i] = mapper.call(context, array[i], i, array);
  				}
  			}

  			return mapped;
  		};
  	}

  	if (typeof Array.prototype.reduce !== "function") {
  		Array.prototype.reduce = function (callback, opt_initialValue) {
  			var i, value, len, valueIsSet;

  			if ("function" !== typeof callback) {
  				throw new TypeError(callback + " is not a function");
  			}

  			len = this.length;
  			valueIsSet = false;

  			if (arguments.length > 1) {
  				value = opt_initialValue;
  				valueIsSet = true;
  			}

  			for (i = 0; i < len; i += 1) {
  				if (this.hasOwnProperty(i)) {
  					if (valueIsSet) {
  						value = callback(value, this[i], i, this);
  					}
  				} else {
  					value = this[i];
  					valueIsSet = true;
  				}
  			}

  			if (!valueIsSet) {
  				throw new TypeError("Reduce of empty array with no initial value");
  			}

  			return value;
  		};
  	}

  	if (!Array.prototype.filter) {
  		Array.prototype.filter = function (filter, context) {
  			var i,
  			    len,
  			    filtered = [];

  			for (i = 0, len = this.length; i < len; i += 1) {
  				if (this.hasOwnProperty(i) && filter.call(context, this[i], i, this)) {
  					filtered[filtered.length] = this[i];
  				}
  			}

  			return filtered;
  		};
  	}

  	if (!Array.prototype.every) {
  		Array.prototype.every = function (iterator, context) {
  			var t, len, i;

  			if (this == null) {
  				throw new TypeError();
  			}

  			t = Object(this);
  			len = t.length >>> 0;

  			if (typeof iterator !== "function") {
  				throw new TypeError();
  			}

  			for (i = 0; i < len; i += 1) {
  				if (i in t && !iterator.call(context, t[i], i, t)) {
  					return false;
  				}
  			}

  			return true;
  		};
  	}

  	/*
   // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find
   if (!Array.prototype.find) {
   	Array.prototype.find = function(predicate) {
   		if (this == null) {
   		throw new TypeError('Array.prototype.find called on null or undefined');
   		}
   		if (typeof predicate !== 'function') {
   		throw new TypeError('predicate must be a function');
   		}
   		var list = Object(this);
   		var length = list.length >>> 0;
   		var thisArg = arguments[1];
   		var value;
   			for (var i = 0; i < length; i++) {
   			if (i in list) {
   				value = list[i];
   				if (predicate.call(thisArg, value, i, list)) {
   				return value;
   				}
   			}
   		}
   		return undefined;
   	}
   }
   */

  	if (typeof Function.prototype.bind !== "function") {
  		Function.prototype.bind = function (context) {
  			var args,
  			    fn,
  			    Empty,
  			    bound,
  			    slice = [].slice;

  			if (typeof this !== "function") {
  				throw new TypeError("Function.prototype.bind called on non-function");
  			}

  			args = slice.call(arguments, 1);
  			fn = this;
  			Empty = function () {};

  			bound = function () {
  				var ctx = this instanceof Empty && context ? this : context;
  				return fn.apply(ctx, args.concat(slice.call(arguments)));
  			};

  			Empty.prototype = this.prototype;
  			bound.prototype = new Empty();

  			return bound;
  		};
  	}

  	// https://gist.github.com/Rich-Harris/6010282 via https://gist.github.com/jonathantneal/2869388
  	// addEventListener polyfill IE6+
  	if (!win.addEventListener) {
  		(function (win, doc) {
  			var Event, addEventListener, removeEventListener, head, style, origCreateElement;

  			// because sometimes inquiring minds want to know
  			win.appearsToBeIELessEqual8 = true;

  			Event = function (e, element) {
  				var property,
  				    instance = this;

  				for (property in e) {
  					instance[property] = e[property];
  				}

  				instance.currentTarget = element;
  				instance.target = e.srcElement || element;
  				instance.timeStamp = +new Date();

  				instance.preventDefault = function () {
  					e.returnValue = false;
  				};

  				instance.stopPropagation = function () {
  					e.cancelBubble = true;
  				};
  			};

  			addEventListener = function (type, listener) {
  				var element = this,
  				    listeners,
  				    i;

  				listeners = element.listeners || (element.listeners = []);
  				i = listeners.length;

  				listeners[i] = [listener, function (e) {
  					listener.call(element, new Event(e, element));
  				}];

  				element.attachEvent("on" + type, listeners[i][1]);
  			};

  			removeEventListener = function (type, listener) {
  				var element = this,
  				    listeners,
  				    i;

  				if (!element.listeners) {
  					return;
  				}

  				listeners = element.listeners;
  				i = listeners.length;

  				while (i--) {
  					if (listeners[i][0] === listener) {
  						element.detachEvent("on" + type, listeners[i][1]);
  					}
  				}
  			};

  			win.addEventListener = doc.addEventListener = addEventListener;
  			win.removeEventListener = doc.removeEventListener = removeEventListener;

  			if ("Element" in win) {
  				win.Element.prototype.addEventListener = addEventListener;
  				win.Element.prototype.removeEventListener = removeEventListener;
  			} else {
  				// First, intercept any calls to document.createElement - this is necessary
  				// because the CSS hack (see below) doesn't come into play until after a
  				// node is added to the DOM, which is too late for a lot of Ractive setup work
  				origCreateElement = doc.createElement;

  				doc.createElement = function (tagName) {
  					var el = origCreateElement(tagName);
  					el.addEventListener = addEventListener;
  					el.removeEventListener = removeEventListener;
  					return el;
  				};

  				// Then, mop up any additional elements that weren't created via
  				// document.createElement (i.e. with innerHTML).
  				head = doc.getElementsByTagName("head")[0];
  				style = doc.createElement("style");

  				head.insertBefore(style, head.firstChild);

  				//style.styleSheet.cssText = '*{-ms-event-prototype:expression(!this.addEventListener&&(this.addEventListener=addEventListener)&&(this.removeEventListener=removeEventListener))}';
  			}
  		})(win, doc);
  	}

  	// The getComputedStyle polyfill interacts badly with jQuery, so we don't attach
  	// it to window. Instead, we export it for other modules to use as needed

  	// https://github.com/jonathantneal/Polyfills-for-IE8/blob/master/getComputedStyle.js
  	if (!win.getComputedStyle) {
  		exportedShims.getComputedStyle = (function () {
  			var borderSizes = {};

  			function getPixelSize(element, style, property, fontSize) {
  				var sizeWithSuffix = style[property],
  				    size = parseFloat(sizeWithSuffix),
  				    suffix = sizeWithSuffix.split(/\d/)[0],
  				    rootSize;

  				if (isNaN(size)) {
  					if (/^thin|medium|thick$/.test(sizeWithSuffix)) {
  						size = getBorderPixelSize(sizeWithSuffix);
  						suffix = "";
  					} else {}
  				}

  				fontSize = fontSize != null ? fontSize : /%|em/.test(suffix) && element.parentElement ? getPixelSize(element.parentElement, element.parentElement.currentStyle, "fontSize", null) : 16;
  				rootSize = property == "fontSize" ? fontSize : /width/i.test(property) ? element.clientWidth : element.clientHeight;

  				return suffix == "em" ? size * fontSize : suffix == "in" ? size * 96 : suffix == "pt" ? size * 96 / 72 : suffix == "%" ? size / 100 * rootSize : size;
  			}

  			function getBorderPixelSize(size) {
  				var div, bcr;

  				// `thin`, `medium` and `thick` vary between browsers. (Don't ever use them.)
  				if (!borderSizes[size]) {
  					div = document.createElement("div");
  					div.style.display = "block";
  					div.style.position = "fixed";
  					div.style.width = div.style.height = "0";
  					div.style.borderRight = size + " solid black";

  					document.getElementsByTagName("body")[0].appendChild(div);
  					bcr = div.getBoundingClientRect();

  					borderSizes[size] = bcr.right - bcr.left;
  				}

  				return borderSizes[size];
  			}

  			function setShortStyleProperty(style, property) {
  				var borderSuffix = property == "border" ? "Width" : "",
  				    t = property + "Top" + borderSuffix,
  				    r = property + "Right" + borderSuffix,
  				    b = property + "Bottom" + borderSuffix,
  				    l = property + "Left" + borderSuffix;

  				style[property] = (style[t] == style[r] == style[b] == style[l] ? [style[t]] : style[t] == style[b] && style[l] == style[r] ? [style[t], style[r]] : style[l] == style[r] ? [style[t], style[r], style[b]] : [style[t], style[r], style[b], style[l]]).join(" ");
  			}

  			var normalProps = {
  				fontWeight: 400,
  				lineHeight: 1.2, // actually varies depending on font-family, but is generally close enough...
  				letterSpacing: 0
  			};

  			function CSSStyleDeclaration(element) {
  				var currentStyle, style, fontSize, property;

  				currentStyle = element.currentStyle;
  				style = this;
  				fontSize = getPixelSize(element, currentStyle, "fontSize", null);

  				// TODO tidy this up, test it, send PR to jonathantneal!
  				for (property in currentStyle) {
  					if (currentStyle[property] === "normal" && normalProps.hasOwnProperty(property)) {
  						style[property] = normalProps[property];
  					} else if (/width|height|margin.|padding.|border.+W/.test(property)) {
  						if (currentStyle[property] === "auto") {
  							if (/^width|height/.test(property)) {
  								// just use clientWidth/clientHeight...
  								style[property] = (property === "width" ? element.clientWidth : element.clientHeight) + "px";
  							} else if (/(?:padding)?Top|Bottom$/.test(property)) {
  								style[property] = "0px";
  							}
  						} else {
  							style[property] = getPixelSize(element, currentStyle, property, fontSize) + "px";
  						}
  					} else if (property === "styleFloat") {
  						style.float = currentStyle[property];
  					} else {
  						style[property] = currentStyle[property];
  					}
  				}

  				setShortStyleProperty(style, "margin");
  				setShortStyleProperty(style, "padding");
  				setShortStyleProperty(style, "border");

  				style.fontSize = fontSize + "px";

  				return style;
  			}

  			CSSStyleDeclaration.prototype = {
  				constructor: CSSStyleDeclaration,
  				getPropertyPriority: noop,
  				getPropertyValue: function (prop) {
  					return this[prop] || "";
  				},
  				item: noop,
  				removeProperty: noop,
  				setProperty: noop,
  				getPropertyCSSValue: noop
  			};

  			function getComputedStyle(element) {
  				return new CSSStyleDeclaration(element);
  			}

  			return getComputedStyle;
  		})();
  	}
  }

  var legacy = exportedShims;

  // TODO...

  var create, defineProperty, defineProperties;

  try {
  	Object.defineProperty({}, "test", { value: 0 });

  	if (isClient) {
  		Object.defineProperty(document.createElement("div"), "test", { value: 0 });
  	}

  	defineProperty = Object.defineProperty;
  } catch (err) {
  	// Object.defineProperty doesn't exist, or we're in IE8 where you can
  	// only use it with DOM objects (what were you smoking, MSFT?)
  	defineProperty = function (obj, prop, desc) {
  		obj[prop] = desc.value;
  	};
  }

  try {
  	try {
  		Object.defineProperties({}, { test: { value: 0 } });
  	} catch (err) {
  		// TODO how do we account for this? noMagic = true;
  		throw err;
  	}

  	if (isClient) {
  		Object.defineProperties(createElement("div"), { test: { value: 0 } });
  	}

  	defineProperties = Object.defineProperties;
  } catch (err) {
  	defineProperties = function (obj, props) {
  		var prop;

  		for (prop in props) {
  			if (props.hasOwnProperty(prop)) {
  				defineProperty(obj, prop, props[prop]);
  			}
  		}
  	};
  }

  try {
  	Object.create(null);

  	create = Object.create;
  } catch (err) {
  	// sigh
  	create = (function () {
  		var F = function () {};

  		return function (proto, props) {
  			var obj;

  			if (proto === null) {
  				return {};
  			}

  			F.prototype = proto;
  			obj = new F();

  			if (props) {
  				Object.defineProperties(obj, props);
  			}

  			return obj;
  		};
  	})();
  }

  function utils_object__extend(target) {
  	for (var _len = arguments.length, sources = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
  		sources[_key - 1] = arguments[_key];
  	}

  	var prop, source;

  	while (source = sources.shift()) {
  		for (prop in source) {
  			if (hasOwn.call(source, prop)) {
  				target[prop] = source[prop];
  			}
  		}
  	}

  	return target;
  }

  function fillGaps(target) {
  	for (var _len = arguments.length, sources = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
  		sources[_key - 1] = arguments[_key];
  	}

  	sources.forEach(function (s) {
  		for (var key in s) {
  			if (s.hasOwnProperty(key) && !(key in target)) {
  				target[key] = s[key];
  			}
  		}
  	});

  	return target;
  }

  var hasOwn = Object.prototype.hasOwnProperty;

  // thanks, http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/
  var is__toString = Object.prototype.toString,
      arrayLikePattern = /^\[object (?:Array|FileList)\]$/;
  function isArray(thing) {
  	return is__toString.call(thing) === "[object Array]";
  }

  function isArrayLike(obj) {
  	return arrayLikePattern.test(is__toString.call(obj));
  }

  function isEqual(a, b) {
  	if (a === null && b === null) {
  		return true;
  	}

  	if (typeof a === "object" || typeof b === "object") {
  		return false;
  	}

  	return a === b;
  }

  function is__isNumeric(thing) {
  	return !isNaN(parseFloat(thing)) && isFinite(thing);
  }

  function isObject(thing) {
  	return thing && is__toString.call(thing) === "[object Object]";
  }

  /* global console */
  var alreadyWarned = {},
      log,
      printWarning,
      welcome;

  if (hasConsole) {
  	(function () {
  		var welcomeIntro = ["%cRactive.js %c0.7.3 %cin debug mode, %cmore...", "color: rgb(114, 157, 52); font-weight: normal;", "color: rgb(85, 85, 85); font-weight: normal;", "color: rgb(85, 85, 85); font-weight: normal;", "color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"];
  		var welcomeMessage = "You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";

  		welcome = function () {
  			var hasGroup = !!console.groupCollapsed;
  			console[hasGroup ? "groupCollapsed" : "log"].apply(console, welcomeIntro);
  			console.log(welcomeMessage);
  			if (hasGroup) {
  				console.groupEnd(welcomeIntro);
  			}

  			welcome = noop;
  		};

  		printWarning = function (message, args) {
  			welcome();

  			// extract information about the instance this message pertains to, if applicable
  			if (typeof args[args.length - 1] === "object") {
  				var options = args.pop();
  				var ractive = options ? options.ractive : null;

  				if (ractive) {
  					// if this is an instance of a component that we know the name of, add
  					// it to the message
  					var _name = undefined;
  					if (ractive.component && (_name = ractive.component.name)) {
  						message = "<" + _name + "> " + message;
  					}

  					var node = undefined;
  					if (node = options.node || ractive.fragment && ractive.fragment.rendered && ractive.find("*")) {
  						args.push(node);
  					}
  				}
  			}

  			console.warn.apply(console, ["%cRactive.js: %c" + message, "color: rgb(114, 157, 52);", "color: rgb(85, 85, 85);"].concat(args));
  		};

  		log = function () {
  			console.log.apply(console, arguments);
  		};
  	})();
  } else {
  	printWarning = log = welcome = noop;
  }

  function format(message, args) {
  	return message.replace(/%s/g, function () {
  		return args.shift();
  	});
  }

  function fatal(message) {
  	for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
  		args[_key - 1] = arguments[_key];
  	}

  	message = format(message, args);
  	throw new Error(message);
  }

  function logIfDebug() {
  	if (_Ractive.DEBUG) {
  		log.apply(null, arguments);
  	}
  }

  function warn(message) {
  	for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
  		args[_key - 1] = arguments[_key];
  	}

  	message = format(message, args);
  	printWarning(message, args);
  }

  function warnOnce(message) {
  	for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
  		args[_key - 1] = arguments[_key];
  	}

  	message = format(message, args);

  	if (alreadyWarned[message]) {
  		return;
  	}

  	alreadyWarned[message] = true;
  	printWarning(message, args);
  }

  function warnIfDebug() {
  	if (_Ractive.DEBUG) {
  		warn.apply(null, arguments);
  	}
  }

  function warnOnceIfDebug() {
  	if (_Ractive.DEBUG) {
  		warnOnce.apply(null, arguments);
  	}
  }

  // Error messages that are used (or could be) in multiple places
  var badArguments = "Bad arguments";
  var noRegistryFunctionReturn = "A function was specified for \"%s\" %s, but no %s was returned";
  var missingPlugin = function (name, type) {
    return "Missing \"" + name + "\" " + type + " plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#" + type + "s";
  };

  function findInViewHierarchy(registryName, ractive, name) {
  	var instance = findInstance(registryName, ractive, name);
  	return instance ? instance[registryName][name] : null;
  }

  function findInstance(registryName, ractive, name) {
  	while (ractive) {
  		if (name in ractive[registryName]) {
  			return ractive;
  		}

  		if (ractive.isolated) {
  			return null;
  		}

  		ractive = ractive.parent;
  	}
  }

  var interpolate = function (from, to, ractive, type) {
  	if (from === to) {
  		return snap(to);
  	}

  	if (type) {

  		var interpol = findInViewHierarchy("interpolators", ractive, type);
  		if (interpol) {
  			return interpol(from, to) || snap(to);
  		}

  		fatal(missingPlugin(type, "interpolator"));
  	}

  	return static_interpolators.number(from, to) || static_interpolators.array(from, to) || static_interpolators.object(from, to) || snap(to);
  };

  var shared_interpolate = interpolate;

  function snap(to) {
  	return function () {
  		return to;
  	};
  }

  var interpolators = {
  	number: function (from, to) {
  		var delta;

  		if (!is__isNumeric(from) || !is__isNumeric(to)) {
  			return null;
  		}

  		from = +from;
  		to = +to;

  		delta = to - from;

  		if (!delta) {
  			return function () {
  				return from;
  			};
  		}

  		return function (t) {
  			return from + t * delta;
  		};
  	},

  	array: function (from, to) {
  		var intermediate, interpolators, len, i;

  		if (!isArray(from) || !isArray(to)) {
  			return null;
  		}

  		intermediate = [];
  		interpolators = [];

  		i = len = Math.min(from.length, to.length);
  		while (i--) {
  			interpolators[i] = shared_interpolate(from[i], to[i]);
  		}

  		// surplus values - don't interpolate, but don't exclude them either
  		for (i = len; i < from.length; i += 1) {
  			intermediate[i] = from[i];
  		}

  		for (i = len; i < to.length; i += 1) {
  			intermediate[i] = to[i];
  		}

  		return function (t) {
  			var i = len;

  			while (i--) {
  				intermediate[i] = interpolators[i](t);
  			}

  			return intermediate;
  		};
  	},

  	object: function (from, to) {
  		var properties, len, interpolators, intermediate, prop;

  		if (!isObject(from) || !isObject(to)) {
  			return null;
  		}

  		properties = [];
  		intermediate = {};
  		interpolators = {};

  		for (prop in from) {
  			if (hasOwn.call(from, prop)) {
  				if (hasOwn.call(to, prop)) {
  					properties.push(prop);
  					interpolators[prop] = shared_interpolate(from[prop], to[prop]);
  				} else {
  					intermediate[prop] = from[prop];
  				}
  			}
  		}

  		for (prop in to) {
  			if (hasOwn.call(to, prop) && !hasOwn.call(from, prop)) {
  				intermediate[prop] = to[prop];
  			}
  		}

  		len = properties.length;

  		return function (t) {
  			var i = len,
  			    prop;

  			while (i--) {
  				prop = properties[i];

  				intermediate[prop] = interpolators[prop](t);
  			}

  			return intermediate;
  		};
  	}
  };

  var static_interpolators = interpolators;

  // This function takes a keypath such as 'foo.bar.baz', and returns
  // all the variants of that keypath that include a wildcard in place
  // of a key, such as 'foo.bar.*', 'foo.*.baz', 'foo.*.*' and so on.
  // These are then checked against the dependants map (ractive.viewmodel.depsMap)
  // to see if any pattern observers are downstream of one or more of
  // these wildcard keypaths (e.g. 'foo.bar.*.status')
  var utils_getPotentialWildcardMatches = getPotentialWildcardMatches;

  var starMaps = {};
  function getPotentialWildcardMatches(keypath) {
  	var keys, starMap, mapper, i, result, wildcardKeypath;

  	keys = keypath.split(".");
  	if (!(starMap = starMaps[keys.length])) {
  		starMap = getStarMap(keys.length);
  	}

  	result = [];

  	mapper = function (star, i) {
  		return star ? "*" : keys[i];
  	};

  	i = starMap.length;
  	while (i--) {
  		wildcardKeypath = starMap[i].map(mapper).join(".");

  		if (!result.hasOwnProperty(wildcardKeypath)) {
  			result.push(wildcardKeypath);
  			result[wildcardKeypath] = true;
  		}
  	}

  	return result;
  }

  // This function returns all the possible true/false combinations for
  // a given number - e.g. for two, the possible combinations are
  // [ true, true ], [ true, false ], [ false, true ], [ false, false ].
  // It does so by getting all the binary values between 0 and e.g. 11
  function getStarMap(num) {
  	var ones = "",
  	    max,
  	    binary,
  	    starMap,
  	    mapper,
  	    i,
  	    j,
  	    l,
  	    map;

  	if (!starMaps[num]) {
  		starMap = [];

  		while (ones.length < num) {
  			ones += 1;
  		}

  		max = parseInt(ones, 2);

  		mapper = function (digit) {
  			return digit === "1";
  		};

  		for (i = 0; i <= max; i += 1) {
  			binary = i.toString(2);
  			while (binary.length < num) {
  				binary = "0" + binary;
  			}

  			map = [];
  			l = binary.length;
  			for (j = 0; j < l; j++) {
  				map.push(mapper(binary[j]));
  			}
  			starMap[i] = map;
  		}

  		starMaps[num] = starMap;
  	}

  	return starMaps[num];
  }

  var refPattern = /\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;
  var patternPattern = /\*/;
  var keypathCache = {};

  var Keypath = function (str) {
  	var keys = str.split(".");

  	this.str = str;

  	if (str[0] === "@") {
  		this.isSpecial = true;
  		this.value = decodeKeypath(str);
  	}

  	this.firstKey = keys[0];
  	this.lastKey = keys.pop();

  	this.isPattern = patternPattern.test(str);

  	this.parent = str === "" ? null : getKeypath(keys.join("."));
  	this.isRoot = !str;
  };

  Keypath.prototype = {
  	equalsOrStartsWith: function (keypath) {
  		return keypath === this || this.startsWith(keypath);
  	},

  	join: function (str) {
  		return getKeypath(this.isRoot ? String(str) : this.str + "." + str);
  	},

  	replace: function (oldKeypath, newKeypath) {
  		if (this === oldKeypath) {
  			return newKeypath;
  		}

  		if (this.startsWith(oldKeypath)) {
  			return newKeypath === null ? newKeypath : getKeypath(this.str.replace(oldKeypath.str + ".", newKeypath.str + "."));
  		}
  	},

  	startsWith: function (keypath) {
  		if (!keypath) {
  			// TODO under what circumstances does this happen?
  			return false;
  		}

  		return keypath && this.str.substr(0, keypath.str.length + 1) === keypath.str + ".";
  	},

  	toString: function () {
  		throw new Error("Bad coercion");
  	},

  	valueOf: function () {
  		throw new Error("Bad coercion");
  	},

  	wildcardMatches: function () {
  		return this._wildcardMatches || (this._wildcardMatches = utils_getPotentialWildcardMatches(this.str));
  	}
  };
  function assignNewKeypath(target, property, oldKeypath, newKeypath) {
  	var existingKeypath = target[property];

  	if (existingKeypath && (existingKeypath.equalsOrStartsWith(newKeypath) || !existingKeypath.equalsOrStartsWith(oldKeypath))) {
  		return;
  	}

  	target[property] = existingKeypath ? existingKeypath.replace(oldKeypath, newKeypath) : newKeypath;
  	return true;
  }

  function decodeKeypath(keypath) {
  	var value = keypath.slice(2);

  	if (keypath[1] === "i") {
  		return is__isNumeric(value) ? +value : value;
  	} else {
  		return value;
  	}
  }

  function getKeypath(str) {
  	if (str == null) {
  		return str;
  	}

  	// TODO it *may* be worth having two versions of this function - one where
  	// keypathCache inherits from null, and one for IE8. Depends on how
  	// much of an overhead hasOwnProperty is - probably negligible
  	if (!keypathCache.hasOwnProperty(str)) {
  		keypathCache[str] = new Keypath(str);
  	}

  	return keypathCache[str];
  }

  function getMatchingKeypaths(ractive, keypath) {
  	var keys, key, matchingKeypaths;

  	keys = keypath.str.split(".");
  	matchingKeypaths = [rootKeypath];

  	while (key = keys.shift()) {
  		if (key === "*") {
  			// expand to find all valid child keypaths
  			matchingKeypaths = matchingKeypaths.reduce(expand, []);
  		} else {
  			if (matchingKeypaths[0] === rootKeypath) {
  				// first key
  				matchingKeypaths[0] = getKeypath(key);
  			} else {
  				matchingKeypaths = matchingKeypaths.map(concatenate(key));
  			}
  		}
  	}

  	return matchingKeypaths;

  	function expand(matchingKeypaths, keypath) {
  		var wrapper, value, keys;

  		if (keypath.isRoot) {
  			keys = [].concat(Object.keys(ractive.viewmodel.data), Object.keys(ractive.viewmodel.mappings), Object.keys(ractive.viewmodel.computations));
  		} else {
  			wrapper = ractive.viewmodel.wrapped[keypath.str];
  			value = wrapper ? wrapper.get() : ractive.viewmodel.get(keypath);

  			keys = value ? Object.keys(value) : null;
  		}

  		if (keys) {
  			keys.forEach(function (key) {
  				if (key !== "_ractive" || !isArray(value)) {
  					matchingKeypaths.push(keypath.join(key));
  				}
  			});
  		}

  		return matchingKeypaths;
  	}
  }

  function concatenate(key) {
  	return function (keypath) {
  		return keypath.join(key);
  	};
  }
  function normalise(ref) {
  	return ref ? ref.replace(refPattern, ".$1") : "";
  }

  var rootKeypath = getKeypath("");

  var shared_add = add;
  var shared_add__errorMessage = "Cannot add to a non-numeric value";
  function add(root, keypath, d) {
  	if (typeof keypath !== "string" || !is__isNumeric(d)) {
  		throw new Error("Bad arguments");
  	}

  	var value = undefined,
  	    changes = undefined;

  	if (/\*/.test(keypath)) {
  		changes = {};

  		getMatchingKeypaths(root, getKeypath(normalise(keypath))).forEach(function (keypath) {
  			var value = root.viewmodel.get(keypath);

  			if (!is__isNumeric(value)) {
  				throw new Error(shared_add__errorMessage);
  			}

  			changes[keypath.str] = value + d;
  		});

  		return root.set(changes);
  	}

  	value = root.get(keypath);

  	if (!is__isNumeric(value)) {
  		throw new Error(shared_add__errorMessage);
  	}

  	return root.set(keypath, +value + d);
  }

  var prototype_add = Ractive$add;
  function Ractive$add(keypath, d) {
  	return shared_add(this, keypath, d === undefined ? 1 : +d);
  }

  var requestAnimationFrame;

  // If window doesn't exist, we don't need requestAnimationFrame
  if (typeof window === "undefined") {
  	requestAnimationFrame = null;
  } else {
  	// https://gist.github.com/paulirish/1579671
  	(function (vendors, lastTime, window) {

  		var x, setTimeout;

  		if (window.requestAnimationFrame) {
  			return;
  		}

  		for (x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
  			window.requestAnimationFrame = window[vendors[x] + "RequestAnimationFrame"];
  		}

  		if (!window.requestAnimationFrame) {
  			setTimeout = window.setTimeout;

  			window.requestAnimationFrame = function (callback) {
  				var currTime, timeToCall, id;

  				currTime = Date.now();
  				timeToCall = Math.max(0, 16 - (currTime - lastTime));
  				id = setTimeout(function () {
  					callback(currTime + timeToCall);
  				}, timeToCall);

  				lastTime = currTime + timeToCall;
  				return id;
  			};
  		}
  	})(vendors, 0, window);

  	requestAnimationFrame = window.requestAnimationFrame;
  }

  var rAF = requestAnimationFrame;

  var getTime;

  if (typeof window !== "undefined" && window.performance && typeof window.performance.now === "function") {
  	getTime = function () {
  		return window.performance.now();
  	};
  } else {
  	getTime = function () {
  		return Date.now();
  	};
  }

  var utils_getTime = getTime;

  var deprecations = {
  	construct: {
  		deprecated: "beforeInit",
  		replacement: "onconstruct"
  	},
  	render: {
  		deprecated: "init",
  		message: "The \"init\" method has been deprecated " + "and will likely be removed in a future release. " + "You can either use the \"oninit\" method which will fire " + "only once prior to, and regardless of, any eventual ractive " + "instance being rendered, or if you need to access the " + "rendered DOM, use \"onrender\" instead. " + "See http://docs.ractivejs.org/latest/migrating for more information."
  	},
  	complete: {
  		deprecated: "complete",
  		replacement: "oncomplete"
  	}
  };

  function Hook(event) {
  	this.event = event;
  	this.method = "on" + event;
  	this.deprecate = deprecations[event];
  }

  Hook.prototype.fire = function (ractive, arg) {
  	function call(method) {
  		if (ractive[method]) {
  			arg ? ractive[method](arg) : ractive[method]();
  			return true;
  		}
  	}

  	call(this.method);

  	if (!ractive[this.method] && this.deprecate && call(this.deprecate.deprecated)) {
  		if (this.deprecate.message) {
  			warnIfDebug(this.deprecate.message);
  		} else {
  			warnIfDebug("The method \"%s\" has been deprecated in favor of \"%s\" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.", this.deprecate.deprecated, this.deprecate.replacement);
  		}
  	}

  	arg ? ractive.fire(this.event, arg) : ractive.fire(this.event);
  };

  var hooks_Hook = Hook;

  function addToArray(array, value) {
  	var index = array.indexOf(value);

  	if (index === -1) {
  		array.push(value);
  	}
  }

  function arrayContains(array, value) {
  	for (var i = 0, c = array.length; i < c; i++) {
  		if (array[i] == value) {
  			return true;
  		}
  	}

  	return false;
  }

  function arrayContentsMatch(a, b) {
  	var i;

  	if (!isArray(a) || !isArray(b)) {
  		return false;
  	}

  	if (a.length !== b.length) {
  		return false;
  	}

  	i = a.length;
  	while (i--) {
  		if (a[i] !== b[i]) {
  			return false;
  		}
  	}

  	return true;
  }

  function ensureArray(x) {
  	if (typeof x === "string") {
  		return [x];
  	}

  	if (x === undefined) {
  		return [];
  	}

  	return x;
  }

  function lastItem(array) {
  	return array[array.length - 1];
  }

  function removeFromArray(array, member) {
  	var index = array.indexOf(member);

  	if (index !== -1) {
  		array.splice(index, 1);
  	}
  }

  function toArray(arrayLike) {
  	var array = [],
  	    i = arrayLike.length;
  	while (i--) {
  		array[i] = arrayLike[i];
  	}

  	return array;
  }

  var _Promise,
      PENDING = {},
      FULFILLED = {},
      REJECTED = {};

  if (typeof Promise === "function") {
  	// use native Promise
  	_Promise = Promise;
  } else {
  	_Promise = function (callback) {
  		var fulfilledHandlers = [],
  		    rejectedHandlers = [],
  		    state = PENDING,
  		    result,
  		    dispatchHandlers,
  		    makeResolver,
  		    fulfil,
  		    reject,
  		    promise;

  		makeResolver = function (newState) {
  			return function (value) {
  				if (state !== PENDING) {
  					return;
  				}

  				result = value;
  				state = newState;

  				dispatchHandlers = makeDispatcher(state === FULFILLED ? fulfilledHandlers : rejectedHandlers, result);

  				// dispatch onFulfilled and onRejected handlers asynchronously
  				wait(dispatchHandlers);
  			};
  		};

  		fulfil = makeResolver(FULFILLED);
  		reject = makeResolver(REJECTED);

  		try {
  			callback(fulfil, reject);
  		} catch (err) {
  			reject(err);
  		}

  		promise = {
  			// `then()` returns a Promise - 2.2.7
  			then: function (onFulfilled, onRejected) {
  				var promise2 = new _Promise(function (fulfil, reject) {

  					var processResolutionHandler = function (handler, handlers, forward) {

  						// 2.2.1.1
  						if (typeof handler === "function") {
  							handlers.push(function (p1result) {
  								var x;

  								try {
  									x = handler(p1result);
  									utils_Promise__resolve(promise2, x, fulfil, reject);
  								} catch (err) {
  									reject(err);
  								}
  							});
  						} else {
  							// Forward the result of promise1 to promise2, if resolution handlers
  							// are not given
  							handlers.push(forward);
  						}
  					};

  					// 2.2
  					processResolutionHandler(onFulfilled, fulfilledHandlers, fulfil);
  					processResolutionHandler(onRejected, rejectedHandlers, reject);

  					if (state !== PENDING) {
  						// If the promise has resolved already, dispatch the appropriate handlers asynchronously
  						wait(dispatchHandlers);
  					}
  				});

  				return promise2;
  			}
  		};

  		promise["catch"] = function (onRejected) {
  			return this.then(null, onRejected);
  		};

  		return promise;
  	};

  	_Promise.all = function (promises) {
  		return new _Promise(function (fulfil, reject) {
  			var result = [],
  			    pending,
  			    i,
  			    processPromise;

  			if (!promises.length) {
  				fulfil(result);
  				return;
  			}

  			processPromise = function (promise, i) {
  				if (promise && typeof promise.then === "function") {
  					promise.then(function (value) {
  						result[i] = value;
  						--pending || fulfil(result);
  					}, reject);
  				} else {
  					result[i] = promise;
  					--pending || fulfil(result);
  				}
  			};

  			pending = i = promises.length;
  			while (i--) {
  				processPromise(promises[i], i);
  			}
  		});
  	};

  	_Promise.resolve = function (value) {
  		return new _Promise(function (fulfil) {
  			fulfil(value);
  		});
  	};

  	_Promise.reject = function (reason) {
  		return new _Promise(function (fulfil, reject) {
  			reject(reason);
  		});
  	};
  }

  var utils_Promise = _Promise;

  // TODO use MutationObservers or something to simulate setImmediate
  function wait(callback) {
  	setTimeout(callback, 0);
  }

  function makeDispatcher(handlers, result) {
  	return function () {
  		var handler;

  		while (handler = handlers.shift()) {
  			handler(result);
  		}
  	};
  }

  function utils_Promise__resolve(promise, x, fulfil, reject) {
  	// Promise Resolution Procedure
  	var then;

  	// 2.3.1
  	if (x === promise) {
  		throw new TypeError("A promise's fulfillment handler cannot return the same promise");
  	}

  	// 2.3.2
  	if (x instanceof _Promise) {
  		x.then(fulfil, reject);
  	}

  	// 2.3.3
  	else if (x && (typeof x === "object" || typeof x === "function")) {
  		try {
  			then = x.then; // 2.3.3.1
  		} catch (e) {
  			reject(e); // 2.3.3.2
  			return;
  		}

  		// 2.3.3.3
  		if (typeof then === "function") {
  			var called, resolvePromise, rejectPromise;

  			resolvePromise = function (y) {
  				if (called) {
  					return;
  				}
  				called = true;
  				utils_Promise__resolve(promise, y, fulfil, reject);
  			};

  			rejectPromise = function (r) {
  				if (called) {
  					return;
  				}
  				called = true;
  				reject(r);
  			};

  			try {
  				then.call(x, resolvePromise, rejectPromise);
  			} catch (e) {
  				if (!called) {
  					// 2.3.3.3.4.1
  					reject(e); // 2.3.3.3.4.2
  					called = true;
  					return;
  				}
  			}
  		} else {
  			fulfil(x);
  		}
  	} else {
  		fulfil(x);
  	}
  }

  var getInnerContext = function (fragment) {
  	do {
  		if (fragment.context !== undefined) {
  			return fragment.context;
  		}
  	} while (fragment = fragment.parent);

  	return rootKeypath;
  };

  var shared_resolveRef = resolveRef;

  function resolveRef(ractive, ref, fragment) {
  	var keypath;

  	ref = normalise(ref);

  	// If a reference begins '~/', it's a top-level reference
  	if (ref.substr(0, 2) === "~/") {
  		keypath = getKeypath(ref.substring(2));
  		createMappingIfNecessary(ractive, keypath.firstKey, fragment);
  	}

  	// If a reference begins with '.', it's either a restricted reference or
  	// an ancestor reference...
  	else if (ref[0] === ".") {
  		keypath = resolveAncestorRef(getInnerContext(fragment), ref);

  		if (keypath) {
  			createMappingIfNecessary(ractive, keypath.firstKey, fragment);
  		}
  	}

  	// ...otherwise we need to figure out the keypath based on context
  	else {
  		keypath = resolveAmbiguousReference(ractive, getKeypath(ref), fragment);
  	}

  	return keypath;
  }

  function resolveAncestorRef(baseContext, ref) {
  	var contextKeys;

  	// TODO...
  	if (baseContext != undefined && typeof baseContext !== "string") {
  		baseContext = baseContext.str;
  	}

  	// {{.}} means 'current context'
  	if (ref === ".") return getKeypath(baseContext);

  	contextKeys = baseContext ? baseContext.split(".") : [];

  	// ancestor references (starting "../") go up the tree
  	if (ref.substr(0, 3) === "../") {
  		while (ref.substr(0, 3) === "../") {
  			if (!contextKeys.length) {
  				throw new Error("Could not resolve reference - too many \"../\" prefixes");
  			}

  			contextKeys.pop();
  			ref = ref.substring(3);
  		}

  		contextKeys.push(ref);
  		return getKeypath(contextKeys.join("."));
  	}

  	// not an ancestor reference - must be a restricted reference (prepended with "." or "./")
  	if (!baseContext) {
  		return getKeypath(ref.replace(/^\.\/?/, ""));
  	}

  	return getKeypath(baseContext + ref.replace(/^\.\//, "."));
  }

  function resolveAmbiguousReference(ractive, ref, fragment, isParentLookup) {
  	var context, key, parentValue, hasContextChain, parentKeypath;

  	if (ref.isRoot) {
  		return ref;
  	}

  	key = ref.firstKey;

  	while (fragment) {
  		context = fragment.context;
  		fragment = fragment.parent;

  		if (!context) {
  			continue;
  		}

  		hasContextChain = true;
  		parentValue = ractive.viewmodel.get(context);

  		if (parentValue && (typeof parentValue === "object" || typeof parentValue === "function") && key in parentValue) {
  			return context.join(ref.str);
  		}
  	}

  	// Root/computed/mapped property?
  	if (isRootProperty(ractive.viewmodel, key)) {
  		return ref;
  	}

  	// If this is an inline component, and it's not isolated, we
  	// can try going up the scope chain
  	if (ractive.parent && !ractive.isolated) {
  		hasContextChain = true;
  		fragment = ractive.component.parentFragment;

  		key = getKeypath(key);

  		if (parentKeypath = resolveAmbiguousReference(ractive.parent, key, fragment, true)) {
  			// We need to create an inter-component binding
  			ractive.viewmodel.map(key, {
  				origin: ractive.parent.viewmodel,
  				keypath: parentKeypath
  			});

  			return ref;
  		}
  	}

  	// If there's no context chain, and the instance is either a) isolated or
  	// b) an orphan, then we know that the keypath is identical to the reference
  	if (!isParentLookup && !hasContextChain) {
  		// the data object needs to have a property by this name,
  		// to prevent future failed lookups
  		ractive.viewmodel.set(ref, undefined);
  		return ref;
  	}
  }

  function createMappingIfNecessary(ractive, key) {
  	var parentKeypath;

  	if (!ractive.parent || ractive.isolated || isRootProperty(ractive.viewmodel, key)) {
  		return;
  	}

  	key = getKeypath(key);

  	if (parentKeypath = resolveAmbiguousReference(ractive.parent, key, ractive.component.parentFragment, true)) {
  		ractive.viewmodel.map(key, {
  			origin: ractive.parent.viewmodel,
  			keypath: parentKeypath
  		});
  	}
  }

  function isRootProperty(viewmodel, key) {
  	// special case for reference to root
  	return key === "" || key in viewmodel.data || key in viewmodel.computations || key in viewmodel.mappings;
  }

  function teardown(x) {
    x.teardown();
  }

  function methodCallers__unbind(x) {
    x.unbind();
  }

  function methodCallers__unrender(x) {
    x.unrender();
  }

  function cancel(x) {
    x.cancel();
  }

  var TransitionManager = function (callback, parent) {
  	this.callback = callback;
  	this.parent = parent;

  	this.intros = [];
  	this.outros = [];

  	this.children = [];
  	this.totalChildren = this.outroChildren = 0;

  	this.detachQueue = [];
  	this.decoratorQueue = [];
  	this.outrosComplete = false;

  	if (parent) {
  		parent.addChild(this);
  	}
  };

  TransitionManager.prototype = {
  	addChild: function (child) {
  		this.children.push(child);

  		this.totalChildren += 1;
  		this.outroChildren += 1;
  	},

  	decrementOutros: function () {
  		this.outroChildren -= 1;
  		check(this);
  	},

  	decrementTotal: function () {
  		this.totalChildren -= 1;
  		check(this);
  	},

  	add: function (transition) {
  		var list = transition.isIntro ? this.intros : this.outros;
  		list.push(transition);
  	},

  	addDecorator: function (decorator) {
  		this.decoratorQueue.push(decorator);
  	},

  	remove: function (transition) {
  		var list = transition.isIntro ? this.intros : this.outros;
  		removeFromArray(list, transition);
  		check(this);
  	},

  	init: function () {
  		this.ready = true;
  		check(this);
  	},

  	detachNodes: function () {
  		this.decoratorQueue.forEach(teardown);
  		this.detachQueue.forEach(detach);
  		this.children.forEach(detachNodes);
  	}
  };

  function detach(element) {
  	element.detach();
  }

  function detachNodes(tm) {
  	tm.detachNodes();
  }

  function check(tm) {
  	if (!tm.ready || tm.outros.length || tm.outroChildren) return;

  	// If all outros are complete, and we haven't already done this,
  	// we notify the parent if there is one, otherwise
  	// start detaching nodes
  	if (!tm.outrosComplete) {
  		if (tm.parent) {
  			tm.parent.decrementOutros(tm);
  		} else {
  			tm.detachNodes();
  		}

  		tm.outrosComplete = true;
  	}

  	// Once everything is done, we can notify parent transition
  	// manager and call the callback
  	if (!tm.intros.length && !tm.totalChildren) {
  		if (typeof tm.callback === "function") {
  			tm.callback();
  		}

  		if (tm.parent) {
  			tm.parent.decrementTotal();
  		}
  	}
  }

  var global_TransitionManager = TransitionManager;

  var batch,
      runloop,
      unresolved = [],
      changeHook = new hooks_Hook("change");

  runloop = {
  	start: function (instance, returnPromise) {
  		var promise, fulfilPromise;

  		if (returnPromise) {
  			promise = new utils_Promise(function (f) {
  				return fulfilPromise = f;
  			});
  		}

  		batch = {
  			previousBatch: batch,
  			transitionManager: new global_TransitionManager(fulfilPromise, batch && batch.transitionManager),
  			views: [],
  			tasks: [],
  			ractives: [],
  			instance: instance
  		};

  		if (instance) {
  			batch.ractives.push(instance);
  		}

  		return promise;
  	},

  	end: function () {
  		flushChanges();

  		batch.transitionManager.init();
  		if (!batch.previousBatch && !!batch.instance) batch.instance.viewmodel.changes = [];
  		batch = batch.previousBatch;
  	},

  	addRactive: function (ractive) {
  		if (batch) {
  			addToArray(batch.ractives, ractive);
  		}
  	},

  	registerTransition: function (transition) {
  		transition._manager = batch.transitionManager;
  		batch.transitionManager.add(transition);
  	},

  	registerDecorator: function (decorator) {
  		batch.transitionManager.addDecorator(decorator);
  	},

  	addView: function (view) {
  		batch.views.push(view);
  	},

  	addUnresolved: function (thing) {
  		unresolved.push(thing);
  	},

  	removeUnresolved: function (thing) {
  		removeFromArray(unresolved, thing);
  	},

  	// synchronise node detachments with transition ends
  	detachWhenReady: function (thing) {
  		batch.transitionManager.detachQueue.push(thing);
  	},

  	scheduleTask: function (task, postRender) {
  		var _batch;

  		if (!batch) {
  			task();
  		} else {
  			_batch = batch;
  			while (postRender && _batch.previousBatch) {
  				// this can't happen until the DOM has been fully updated
  				// otherwise in some situations (with components inside elements)
  				// transitions and decorators will initialise prematurely
  				_batch = _batch.previousBatch;
  			}

  			_batch.tasks.push(task);
  		}
  	}
  };

  var global_runloop = runloop;

  function flushChanges() {
  	var i, thing, changeHash;

  	while (batch.ractives.length) {
  		thing = batch.ractives.pop();
  		changeHash = thing.viewmodel.applyChanges();

  		if (changeHash) {
  			changeHook.fire(thing, changeHash);
  		}
  	}

  	attemptKeypathResolution();

  	// Now that changes have been fully propagated, we can update the DOM
  	// and complete other tasks
  	for (i = 0; i < batch.views.length; i += 1) {
  		batch.views[i].update();
  	}
  	batch.views.length = 0;

  	for (i = 0; i < batch.tasks.length; i += 1) {
  		batch.tasks[i]();
  	}
  	batch.tasks.length = 0;

  	// If updating the view caused some model blowback - e.g. a triple
  	// containing <option> elements caused the binding on the <select>
  	// to update - then we start over
  	if (batch.ractives.length) return flushChanges();
  }

  function attemptKeypathResolution() {
  	var i, item, keypath, resolved;

  	i = unresolved.length;

  	// see if we can resolve any unresolved references
  	while (i--) {
  		item = unresolved[i];

  		if (item.keypath) {
  			// it resolved some other way. TODO how? two-way binding? Seems
  			// weird that we'd still end up here
  			unresolved.splice(i, 1);
  			continue; // avoid removing the wrong thing should the next condition be true
  		}

  		if (keypath = shared_resolveRef(item.root, item.ref, item.parentFragment)) {
  			(resolved || (resolved = [])).push({
  				item: item,
  				keypath: keypath
  			});

  			unresolved.splice(i, 1);
  		}
  	}

  	if (resolved) {
  		resolved.forEach(global_runloop__resolve);
  	}
  }

  function global_runloop__resolve(resolved) {
  	resolved.item.resolve(resolved.keypath);
  }

  var queue = [];

  var animations = {
  	tick: function () {
  		var i, animation, now;

  		now = utils_getTime();

  		global_runloop.start();

  		for (i = 0; i < queue.length; i += 1) {
  			animation = queue[i];

  			if (!animation.tick(now)) {
  				// animation is complete, remove it from the stack, and decrement i so we don't miss one
  				queue.splice(i--, 1);
  			}
  		}

  		global_runloop.end();

  		if (queue.length) {
  			rAF(animations.tick);
  		} else {
  			animations.running = false;
  		}
  	},

  	add: function (animation) {
  		queue.push(animation);

  		if (!animations.running) {
  			animations.running = true;
  			rAF(animations.tick);
  		}
  	},

  	// TODO optimise this
  	abort: function (keypath, root) {
  		var i = queue.length,
  		    animation;

  		while (i--) {
  			animation = queue[i];

  			if (animation.root === root && animation.keypath === keypath) {
  				animation.stop();
  			}
  		}
  	}
  };

  var shared_animations = animations;

  var Animation = function (options) {
  	var key;

  	this.startTime = Date.now();

  	// from and to
  	for (key in options) {
  		if (options.hasOwnProperty(key)) {
  			this[key] = options[key];
  		}
  	}

  	this.interpolator = shared_interpolate(this.from, this.to, this.root, this.interpolator);
  	this.running = true;

  	this.tick();
  };

  Animation.prototype = {
  	tick: function () {
  		var elapsed, t, value, timeNow, index, keypath;

  		keypath = this.keypath;

  		if (this.running) {
  			timeNow = Date.now();
  			elapsed = timeNow - this.startTime;

  			if (elapsed >= this.duration) {
  				if (keypath !== null) {
  					global_runloop.start(this.root);
  					this.root.viewmodel.set(keypath, this.to);
  					global_runloop.end();
  				}

  				if (this.step) {
  					this.step(1, this.to);
  				}

  				this.complete(this.to);

  				index = this.root._animations.indexOf(this);

  				// TODO investigate why this happens
  				if (index === -1) {
  					warnIfDebug("Animation was not found");
  				}

  				this.root._animations.splice(index, 1);

  				this.running = false;
  				return false; // remove from the stack
  			}

  			t = this.easing ? this.easing(elapsed / this.duration) : elapsed / this.duration;

  			if (keypath !== null) {
  				value = this.interpolator(t);
  				global_runloop.start(this.root);
  				this.root.viewmodel.set(keypath, value);
  				global_runloop.end();
  			}

  			if (this.step) {
  				this.step(t, value);
  			}

  			return true; // keep in the stack
  		}

  		return false; // remove from the stack
  	},

  	stop: function () {
  		var index;

  		this.running = false;

  		index = this.root._animations.indexOf(this);

  		// TODO investigate why this happens
  		if (index === -1) {
  			warnIfDebug("Animation was not found");
  		}

  		this.root._animations.splice(index, 1);
  	}
  };

  var animate_Animation = Animation;

  var prototype_animate = Ractive$animate;

  var noAnimation = { stop: noop };
  function Ractive$animate(keypath, to, options) {
  	var promise, fulfilPromise, k, animation, animations, easing, duration, step, complete, makeValueCollector, currentValues, collectValue, dummy, dummyOptions;

  	promise = new utils_Promise(function (fulfil) {
  		return fulfilPromise = fulfil;
  	});

  	// animate multiple keypaths
  	if (typeof keypath === "object") {
  		options = to || {};
  		easing = options.easing;
  		duration = options.duration;

  		animations = [];

  		// we don't want to pass the `step` and `complete` handlers, as they will
  		// run for each animation! So instead we'll store the handlers and create
  		// our own...
  		step = options.step;
  		complete = options.complete;

  		if (step || complete) {
  			currentValues = {};

  			options.step = null;
  			options.complete = null;

  			makeValueCollector = function (keypath) {
  				return function (t, value) {
  					currentValues[keypath] = value;
  				};
  			};
  		}

  		for (k in keypath) {
  			if (keypath.hasOwnProperty(k)) {
  				if (step || complete) {
  					collectValue = makeValueCollector(k);
  					options = { easing: easing, duration: duration };

  					if (step) {
  						options.step = collectValue;
  					}
  				}

  				options.complete = complete ? collectValue : noop;
  				animations.push(animate(this, k, keypath[k], options));
  			}
  		}

  		// Create a dummy animation, to facilitate step/complete
  		// callbacks, and Promise fulfilment
  		dummyOptions = { easing: easing, duration: duration };

  		if (step) {
  			dummyOptions.step = function (t) {
  				return step(t, currentValues);
  			};
  		}

  		if (complete) {
  			promise.then(function (t) {
  				return complete(t, currentValues);
  			});
  		}

  		dummyOptions.complete = fulfilPromise;

  		dummy = animate(this, null, null, dummyOptions);
  		animations.push(dummy);

  		promise.stop = function () {
  			var animation;

  			while (animation = animations.pop()) {
  				animation.stop();
  			}

  			if (dummy) {
  				dummy.stop();
  			}
  		};

  		return promise;
  	}

  	// animate a single keypath
  	options = options || {};

  	if (options.complete) {
  		promise.then(options.complete);
  	}

  	options.complete = fulfilPromise;
  	animation = animate(this, keypath, to, options);

  	promise.stop = function () {
  		return animation.stop();
  	};
  	return promise;
  }

  function animate(root, keypath, to, options) {
  	var easing, duration, animation, from;

  	if (keypath) {
  		keypath = getKeypath(normalise(keypath));
  	}

  	if (keypath !== null) {
  		from = root.viewmodel.get(keypath);
  	}

  	// cancel any existing animation
  	// TODO what about upstream/downstream keypaths?
  	shared_animations.abort(keypath, root);

  	// don't bother animating values that stay the same
  	if (isEqual(from, to)) {
  		if (options.complete) {
  			options.complete(options.to);
  		}

  		return noAnimation;
  	}

  	// easing function
  	if (options.easing) {
  		if (typeof options.easing === "function") {
  			easing = options.easing;
  		} else {
  			easing = root.easing[options.easing];
  		}

  		if (typeof easing !== "function") {
  			easing = null;
  		}
  	}

  	// duration
  	duration = options.duration === undefined ? 400 : options.duration;

  	// TODO store keys, use an internal set method
  	animation = new animate_Animation({
  		keypath: keypath,
  		from: from,
  		to: to,
  		root: root,
  		duration: duration,
  		easing: easing,
  		interpolator: options.interpolator,

  		// TODO wrap callbacks if necessary, to use instance as context
  		step: options.step,
  		complete: options.complete
  	});

  	shared_animations.add(animation);
  	root._animations.push(animation);

  	return animation;
  }

  var prototype_detach = Ractive$detach;
  var prototype_detach__detachHook = new hooks_Hook("detach");
  function Ractive$detach() {
  	if (this.detached) {
  		return this.detached;
  	}

  	if (this.el) {
  		removeFromArray(this.el.__ractive_instances__, this);
  	}
  	this.detached = this.fragment.detach();
  	prototype_detach__detachHook.fire(this);
  	return this.detached;
  }

  var prototype_find = Ractive$find;

  function Ractive$find(selector) {
  	if (!this.el) {
  		return null;
  	}

  	return this.fragment.find(selector);
  }

  var test = Query$test;
  function Query$test(item, noDirty) {
  	var itemMatches;

  	if (this._isComponentQuery) {
  		itemMatches = !this.selector || item.name === this.selector;
  	} else {
  		itemMatches = item.node ? matches(item.node, this.selector) : null;
  	}

  	if (itemMatches) {
  		this.push(item.node || item.instance);

  		if (!noDirty) {
  			this._makeDirty();
  		}

  		return true;
  	}
  }

  var makeQuery_cancel = function () {
  	var liveQueries, selector, index;

  	liveQueries = this._root[this._isComponentQuery ? "liveComponentQueries" : "liveQueries"];
  	selector = this.selector;

  	index = liveQueries.indexOf(selector);

  	if (index !== -1) {
  		liveQueries.splice(index, 1);
  		liveQueries[selector] = null;
  	}
  };

  var sortByItemPosition = function (a, b) {
  	var ancestryA, ancestryB, oldestA, oldestB, mutualAncestor, indexA, indexB, fragments, fragmentA, fragmentB;

  	ancestryA = getAncestry(a.component || a._ractive.proxy);
  	ancestryB = getAncestry(b.component || b._ractive.proxy);

  	oldestA = lastItem(ancestryA);
  	oldestB = lastItem(ancestryB);

  	// remove items from the end of both ancestries as long as they are identical
  	// - the final one removed is the closest mutual ancestor
  	while (oldestA && oldestA === oldestB) {
  		ancestryA.pop();
  		ancestryB.pop();

  		mutualAncestor = oldestA;

  		oldestA = lastItem(ancestryA);
  		oldestB = lastItem(ancestryB);
  	}

  	// now that we have the mutual ancestor, we can find which is earliest
  	oldestA = oldestA.component || oldestA;
  	oldestB = oldestB.component || oldestB;

  	fragmentA = oldestA.parentFragment;
  	fragmentB = oldestB.parentFragment;

  	// if both items share a parent fragment, our job is easy
  	if (fragmentA === fragmentB) {
  		indexA = fragmentA.items.indexOf(oldestA);
  		indexB = fragmentB.items.indexOf(oldestB);

  		// if it's the same index, it means one contains the other,
  		// so we see which has the longest ancestry
  		return indexA - indexB || ancestryA.length - ancestryB.length;
  	}

  	// if mutual ancestor is a section, we first test to see which section
  	// fragment comes first
  	if (fragments = mutualAncestor.fragments) {
  		indexA = fragments.indexOf(fragmentA);
  		indexB = fragments.indexOf(fragmentB);

  		return indexA - indexB || ancestryA.length - ancestryB.length;
  	}

  	throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!");
  };

  function getParent(item) {
  	var parentFragment;

  	if (parentFragment = item.parentFragment) {
  		return parentFragment.owner;
  	}

  	if (item.component && (parentFragment = item.component.parentFragment)) {
  		return parentFragment.owner;
  	}
  }

  function getAncestry(item) {
  	var ancestry, ancestor;

  	ancestry = [item];

  	ancestor = getParent(item);

  	while (ancestor) {
  		ancestry.push(ancestor);
  		ancestor = getParent(ancestor);
  	}

  	return ancestry;
  }

  var sortByDocumentPosition = function (node, otherNode) {
  	var bitmask;

  	if (node.compareDocumentPosition) {
  		bitmask = node.compareDocumentPosition(otherNode);
  		return bitmask & 2 ? 1 : -1;
  	}

  	// In old IE, we can piggy back on the mechanism for
  	// comparing component positions
  	return sortByItemPosition(node, otherNode);
  };

  var sort = function () {
  	this.sort(this._isComponentQuery ? sortByItemPosition : sortByDocumentPosition);
  	this._dirty = false;
  };

  var makeQuery_dirty = function () {
  	var _this = this;

  	if (!this._dirty) {
  		this._dirty = true;

  		// Once the DOM has been updated, ensure the query
  		// is correctly ordered
  		global_runloop.scheduleTask(function () {
  			_this._sort();
  		});
  	}
  };

  var remove = function (nodeOrComponent) {
  	var index = this.indexOf(this._isComponentQuery ? nodeOrComponent.instance : nodeOrComponent);

  	if (index !== -1) {
  		this.splice(index, 1);
  	}
  };

  var _makeQuery = makeQuery;
  function makeQuery(ractive, selector, live, isComponentQuery) {
  	var query = [];

  	defineProperties(query, {
  		selector: { value: selector },
  		live: { value: live },

  		_isComponentQuery: { value: isComponentQuery },
  		_test: { value: test }
  	});

  	if (!live) {
  		return query;
  	}

  	defineProperties(query, {
  		cancel: { value: makeQuery_cancel },

  		_root: { value: ractive },
  		_sort: { value: sort },
  		_makeDirty: { value: makeQuery_dirty },
  		_remove: { value: remove },

  		_dirty: { value: false, writable: true }
  	});

  	return query;
  }

  var prototype_findAll = Ractive$findAll;
  function Ractive$findAll(selector, options) {
  	var liveQueries, query;

  	if (!this.el) {
  		return [];
  	}

  	options = options || {};
  	liveQueries = this._liveQueries;

  	// Shortcut: if we're maintaining a live query with this
  	// selector, we don't need to traverse the parallel DOM
  	if (query = liveQueries[selector]) {

  		// Either return the exact same query, or (if not live) a snapshot
  		return options && options.live ? query : query.slice();
  	}

  	query = _makeQuery(this, selector, !!options.live, false);

  	// Add this to the list of live queries Ractive needs to maintain,
  	// if applicable
  	if (query.live) {
  		liveQueries.push(selector);
  		liveQueries["_" + selector] = query;
  	}

  	this.fragment.findAll(selector, query);
  	return query;
  }

  var prototype_findAllComponents = Ractive$findAllComponents;
  function Ractive$findAllComponents(selector, options) {
  	var liveQueries, query;

  	options = options || {};
  	liveQueries = this._liveComponentQueries;

  	// Shortcut: if we're maintaining a live query with this
  	// selector, we don't need to traverse the parallel DOM
  	if (query = liveQueries[selector]) {

  		// Either return the exact same query, or (if not live) a snapshot
  		return options && options.live ? query : query.slice();
  	}

  	query = _makeQuery(this, selector, !!options.live, true);

  	// Add this to the list of live queries Ractive needs to maintain,
  	// if applicable
  	if (query.live) {
  		liveQueries.push(selector);
  		liveQueries["_" + selector] = query;
  	}

  	this.fragment.findAllComponents(selector, query);
  	return query;
  }

  var prototype_findComponent = Ractive$findComponent;

  function Ractive$findComponent(selector) {
  	return this.fragment.findComponent(selector);
  }

  var findContainer = Ractive$findContainer;

  function Ractive$findContainer(selector) {
  	if (this.container) {
  		if (this.container.component && this.container.component.name === selector) {
  			return this.container;
  		} else {
  			return this.container.findContainer(selector);
  		}
  	}

  	return null;
  }

  var findParent = Ractive$findParent;

  function Ractive$findParent(selector) {

  	if (this.parent) {
  		if (this.parent.component && this.parent.component.name === selector) {
  			return this.parent;
  		} else {
  			return this.parent.findParent(selector);
  		}
  	}

  	return null;
  }

  var eventStack = {
  	enqueue: function (ractive, event) {
  		if (ractive.event) {
  			ractive._eventQueue = ractive._eventQueue || [];
  			ractive._eventQueue.push(ractive.event);
  		}
  		ractive.event = event;
  	},
  	dequeue: function (ractive) {
  		if (ractive._eventQueue && ractive._eventQueue.length) {
  			ractive.event = ractive._eventQueue.pop();
  		} else {
  			delete ractive.event;
  		}
  	}
  };

  var shared_eventStack = eventStack;

  var shared_fireEvent = fireEvent;

  function fireEvent(ractive, eventName) {
  	var options = arguments[2] === undefined ? {} : arguments[2];

  	if (!eventName) {
  		return;
  	}

  	if (!options.event) {
  		options.event = {
  			name: eventName,
  			// until event not included as argument default
  			_noArg: true
  		};
  	} else {
  		options.event.name = eventName;
  	}

  	var eventNames = getKeypath(eventName).wildcardMatches();
  	fireEventAs(ractive, eventNames, options.event, options.args, true);
  }

  function fireEventAs(ractive, eventNames, event, args) {
  	var initialFire = arguments[4] === undefined ? false : arguments[4];

  	var subscribers,
  	    i,
  	    bubble = true;

  	shared_eventStack.enqueue(ractive, event);

  	for (i = eventNames.length; i >= 0; i--) {
  		subscribers = ractive._subs[eventNames[i]];

  		if (subscribers) {
  			bubble = notifySubscribers(ractive, subscribers, event, args) && bubble;
  		}
  	}

  	shared_eventStack.dequeue(ractive);

  	if (ractive.parent && bubble) {

  		if (initialFire && ractive.component) {
  			var fullName = ractive.component.name + "." + eventNames[eventNames.length - 1];
  			eventNames = getKeypath(fullName).wildcardMatches();

  			if (event) {
  				event.component = ractive;
  			}
  		}

  		fireEventAs(ractive.parent, eventNames, event, args);
  	}
  }

  function notifySubscribers(ractive, subscribers, event, args) {
  	var originalEvent = null,
  	    stopEvent = false;

  	if (event && !event._noArg) {
  		args = [event].concat(args);
  	}

  	// subscribers can be modified inflight, e.g. "once" functionality
  	// so we need to copy to make sure everyone gets called
  	subscribers = subscribers.slice();

  	for (var i = 0, len = subscribers.length; i < len; i += 1) {
  		if (subscribers[i].apply(ractive, args) === false) {
  			stopEvent = true;
  		}
  	}

  	if (event && !event._noArg && stopEvent && (originalEvent = event.original)) {
  		originalEvent.preventDefault && originalEvent.preventDefault();
  		originalEvent.stopPropagation && originalEvent.stopPropagation();
  	}

  	return !stopEvent;
  }

  var prototype_fire = Ractive$fire;
  function Ractive$fire(eventName) {

  	var options = {
  		args: Array.prototype.slice.call(arguments, 1)
  	};

  	shared_fireEvent(this, eventName, options);
  }

  var prototype_get = Ractive$get;
  var options = {
  	capture: true, // top-level calls should be intercepted
  	noUnwrap: true, // wrapped values should NOT be unwrapped
  	fullRootGet: true // root get should return mappings
  };
  function Ractive$get(keypath) {
  	var value;

  	keypath = getKeypath(normalise(keypath));
  	value = this.viewmodel.get(keypath, options);

  	// Create inter-component binding, if necessary
  	if (value === undefined && this.parent && !this.isolated) {
  		if (shared_resolveRef(this, keypath.str, this.component.parentFragment)) {
  			// creates binding as side-effect, if appropriate
  			value = this.viewmodel.get(keypath);
  		}
  	}

  	return value;
  }

  var insert = Ractive$insert;

  var insertHook = new hooks_Hook("insert");
  function Ractive$insert(target, anchor) {
  	if (!this.fragment.rendered) {
  		// TODO create, and link to, documentation explaining this
  		throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");
  	}

  	target = getElement(target);
  	anchor = getElement(anchor) || null;

  	if (!target) {
  		throw new Error("You must specify a valid target to insert into");
  	}

  	target.insertBefore(this.detach(), anchor);
  	this.el = target;

  	(target.__ractive_instances__ || (target.__ractive_instances__ = [])).push(this);
  	this.detached = null;

  	fireInsertHook(this);
  }

  function fireInsertHook(ractive) {
  	insertHook.fire(ractive);

  	ractive.findAllComponents("*").forEach(function (child) {
  		fireInsertHook(child.instance);
  	});
  }

  var prototype_merge = Ractive$merge;
  function Ractive$merge(keypath, array, options) {
  	var currentArray, promise;

  	keypath = getKeypath(normalise(keypath));
  	currentArray = this.viewmodel.get(keypath);

  	// If either the existing value or the new value isn't an
  	// array, just do a regular set
  	if (!isArray(currentArray) || !isArray(array)) {
  		return this.set(keypath, array, options && options.complete);
  	}

  	// Manage transitions
  	promise = global_runloop.start(this, true);
  	this.viewmodel.merge(keypath, currentArray, array, options);
  	global_runloop.end();

  	return promise;
  }

  var Observer = function (ractive, keypath, callback, options) {
  	this.root = ractive;
  	this.keypath = keypath;
  	this.callback = callback;
  	this.defer = options.defer;

  	// default to root as context, but allow it to be overridden
  	this.context = options && options.context ? options.context : ractive;
  };

  Observer.prototype = {
  	init: function (immediate) {
  		this.value = this.root.get(this.keypath.str);

  		if (immediate !== false) {
  			this.update();
  		} else {
  			this.oldValue = this.value;
  		}
  	},

  	setValue: function (value) {
  		var _this = this;

  		if (!isEqual(value, this.value)) {
  			this.value = value;

  			if (this.defer && this.ready) {
  				global_runloop.scheduleTask(function () {
  					return _this.update();
  				});
  			} else {
  				this.update();
  			}
  		}
  	},

  	update: function () {
  		// Prevent infinite loops
  		if (this.updating) {
  			return;
  		}

  		this.updating = true;

  		this.callback.call(this.context, this.value, this.oldValue, this.keypath.str);
  		this.oldValue = this.value;

  		this.updating = false;
  	}
  };

  var observe_Observer = Observer;

  var observe_getPattern = getPattern;
  function getPattern(ractive, pattern) {
  	var matchingKeypaths, values;

  	matchingKeypaths = getMatchingKeypaths(ractive, pattern);

  	values = {};
  	matchingKeypaths.forEach(function (keypath) {
  		values[keypath.str] = ractive.get(keypath.str);
  	});

  	return values;
  }

  var PatternObserver,
      slice = Array.prototype.slice;

  PatternObserver = function (ractive, keypath, callback, options) {
  	this.root = ractive;

  	this.callback = callback;
  	this.defer = options.defer;

  	this.keypath = keypath;
  	this.regex = new RegExp("^" + keypath.str.replace(/\./g, "\\.").replace(/\*/g, "([^\\.]+)") + "$");
  	this.values = {};

  	if (this.defer) {
  		this.proxies = [];
  	}

  	// default to root as context, but allow it to be overridden
  	this.context = options && options.context ? options.context : ractive;
  };

  PatternObserver.prototype = {
  	init: function (immediate) {
  		var values, keypath;

  		values = observe_getPattern(this.root, this.keypath);

  		if (immediate !== false) {
  			for (keypath in values) {
  				if (values.hasOwnProperty(keypath)) {
  					this.update(getKeypath(keypath));
  				}
  			}
  		} else {
  			this.values = values;
  		}
  	},

  	update: function (keypath) {
  		var _this = this;

  		var values;

  		if (keypath.isPattern) {
  			values = observe_getPattern(this.root, keypath);

  			for (keypath in values) {
  				if (values.hasOwnProperty(keypath)) {
  					this.update(getKeypath(keypath));
  				}
  			}

  			return;
  		}

  		// special case - array mutation should not trigger `array.*`
  		// pattern observer with `array.length`
  		if (this.root.viewmodel.implicitChanges[keypath.str]) {
  			return;
  		}

  		if (this.defer && this.ready) {
  			global_runloop.scheduleTask(function () {
  				return _this.getProxy(keypath).update();
  			});
  			return;
  		}

  		this.reallyUpdate(keypath);
  	},

  	reallyUpdate: function (keypath) {
  		var keypathStr, value, keys, args;

  		keypathStr = keypath.str;
  		value = this.root.viewmodel.get(keypath);

  		// Prevent infinite loops
  		if (this.updating) {
  			this.values[keypathStr] = value;
  			return;
  		}

  		this.updating = true;

  		if (!isEqual(value, this.values[keypathStr]) || !this.ready) {
  			keys = slice.call(this.regex.exec(keypathStr), 1);
  			args = [value, this.values[keypathStr], keypathStr].concat(keys);

  			this.values[keypathStr] = value;
  			this.callback.apply(this.context, args);
  		}

  		this.updating = false;
  	},

  	getProxy: function (keypath) {
  		var _this = this;

  		if (!this.proxies[keypath.str]) {
  			this.proxies[keypath.str] = {
  				update: function () {
  					return _this.reallyUpdate(keypath);
  				}
  			};
  		}

  		return this.proxies[keypath.str];
  	}
  };

  var observe_PatternObserver = PatternObserver;

  var observe_getObserverFacade = getObserverFacade;
  var emptyObject = {};
  function getObserverFacade(ractive, keypath, callback, options) {
  	var observer, isPatternObserver, cancelled;

  	keypath = getKeypath(normalise(keypath));
  	options = options || emptyObject;

  	// pattern observers are treated differently
  	if (keypath.isPattern) {
  		observer = new observe_PatternObserver(ractive, keypath, callback, options);
  		ractive.viewmodel.patternObservers.push(observer);
  		isPatternObserver = true;
  	} else {
  		observer = new observe_Observer(ractive, keypath, callback, options);
  	}

  	observer.init(options.init);
  	ractive.viewmodel.register(keypath, observer, isPatternObserver ? "patternObservers" : "observers");

  	// This flag allows observers to initialise even with undefined values
  	observer.ready = true;

  	var facade = {
  		cancel: function () {
  			var index;

  			if (cancelled) {
  				return;
  			}

  			if (isPatternObserver) {
  				index = ractive.viewmodel.patternObservers.indexOf(observer);

  				ractive.viewmodel.patternObservers.splice(index, 1);
  				ractive.viewmodel.unregister(keypath, observer, "patternObservers");
  			} else {
  				ractive.viewmodel.unregister(keypath, observer, "observers");
  			}
  			cancelled = true;
  		}
  	};

  	ractive._observers.push(facade);
  	return facade;
  }

  var observe = Ractive$observe;
  function Ractive$observe(keypath, callback, options) {

  	var observers, map, keypaths, i;

  	// Allow a map of keypaths to handlers
  	if (isObject(keypath)) {
  		options = callback;
  		map = keypath;

  		observers = [];

  		for (keypath in map) {
  			if (map.hasOwnProperty(keypath)) {
  				callback = map[keypath];
  				observers.push(this.observe(keypath, callback, options));
  			}
  		}

  		return {
  			cancel: function () {
  				while (observers.length) {
  					observers.pop().cancel();
  				}
  			}
  		};
  	}

  	// Allow `ractive.observe( callback )` - i.e. observe entire model
  	if (typeof keypath === "function") {
  		options = callback;
  		callback = keypath;
  		keypath = "";

  		return observe_getObserverFacade(this, keypath, callback, options);
  	}

  	keypaths = keypath.split(" ");

  	// Single keypath
  	if (keypaths.length === 1) {
  		return observe_getObserverFacade(this, keypath, callback, options);
  	}

  	// Multiple space-separated keypaths
  	observers = [];

  	i = keypaths.length;
  	while (i--) {
  		keypath = keypaths[i];

  		if (keypath) {
  			observers.push(observe_getObserverFacade(this, keypath, callback, options));
  		}
  	}

  	return {
  		cancel: function () {
  			while (observers.length) {
  				observers.pop().cancel();
  			}
  		}
  	};
  }

  var observeOnce = Ractive$observeOnce;

  function Ractive$observeOnce(property, callback, options) {

  	var observer = this.observe(property, function () {
  		callback.apply(this, arguments);
  		observer.cancel();
  	}, { init: false, defer: options && options.defer });

  	return observer;
  }

  var shared_trim = function (str) {
    return str.trim();
  };

  var notEmptyString = function (str) {
    return str !== "";
  };

  var off = Ractive$off;
  function Ractive$off(eventName, callback) {
  	var _this = this;

  	var eventNames;

  	// if no arguments specified, remove all callbacks
  	if (!eventName) {
  		// TODO use this code instead, once the following issue has been resolved
  		// in PhantomJS (tests are unpassable otherwise!)
  		// https://github.com/ariya/phantomjs/issues/11856
  		// defineProperty( this, '_subs', { value: create( null ), configurable: true });
  		for (eventName in this._subs) {
  			delete this._subs[eventName];
  		}
  	} else {
  		// Handle multiple space-separated event names
  		eventNames = eventName.split(" ").map(shared_trim).filter(notEmptyString);

  		eventNames.forEach(function (eventName) {
  			var subscribers, index;

  			// If we have subscribers for this event...
  			if (subscribers = _this._subs[eventName]) {
  				// ...if a callback was specified, only remove that
  				if (callback) {
  					index = subscribers.indexOf(callback);
  					if (index !== -1) {
  						subscribers.splice(index, 1);
  					}
  				}

  				// ...otherwise remove all callbacks
  				else {
  					_this._subs[eventName] = [];
  				}
  			}
  		});
  	}

  	return this;
  }

  var on = Ractive$on;
  function Ractive$on(eventName, callback) {
  	var _this = this;

  	var listeners, n, eventNames;

  	// allow mutliple listeners to be bound in one go
  	if (typeof eventName === "object") {
  		listeners = [];

  		for (n in eventName) {
  			if (eventName.hasOwnProperty(n)) {
  				listeners.push(this.on(n, eventName[n]));
  			}
  		}

  		return {
  			cancel: function () {
  				var listener;

  				while (listener = listeners.pop()) {
  					listener.cancel();
  				}
  			}
  		};
  	}

  	// Handle multiple space-separated event names
  	eventNames = eventName.split(" ").map(shared_trim).filter(notEmptyString);

  	eventNames.forEach(function (eventName) {
  		(_this._subs[eventName] || (_this._subs[eventName] = [])).push(callback);
  	});

  	return {
  		cancel: function () {
  			return _this.off(eventName, callback);
  		}
  	};
  }

  var once = Ractive$once;

  function Ractive$once(eventName, handler) {

  	var listener = this.on(eventName, function () {
  		handler.apply(this, arguments);
  		listener.cancel();
  	});

  	// so we can still do listener.cancel() manually
  	return listener;
  }

  // This function takes an array, the name of a mutator method, and the
  // arguments to call that mutator method with, and returns an array that
  // maps the old indices to their new indices.

  // So if you had something like this...
  //
  //     array = [ 'a', 'b', 'c', 'd' ];
  //     array.push( 'e' );
  //
  // ...you'd get `[ 0, 1, 2, 3 ]` - in other words, none of the old indices
  // have changed. If you then did this...
  //
  //     array.unshift( 'z' );
  //
  // ...the indices would be `[ 1, 2, 3, 4, 5 ]` - every item has been moved
  // one higher to make room for the 'z'. If you removed an item, the new index
  // would be -1...
  //
  //     array.splice( 2, 2 );
  //
  // ...this would result in [ 0, 1, -1, -1, 2, 3 ].
  //
  // This information is used to enable fast, non-destructive shuffling of list
  // sections when you do e.g. `ractive.splice( 'items', 2, 2 );

  var shared_getNewIndices = getNewIndices;

  function getNewIndices(array, methodName, args) {
  	var spliceArguments,
  	    len,
  	    newIndices = [],
  	    removeStart,
  	    removeEnd,
  	    balance,
  	    i;

  	spliceArguments = getSpliceEquivalent(array, methodName, args);

  	if (!spliceArguments) {
  		return null; // TODO support reverse and sort?
  	}

  	len = array.length;
  	balance = spliceArguments.length - 2 - spliceArguments[1];

  	removeStart = Math.min(len, spliceArguments[0]);
  	removeEnd = removeStart + spliceArguments[1];

  	for (i = 0; i < removeStart; i += 1) {
  		newIndices.push(i);
  	}

  	for (; i < removeEnd; i += 1) {
  		newIndices.push(-1);
  	}

  	for (; i < len; i += 1) {
  		newIndices.push(i + balance);
  	}

  	// there is a net shift for the rest of the array starting with index + balance
  	if (balance !== 0) {
  		newIndices.touchedFrom = spliceArguments[0];
  	} else {
  		newIndices.touchedFrom = array.length;
  	}

  	return newIndices;
  }

  // The pop, push, shift an unshift methods can all be represented
  // as an equivalent splice
  function getSpliceEquivalent(array, methodName, args) {
  	switch (methodName) {
  		case "splice":
  			if (args[0] !== undefined && args[0] < 0) {
  				args[0] = array.length + Math.max(args[0], -array.length);
  			}

  			while (args.length < 2) {
  				args.push(0);
  			}

  			// ensure we only remove elements that exist
  			args[1] = Math.min(args[1], array.length - args[0]);

  			return args;

  		case "sort":
  		case "reverse":
  			return null;

  		case "pop":
  			if (array.length) {
  				return [array.length - 1, 1];
  			}
  			return [0, 0];

  		case "push":
  			return [array.length, 0].concat(args);

  		case "shift":
  			return [0, array.length ? 1 : 0];

  		case "unshift":
  			return [0, 0].concat(args);
  	}
  }

  var arrayProto = Array.prototype;

  var makeArrayMethod = function (methodName) {
  	return function (keypath) {
  		for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
  			args[_key - 1] = arguments[_key];
  		}

  		var array,
  		    newIndices = [],
  		    len,
  		    promise,
  		    result;

  		keypath = getKeypath(normalise(keypath));

  		array = this.viewmodel.get(keypath);
  		len = array.length;

  		if (!isArray(array)) {
  			throw new Error("Called ractive." + methodName + "('" + keypath.str + "'), but '" + keypath.str + "' does not refer to an array");
  		}

  		newIndices = shared_getNewIndices(array, methodName, args);

  		result = arrayProto[methodName].apply(array, args);
  		promise = global_runloop.start(this, true).then(function () {
  			return result;
  		});

  		if (!!newIndices) {
  			this.viewmodel.smartUpdate(keypath, array, newIndices);
  		} else {
  			this.viewmodel.mark(keypath);
  		}

  		global_runloop.end();

  		return promise;
  	};
  };

  var pop = makeArrayMethod("pop");

  var push = makeArrayMethod("push");

  var css,
      update,
      styleElement,
      head,
      styleSheet,
      inDom,
      global_css__prefix = "/* Ractive.js component styles */\n",
      styles = [],
      dirty = false;

  if (!isClient) {
  	// TODO handle encapsulated CSS in server-rendered HTML!
  	css = {
  		add: noop,
  		apply: noop
  	};
  } else {
  	styleElement = document.createElement("style");
  	styleElement.type = "text/css";

  	head = document.getElementsByTagName("head")[0];

  	inDom = false;

  	// Internet Exploder won't let you use styleSheet.innerHTML - we have to
  	// use styleSheet.cssText instead
  	styleSheet = styleElement.styleSheet;

  	update = function () {
  		var css = global_css__prefix + styles.map(function (s) {
  			return "\n/* {" + s.id + "} */\n" + s.styles;
  		}).join("\n");

  		if (styleSheet) {
  			styleSheet.cssText = css;
  		} else {
  			styleElement.innerHTML = css;
  		}

  		if (!inDom) {
  			head.appendChild(styleElement);
  			inDom = true;
  		}
  	};

  	css = {
  		add: function (s) {
  			styles.push(s);
  			dirty = true;
  		},

  		apply: function () {
  			if (dirty) {
  				update();
  				dirty = false;
  			}
  		}
  	};
  }

  var global_css = css;

  var prototype_render = Ractive$render;

  var renderHook = new hooks_Hook("render"),
      completeHook = new hooks_Hook("complete");
  function Ractive$render(target, anchor) {
  	var _this = this;

  	var promise, instances, transitionsEnabled;

  	// if `noIntro` is `true`, temporarily disable transitions
  	transitionsEnabled = this.transitionsEnabled;
  	if (this.noIntro) {
  		this.transitionsEnabled = false;
  	}

  	promise = global_runloop.start(this, true);
  	global_runloop.scheduleTask(function () {
  		return renderHook.fire(_this);
  	}, true);

  	if (this.fragment.rendered) {
  		throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");
  	}

  	target = getElement(target) || this.el;
  	anchor = getElement(anchor) || this.anchor;

  	this.el = target;
  	this.anchor = anchor;

  	if (!this.append && target) {
  		// Teardown any existing instances *before* trying to set up the new one -
  		// avoids certain weird bugs
  		var others = target.__ractive_instances__;
  		if (others && others.length) {
  			removeOtherInstances(others);
  		}

  		// make sure we are the only occupants
  		target.innerHTML = ""; // TODO is this quicker than removeChild? Initial research inconclusive
  	}

  	if (this.cssId) {
  		// ensure encapsulated CSS is up-to-date
  		global_css.apply();
  	}

  	if (target) {
  		if (!(instances = target.__ractive_instances__)) {
  			target.__ractive_instances__ = [this];
  		} else {
  			instances.push(this);
  		}

  		if (anchor) {
  			target.insertBefore(this.fragment.render(), anchor);
  		} else {
  			target.appendChild(this.fragment.render());
  		}
  	}

  	global_runloop.end();

  	this.transitionsEnabled = transitionsEnabled;

  	return promise.then(function () {
  		return completeHook.fire(_this);
  	});
  }

  function removeOtherInstances(others) {
  	others.splice(0, others.length).forEach(teardown);
  }

  var adaptConfigurator = {
  	extend: function (Parent, proto, options) {
  		proto.adapt = custom_adapt__combine(proto.adapt, ensureArray(options.adapt));
  	},

  	init: function () {}
  };

  var custom_adapt = adaptConfigurator;

  function custom_adapt__combine(a, b) {
  	var c = a.slice(),
  	    i = b.length;

  	while (i--) {
  		if (! ~c.indexOf(b[i])) {
  			c.push(b[i]);
  		}
  	}

  	return c;
  }

  var transform = transformCss;

  var selectorsPattern = /(?:^|\})?\s*([^\{\}]+)\s*\{/g,
      commentsPattern = /\/\*.*?\*\//g,
      selectorUnitPattern = /((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,
      mediaQueryPattern = /^@media/,
      dataRvcGuidPattern = /\[data-ractive-css~="\{[a-z0-9-]+\}"]/g;
  function transformCss(css, id) {
  	var transformed, dataAttr, addGuid;

  	dataAttr = "[data-ractive-css~=\"{" + id + "}\"]";

  	addGuid = function (selector) {
  		var selectorUnits,
  		    match,
  		    unit,
  		    base,
  		    prepended,
  		    appended,
  		    i,
  		    transformed = [];

  		selectorUnits = [];

  		while (match = selectorUnitPattern.exec(selector)) {
  			selectorUnits.push({
  				str: match[0],
  				base: match[1],
  				modifiers: match[2]
  			});
  		}

  		// For each simple selector within the selector, we need to create a version
  		// that a) combines with the id, and b) is inside the id
  		base = selectorUnits.map(extractString);

  		i = selectorUnits.length;
  		while (i--) {
  			appended = base.slice();

  			// Pseudo-selectors should go after the attribute selector
  			unit = selectorUnits[i];
  			appended[i] = unit.base + dataAttr + unit.modifiers || "";

  			prepended = base.slice();
  			prepended[i] = dataAttr + " " + prepended[i];

  			transformed.push(appended.join(" "), prepended.join(" "));
  		}

  		return transformed.join(", ");
  	};

  	if (dataRvcGuidPattern.test(css)) {
  		transformed = css.replace(dataRvcGuidPattern, dataAttr);
  	} else {
  		transformed = css.replace(commentsPattern, "").replace(selectorsPattern, function (match, $1) {
  			var selectors, transformed;

  			// don't transform media queries!
  			if (mediaQueryPattern.test($1)) return match;

  			selectors = $1.split(",").map(trim);
  			transformed = selectors.map(addGuid).join(", ") + " ";

  			return match.replace($1, transformed);
  		});
  	}

  	return transformed;
  }

  function trim(str) {
  	if (str.trim) {
  		return str.trim();
  	}

  	return str.replace(/^\s+/, "").replace(/\s+$/, "");
  }

  function extractString(unit) {
  	return unit.str;
  }

  var css_css__uid = 1;

  var cssConfigurator = {
  	name: "css",

  	extend: function (Parent, proto, options) {
  		if (options.css) {
  			var id = css_css__uid++;
  			var styles = options.noCssTransform ? options.css : transform(options.css, id);

  			proto.cssId = id;
  			global_css.add({ id: id, styles: styles });
  		}
  	},

  	init: function () {}
  };

  var css_css = cssConfigurator;

  function validate(data) {
  	// Warn if userOptions.data is a non-POJO
  	if (data && data.constructor !== Object) {
  		if (typeof data === "function") {} else if (typeof data !== "object") {
  			fatal("data option must be an object or a function, `" + data + "` is not valid");
  		} else {
  			warnIfDebug("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged");
  		}
  	}
  }

  var dataConfigurator = {
  	name: "data",

  	extend: function (Parent, proto, options) {
  		var key = undefined,
  		    value = undefined;

  		// check for non-primitives, which could cause mutation-related bugs
  		if (options.data && isObject(options.data)) {
  			for (key in options.data) {
  				value = options.data[key];

  				if (value && typeof value === "object") {
  					if (isObject(value) || isArray(value)) {
  						warnIfDebug("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");
  					}
  				}
  			}
  		}

  		proto.data = custom_data__combine(proto.data, options.data);
  	},

  	init: function (Parent, ractive, options) {
  		var result = custom_data__combine(Parent.prototype.data, options.data);

  		if (typeof result === "function") {
  			result = result.call(ractive);
  		}

  		return result || {};
  	},

  	reset: function (ractive) {
  		var result = this.init(ractive.constructor, ractive, ractive.viewmodel);

  		ractive.viewmodel.reset(result);
  		return true;
  	}
  };

  var custom_data = dataConfigurator;

  function custom_data__combine(parentValue, childValue) {
  	validate(childValue);

  	var parentIsFn = typeof parentValue === "function";
  	var childIsFn = typeof childValue === "function";

  	// Very important, otherwise child instance can become
  	// the default data object on Ractive or a component.
  	// then ractive.set() ends up setting on the prototype!
  	if (!childValue && !parentIsFn) {
  		childValue = {};
  	}

  	// Fast path, where we just need to copy properties from
  	// parent to child
  	if (!parentIsFn && !childIsFn) {
  		return fromProperties(childValue, parentValue);
  	}

  	return function () {
  		var child = childIsFn ? callDataFunction(childValue, this) : childValue;
  		var parent = parentIsFn ? callDataFunction(parentValue, this) : parentValue;

  		return fromProperties(child, parent);
  	};
  }

  function callDataFunction(fn, context) {
  	var data = fn.call(context);

  	if (!data) return;

  	if (typeof data !== "object") {
  		fatal("Data function must return an object");
  	}

  	if (data.constructor !== Object) {
  		warnOnceIfDebug("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged");
  	}

  	return data;
  }

  function fromProperties(primary, secondary) {
  	if (primary && secondary) {
  		for (var key in secondary) {
  			if (!(key in primary)) {
  				primary[key] = secondary[key];
  			}
  		}

  		return primary;
  	}

  	return primary || secondary;
  }

  // TODO do we need to support this in the new Ractive() case?

  var parse = null;

  var parseOptions = ["preserveWhitespace", "sanitize", "stripComments", "delimiters", "tripleDelimiters", "interpolate"];

  var parser = {
  	fromId: fromId, isHashedId: isHashedId, isParsed: isParsed, getParseOptions: getParseOptions, createHelper: template_parser__createHelper,
  	parse: doParse
  };

  function template_parser__createHelper(parseOptions) {
  	var helper = create(parser);
  	helper.parse = function (template, options) {
  		return doParse(template, options || parseOptions);
  	};
  	return helper;
  }

  function doParse(template, parseOptions) {
  	if (!parse) {
  		throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");
  	}

  	return parse(template, parseOptions || this.options);
  }

  function fromId(id, options) {
  	var template;

  	if (!isClient) {
  		if (options && options.noThrow) {
  			return;
  		}
  		throw new Error("Cannot retrieve template #" + id + " as Ractive is not running in a browser.");
  	}

  	if (isHashedId(id)) {
  		id = id.substring(1);
  	}

  	if (!(template = document.getElementById(id))) {
  		if (options && options.noThrow) {
  			return;
  		}
  		throw new Error("Could not find template element with id #" + id);
  	}

  	if (template.tagName.toUpperCase() !== "SCRIPT") {
  		if (options && options.noThrow) {
  			return;
  		}
  		throw new Error("Template element with id #" + id + ", must be a <script> element");
  	}

  	return "textContent" in template ? template.textContent : template.innerHTML;
  }

  function isHashedId(id) {
  	return id && id[0] === "#";
  }

  function isParsed(template) {
  	return !(typeof template === "string");
  }

  function getParseOptions(ractive) {
  	// Could be Ractive or a Component
  	if (ractive.defaults) {
  		ractive = ractive.defaults;
  	}

  	return parseOptions.reduce(function (val, key) {
  		val[key] = ractive[key];
  		return val;
  	}, {});
  }

  var template_parser = parser;

  var templateConfigurator = {
  	name: "template",

  	extend: function extend(Parent, proto, options) {
  		var template;

  		// only assign if exists
  		if ("template" in options) {
  			template = options.template;

  			if (typeof template === "function") {
  				proto.template = template;
  			} else {
  				proto.template = parseIfString(template, proto);
  			}
  		}
  	},

  	init: function init(Parent, ractive, options) {
  		var template, fn;

  		// TODO because of prototypal inheritance, we might just be able to use
  		// ractive.template, and not bother passing through the Parent object.
  		// At present that breaks the test mocks' expectations
  		template = "template" in options ? options.template : Parent.prototype.template;

  		if (typeof template === "function") {
  			fn = template;
  			template = getDynamicTemplate(ractive, fn);

  			ractive._config.template = {
  				fn: fn,
  				result: template
  			};
  		}

  		template = parseIfString(template, ractive);

  		// TODO the naming of this is confusing - ractive.template refers to [...],
  		// but Component.prototype.template refers to {v:1,t:[],p:[]}...
  		// it's unnecessary, because the developer never needs to access
  		// ractive.template
  		ractive.template = template.t;

  		if (template.p) {
  			extendPartials(ractive.partials, template.p);
  		}
  	},

  	reset: function (ractive) {
  		var result = resetValue(ractive),
  		    parsed;

  		if (result) {
  			parsed = parseIfString(result, ractive);

  			ractive.template = parsed.t;
  			extendPartials(ractive.partials, parsed.p, true);

  			return true;
  		}
  	}
  };

  function resetValue(ractive) {
  	var initial = ractive._config.template,
  	    result;

  	// If this isn't a dynamic template, there's nothing to do
  	if (!initial || !initial.fn) {
  		return;
  	}

  	result = getDynamicTemplate(ractive, initial.fn);

  	// TODO deep equality check to prevent unnecessary re-rendering
  	// in the case of already-parsed templates
  	if (result !== initial.result) {
  		initial.result = result;
  		result = parseIfString(result, ractive);
  		return result;
  	}
  }

  function getDynamicTemplate(ractive, fn) {
  	var helper = template_template__createHelper(template_parser.getParseOptions(ractive));
  	return fn.call(ractive, helper);
  }

  function template_template__createHelper(parseOptions) {
  	var helper = create(template_parser);
  	helper.parse = function (template, options) {
  		return template_parser.parse(template, options || parseOptions);
  	};
  	return helper;
  }

  function parseIfString(template, ractive) {
  	if (typeof template === "string") {
  		// ID of an element containing the template?
  		if (template[0] === "#") {
  			template = template_parser.fromId(template);
  		}

  		template = parse(template, template_parser.getParseOptions(ractive));
  	}

  	// Check that the template even exists
  	else if (template == undefined) {
  		throw new Error("The template cannot be " + template + ".");
  	}

  	// Check the parsed template has a version at all
  	else if (typeof template.v !== "number") {
  		throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");
  	}

  	// Check we're using the correct version
  	else if (template.v !== TEMPLATE_VERSION) {
  		throw new Error("Mismatched template version (expected " + TEMPLATE_VERSION + ", got " + template.v + ") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");
  	}

  	return template;
  }

  function extendPartials(existingPartials, newPartials, overwrite) {
  	if (!newPartials) return;

  	// TODO there's an ambiguity here - we need to overwrite in the `reset()`
  	// case, but not initially...

  	for (var key in newPartials) {
  		if (overwrite || !existingPartials.hasOwnProperty(key)) {
  			existingPartials[key] = newPartials[key];
  		}
  	}
  }

  var template_template = templateConfigurator;

  var config_registries__registryNames, Registry, registries;

  config_registries__registryNames = ["adaptors", "components", "computed", "decorators", "easing", "events", "interpolators", "partials", "transitions"];

  Registry = function (name, useDefaults) {
  	this.name = name;
  	this.useDefaults = useDefaults;
  };

  Registry.prototype = {
  	constructor: Registry,

  	extend: function (Parent, proto, options) {
  		this.configure(this.useDefaults ? Parent.defaults : Parent, this.useDefaults ? proto : proto.constructor, options);
  	},

  	init: function () {},

  	configure: function (Parent, target, options) {
  		var name = this.name,
  		    option = options[name],
  		    registry;

  		registry = create(Parent[name]);

  		for (var key in option) {
  			registry[key] = option[key];
  		}

  		target[name] = registry;
  	},

  	reset: function (ractive) {
  		var registry = ractive[this.name];
  		var changed = false;
  		Object.keys(registry).forEach(function (key) {
  			var item = registry[key];
  			if (item._fn) {
  				if (item._fn.isOwner) {
  					registry[key] = item._fn;
  				} else {
  					delete registry[key];
  				}
  				changed = true;
  			}
  		});
  		return changed;
  	}
  };

  registries = config_registries__registryNames.map(function (name) {
  	return new Registry(name, name === "computed");
  });

  var config_registries = registries;

  /*this.configure(
  	this.useDefaults ? Parent.defaults : Parent,
  	ractive,
  	options );*/

  var wrapPrototype = wrap;

  function wrap(parent, name, method) {
  	if (!/_super/.test(method)) {
  		return method;
  	}

  	var wrapper = function wrapSuper() {
  		var superMethod = getSuperMethod(wrapper._parent, name),
  		    hasSuper = ("_super" in this),
  		    oldSuper = this._super,
  		    result;

  		this._super = superMethod;

  		result = method.apply(this, arguments);

  		if (hasSuper) {
  			this._super = oldSuper;
  		} else {
  			delete this._super;
  		}

  		return result;
  	};

  	wrapper._parent = parent;
  	wrapper._method = method;

  	return wrapper;
  }

  function getSuperMethod(parent, name) {
  	var value, method;

  	if (name in parent) {
  		value = parent[name];

  		if (typeof value === "function") {
  			method = value;
  		} else {
  			method = function returnValue() {
  				return value;
  			};
  		}
  	} else {
  		method = noop;
  	}

  	return method;
  }

  var config_deprecate = deprecate;
  function getMessage(deprecated, correct, isError) {
  	return "options." + deprecated + " has been deprecated in favour of options." + correct + "." + (isError ? " You cannot specify both options, please use options." + correct + "." : "");
  }

  function deprecateOption(options, deprecatedOption, correct) {
  	if (deprecatedOption in options) {
  		if (!(correct in options)) {
  			warnIfDebug(getMessage(deprecatedOption, correct));
  			options[correct] = options[deprecatedOption];
  		} else {
  			throw new Error(getMessage(deprecatedOption, correct, true));
  		}
  	}
  }
  function deprecate(options) {
  	deprecateOption(options, "beforeInit", "onconstruct");
  	deprecateOption(options, "init", "onrender");
  	deprecateOption(options, "complete", "oncomplete");
  	deprecateOption(options, "eventDefinitions", "events");

  	// Using extend with Component instead of options,
  	// like Human.extend( Spider ) means adaptors as a registry
  	// gets copied to options. So we have to check if actually an array
  	if (isArray(options.adaptors)) {
  		deprecateOption(options, "adaptors", "adapt");
  	}
  }

  var config, order, defaultKeys, custom, isBlacklisted, isStandardKey;

  custom = {
  	adapt: custom_adapt,
  	css: css_css,
  	data: custom_data,
  	template: template_template
  };

  defaultKeys = Object.keys(config_defaults);

  isStandardKey = makeObj(defaultKeys.filter(function (key) {
  	return !custom[key];
  }));

  // blacklisted keys that we don't double extend
  isBlacklisted = makeObj(defaultKeys.concat(config_registries.map(function (r) {
  	return r.name;
  })));

  order = [].concat(defaultKeys.filter(function (key) {
  	return !config_registries[key] && !custom[key];
  }), config_registries, custom.data, custom.template, custom.css);

  config = {
  	extend: function (Parent, proto, options) {
  		return configure("extend", Parent, proto, options);
  	},

  	init: function (Parent, ractive, options) {
  		return configure("init", Parent, ractive, options);
  	},

  	reset: function (ractive) {
  		return order.filter(function (c) {
  			return c.reset && c.reset(ractive);
  		}).map(function (c) {
  			return c.name;
  		});
  	},

  	// this defines the order. TODO this isn't used anywhere in the codebase,
  	// only in the test suite - should get rid of it
  	order: order };

  function configure(method, Parent, target, options) {
  	config_deprecate(options);

  	for (var key in options) {
  		if (isStandardKey.hasOwnProperty(key)) {
  			var value = options[key];

  			// warn the developer if they passed a function and ignore its value

  			// NOTE: we allow some functions on "el" because we duck type element lists
  			// and some libraries or ef'ed-up virtual browsers (phantomJS) return a
  			// function object as the result of querySelector methods
  			if (key !== "el" && typeof value === "function") {
  				warnIfDebug("" + key + " is a Ractive option that does not expect a function and will be ignored", method === "init" ? target : null);
  			} else {
  				target[key] = value;
  			}
  		}
  	}

  	config_registries.forEach(function (registry) {
  		registry[method](Parent, target, options);
  	});

  	custom_adapt[method](Parent, target, options);
  	template_template[method](Parent, target, options);
  	css_css[method](Parent, target, options);

  	extendOtherMethods(Parent.prototype, target, options);
  }

  function extendOtherMethods(parent, target, options) {
  	for (var key in options) {
  		if (!isBlacklisted[key] && options.hasOwnProperty(key)) {
  			var member = options[key];

  			// if this is a method that overwrites a method, wrap it:
  			if (typeof member === "function") {
  				member = wrapPrototype(parent, key, member);
  			}

  			target[key] = member;
  		}
  	}
  }

  function makeObj(array) {
  	var obj = {};
  	array.forEach(function (x) {
  		return obj[x] = true;
  	});
  	return obj;
  }

  var config_config = config;

  var prototype_bubble = Fragment$bubble;

  function Fragment$bubble() {
  	this.dirtyValue = this.dirtyArgs = true;

  	if (this.bound && typeof this.owner.bubble === "function") {
  		this.owner.bubble();
  	}
  }

  var Fragment_prototype_detach = Fragment$detach;

  function Fragment$detach() {
  	var docFrag;

  	if (this.items.length === 1) {
  		return this.items[0].detach();
  	}

  	docFrag = document.createDocumentFragment();

  	this.items.forEach(function (item) {
  		var node = item.detach();

  		// TODO The if {...} wasn't previously required - it is now, because we're
  		// forcibly detaching everything to reorder sections after an update. That's
  		// a non-ideal brute force approach, implemented to get all the tests to pass
  		// - as soon as it's replaced with something more elegant, this should
  		// revert to `docFrag.appendChild( item.detach() )`
  		if (node) {
  			docFrag.appendChild(node);
  		}
  	});

  	return docFrag;
  }

  var Fragment_prototype_find = Fragment$find;

  function Fragment$find(selector) {
  	var i, len, item, queryResult;

  	if (this.items) {
  		len = this.items.length;
  		for (i = 0; i < len; i += 1) {
  			item = this.items[i];

  			if (item.find && (queryResult = item.find(selector))) {
  				return queryResult;
  			}
  		}

  		return null;
  	}
  }

  var Fragment_prototype_findAll = Fragment$findAll;

  function Fragment$findAll(selector, query) {
  	var i, len, item;

  	if (this.items) {
  		len = this.items.length;
  		for (i = 0; i < len; i += 1) {
  			item = this.items[i];

  			if (item.findAll) {
  				item.findAll(selector, query);
  			}
  		}
  	}

  	return query;
  }

  var Fragment_prototype_findAllComponents = Fragment$findAllComponents;

  function Fragment$findAllComponents(selector, query) {
  	var i, len, item;

  	if (this.items) {
  		len = this.items.length;
  		for (i = 0; i < len; i += 1) {
  			item = this.items[i];

  			if (item.findAllComponents) {
  				item.findAllComponents(selector, query);
  			}
  		}
  	}

  	return query;
  }

  var Fragment_prototype_findComponent = Fragment$findComponent;

  function Fragment$findComponent(selector) {
  	var len, i, item, queryResult;

  	if (this.items) {
  		len = this.items.length;
  		for (i = 0; i < len; i += 1) {
  			item = this.items[i];

  			if (item.findComponent && (queryResult = item.findComponent(selector))) {
  				return queryResult;
  			}
  		}

  		return null;
  	}
  }

  var prototype_findNextNode = Fragment$findNextNode;

  function Fragment$findNextNode(item) {
  	var index = item.index,
  	    node;

  	if (this.items[index + 1]) {
  		node = this.items[index + 1].firstNode();
  	}

  	// if this is the root fragment, and there are no more items,
  	// it means we're at the end...
  	else if (this.owner === this.root) {
  		if (!this.owner.component) {
  			// TODO but something else could have been appended to
  			// this.root.el, no?
  			node = null;
  		}

  		// ...unless this is a component
  		else {
  			node = this.owner.component.findNextNode();
  		}
  	} else {
  		node = this.owner.findNextNode(this);
  	}

  	return node;
  }

  var prototype_firstNode = Fragment$firstNode;

  function Fragment$firstNode() {
  	if (this.items && this.items[0]) {
  		return this.items[0].firstNode();
  	}

  	return null;
  }

  var Parser,
      ParseError,
      parse_Parser__leadingWhitespace = /^\s+/;

  ParseError = function (message) {
  	this.name = "ParseError";
  	this.message = message;
  	try {
  		throw new Error(message);
  	} catch (e) {
  		this.stack = e.stack;
  	}
  };

  ParseError.prototype = Error.prototype;

  Parser = function (str, options) {
  	var items,
  	    item,
  	    lineStart = 0;

  	this.str = str;
  	this.options = options || {};
  	this.pos = 0;

  	this.lines = this.str.split("\n");
  	this.lineEnds = this.lines.map(function (line) {
  		var lineEnd = lineStart + line.length + 1; // +1 for the newline

  		lineStart = lineEnd;
  		return lineEnd;
  	}, 0);

  	// Custom init logic
  	if (this.init) this.init(str, options);

  	items = [];

  	while (this.pos < this.str.length && (item = this.read())) {
  		items.push(item);
  	}

  	this.leftover = this.remaining();
  	this.result = this.postProcess ? this.postProcess(items, options) : items;
  };

  Parser.prototype = {
  	read: function (converters) {
  		var pos, i, len, item;

  		if (!converters) converters = this.converters;

  		pos = this.pos;

  		len = converters.length;
  		for (i = 0; i < len; i += 1) {
  			this.pos = pos; // reset for each attempt

  			if (item = converters[i](this)) {
  				return item;
  			}
  		}

  		return null;
  	},

  	getLinePos: function (char) {
  		var lineNum = 0,
  		    lineStart = 0,
  		    columnNum;

  		while (char >= this.lineEnds[lineNum]) {
  			lineStart = this.lineEnds[lineNum];
  			lineNum += 1;
  		}

  		columnNum = char - lineStart;
  		return [lineNum + 1, columnNum + 1, char]; // line/col should be one-based, not zero-based!
  	},

  	error: function (message) {
  		var pos = this.getLinePos(this.pos);
  		var lineNum = pos[0];
  		var columnNum = pos[1];

  		var line = this.lines[pos[0] - 1];
  		var numTabs = 0;
  		var annotation = line.replace(/\t/g, function (match, char) {
  			if (char < pos[1]) {
  				numTabs += 1;
  			}

  			return "  ";
  		}) + "\n" + new Array(pos[1] + numTabs).join(" ") + "^----";

  		var error = new ParseError("" + message + " at line " + lineNum + " character " + columnNum + ":\n" + annotation);

  		error.line = pos[0];
  		error.character = pos[1];
  		error.shortMessage = message;

  		throw error;
  	},

  	matchString: function (string) {
  		if (this.str.substr(this.pos, string.length) === string) {
  			this.pos += string.length;
  			return string;
  		}
  	},

  	matchPattern: function (pattern) {
  		var match;

  		if (match = pattern.exec(this.remaining())) {
  			this.pos += match[0].length;
  			return match[1] || match[0];
  		}
  	},

  	allowWhitespace: function () {
  		this.matchPattern(parse_Parser__leadingWhitespace);
  	},

  	remaining: function () {
  		return this.str.substring(this.pos);
  	},

  	nextChar: function () {
  		return this.str.charAt(this.pos);
  	}
  };

  Parser.extend = function (proto) {
  	var Parent = this,
  	    Child,
  	    key;

  	Child = function (str, options) {
  		Parser.call(this, str, options);
  	};

  	Child.prototype = create(Parent.prototype);

  	for (key in proto) {
  		if (hasOwn.call(proto, key)) {
  			Child.prototype[key] = proto[key];
  		}
  	}

  	Child.extend = Parser.extend;
  	return Child;
  };

  var parse_Parser = Parser;

  var TEXT = 1;
  var INTERPOLATOR = 2;
  var TRIPLE = 3;
  var SECTION = 4;
  var INVERTED = 5;
  var CLOSING = 6;
  var ELEMENT = 7;
  var PARTIAL = 8;
  var COMMENT = 9;
  var DELIMCHANGE = 10;
  var ATTRIBUTE = 13;
  var CLOSING_TAG = 14;
  var COMPONENT = 15;
  var YIELDER = 16;
  var INLINE_PARTIAL = 17;
  var DOCTYPE = 18;

  var NUMBER_LITERAL = 20;
  var STRING_LITERAL = 21;
  var ARRAY_LITERAL = 22;
  var OBJECT_LITERAL = 23;
  var BOOLEAN_LITERAL = 24;
  var REGEXP_LITERAL = 25;

  var GLOBAL = 26;
  var KEY_VALUE_PAIR = 27;

  var REFERENCE = 30;
  var REFINEMENT = 31;
  var MEMBER = 32;
  var PREFIX_OPERATOR = 33;
  var BRACKETED = 34;
  var CONDITIONAL = 35;
  var INFIX_OPERATOR = 36;

  var INVOCATION = 40;

  var SECTION_IF = 50;
  var SECTION_UNLESS = 51;
  var SECTION_EACH = 52;
  var SECTION_WITH = 53;
  var SECTION_IF_WITH = 54;

  var ELSE = 60;
  var ELSEIF = 61;

  var stringMiddlePattern, escapeSequencePattern, lineContinuationPattern;

  // Match one or more characters until: ", ', \, or EOL/EOF.
  // EOL/EOF is written as (?!.) (meaning there's no non-newline char next).
  stringMiddlePattern = /^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/;

  // Match one escape sequence, including the backslash.
  escapeSequencePattern = /^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/;

  // Match one ES5 line continuation (backslash + line terminator).
  lineContinuationPattern = /^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;

  // Helper for defining getDoubleQuotedString and getSingleQuotedString.
  var makeQuotedStringMatcher = function (okQuote) {
  	return function (parser) {
  		var start, literal, done, next;

  		start = parser.pos;
  		literal = "\"";
  		done = false;

  		while (!done) {
  			next = parser.matchPattern(stringMiddlePattern) || parser.matchPattern(escapeSequencePattern) || parser.matchString(okQuote);
  			if (next) {
  				if (next === "\"") {
  					literal += "\\\"";
  				} else if (next === "\\'") {
  					literal += "'";
  				} else {
  					literal += next;
  				}
  			} else {
  				next = parser.matchPattern(lineContinuationPattern);
  				if (next) {
  					// convert \(newline-like) into a \u escape, which is allowed in JSON
  					literal += "\\u" + ("000" + next.charCodeAt(1).toString(16)).slice(-4);
  				} else {
  					done = true;
  				}
  			}
  		}

  		literal += "\"";

  		// use JSON.parse to interpret escapes
  		return JSON.parse(literal);
  	};
  };

  var getSingleQuotedString = makeQuotedStringMatcher("\"");
  var getDoubleQuotedString = makeQuotedStringMatcher("'");

  var readStringLiteral = function (parser) {
  	var start, string;

  	start = parser.pos;

  	if (parser.matchString("\"")) {
  		string = getDoubleQuotedString(parser);

  		if (!parser.matchString("\"")) {
  			parser.pos = start;
  			return null;
  		}

  		return {
  			t: STRING_LITERAL,
  			v: string
  		};
  	}

  	if (parser.matchString("'")) {
  		string = getSingleQuotedString(parser);

  		if (!parser.matchString("'")) {
  			parser.pos = start;
  			return null;
  		}

  		return {
  			t: STRING_LITERAL,
  			v: string
  		};
  	}

  	return null;
  };

  var literal_readNumberLiteral = readNumberLiteral;
  var literal_readNumberLiteral__numberPattern = /^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;
  function readNumberLiteral(parser) {
  	var result;

  	if (result = parser.matchPattern(literal_readNumberLiteral__numberPattern)) {
  		return {
  			t: NUMBER_LITERAL,
  			v: result
  		};
  	}

  	return null;
  }

  var patterns__name = /^[a-zA-Z_$][a-zA-Z_$0-9]*/;

  // http://mathiasbynens.be/notes/javascript-properties
  // can be any name, string literal, or number literal
  var shared_readKey = readKey;
  var identifier = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/;
  function readKey(parser) {
  	var token;

  	if (token = readStringLiteral(parser)) {
  		return identifier.test(token.v) ? token.v : "\"" + token.v.replace(/"/g, "\\\"") + "\"";
  	}

  	if (token = literal_readNumberLiteral(parser)) {
  		return token.v;
  	}

  	if (token = parser.matchPattern(patterns__name)) {
  		return token;
  	}
  }

  var JsonParser, specials, specialsPattern, parseJSON__numberPattern, placeholderPattern, placeholderAtStartPattern, onlyWhitespace;

  specials = {
  	"true": true,
  	"false": false,
  	undefined: undefined,
  	"null": null
  };

  specialsPattern = new RegExp("^(?:" + Object.keys(specials).join("|") + ")");
  parseJSON__numberPattern = /^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;
  placeholderPattern = /\$\{([^\}]+)\}/g;
  placeholderAtStartPattern = /^\$\{([^\}]+)\}/;
  onlyWhitespace = /^\s*$/;

  JsonParser = parse_Parser.extend({
  	init: function (str, options) {
  		this.values = options.values;
  		this.allowWhitespace();
  	},

  	postProcess: function (result) {
  		if (result.length !== 1 || !onlyWhitespace.test(this.leftover)) {
  			return null;
  		}

  		return { value: result[0].v };
  	},

  	converters: [function getPlaceholder(parser) {
  		var placeholder;

  		if (!parser.values) {
  			return null;
  		}

  		placeholder = parser.matchPattern(placeholderAtStartPattern);

  		if (placeholder && parser.values.hasOwnProperty(placeholder)) {
  			return { v: parser.values[placeholder] };
  		}
  	}, function getSpecial(parser) {
  		var special;

  		if (special = parser.matchPattern(specialsPattern)) {
  			return { v: specials[special] };
  		}
  	}, function getNumber(parser) {
  		var number;

  		if (number = parser.matchPattern(parseJSON__numberPattern)) {
  			return { v: +number };
  		}
  	}, function getString(parser) {
  		var stringLiteral = readStringLiteral(parser),
  		    values;

  		if (stringLiteral && (values = parser.values)) {
  			return {
  				v: stringLiteral.v.replace(placeholderPattern, function (match, $1) {
  					return $1 in values ? values[$1] : $1;
  				})
  			};
  		}

  		return stringLiteral;
  	}, function getObject(parser) {
  		var result, pair;

  		if (!parser.matchString("{")) {
  			return null;
  		}

  		result = {};

  		parser.allowWhitespace();

  		if (parser.matchString("}")) {
  			return { v: result };
  		}

  		while (pair = getKeyValuePair(parser)) {
  			result[pair.key] = pair.value;

  			parser.allowWhitespace();

  			if (parser.matchString("}")) {
  				return { v: result };
  			}

  			if (!parser.matchString(",")) {
  				return null;
  			}
  		}

  		return null;
  	}, function getArray(parser) {
  		var result, valueToken;

  		if (!parser.matchString("[")) {
  			return null;
  		}

  		result = [];

  		parser.allowWhitespace();

  		if (parser.matchString("]")) {
  			return { v: result };
  		}

  		while (valueToken = parser.read()) {
  			result.push(valueToken.v);

  			parser.allowWhitespace();

  			if (parser.matchString("]")) {
  				return { v: result };
  			}

  			if (!parser.matchString(",")) {
  				return null;
  			}

  			parser.allowWhitespace();
  		}

  		return null;
  	}]
  });

  function getKeyValuePair(parser) {
  	var key, valueToken, pair;

  	parser.allowWhitespace();

  	key = shared_readKey(parser);

  	if (!key) {
  		return null;
  	}

  	pair = { key: key };

  	parser.allowWhitespace();
  	if (!parser.matchString(":")) {
  		return null;
  	}
  	parser.allowWhitespace();

  	valueToken = parser.read();
  	if (!valueToken) {
  		return null;
  	}

  	pair.value = valueToken.v;

  	return pair;
  }

  var parseJSON = function (str, values) {
  	var parser = new JsonParser(str, {
  		values: values
  	});

  	return parser.result;
  };

  var shared_processItems = processItems;

  function processItems(items, values, guid, counter) {
  	counter = counter || 0;

  	return items.map(function (item) {
  		var placeholderId, wrapped, value;

  		if (item.text) {
  			return item.text;
  		}

  		if (item.fragments) {
  			return item.fragments.map(function (fragment) {
  				return processItems(fragment.items, values, guid, counter);
  			}).join("");
  		}

  		placeholderId = guid + "-" + counter++;

  		if (item.keypath && (wrapped = item.root.viewmodel.wrapped[item.keypath.str])) {
  			value = wrapped.value;
  		} else {
  			value = item.getValue();
  		}

  		values[placeholderId] = value;

  		return "${" + placeholderId + "}";
  	}).join("");
  }

  var getArgsList = Fragment$getArgsList;
  function Fragment$getArgsList() {
  	var values, source, parsed, result;

  	if (this.dirtyArgs) {
  		source = shared_processItems(this.items, values = {}, this.root._guid);
  		parsed = parseJSON("[" + source + "]", values);

  		if (!parsed) {
  			result = [this.toString()];
  		} else {
  			result = parsed.value;
  		}

  		this.argsList = result;
  		this.dirtyArgs = false;
  	}

  	return this.argsList;
  }

  var getNode = Fragment$getNode;

  function Fragment$getNode() {
  	var fragment = this;

  	do {
  		if (fragment.pElement) {
  			return fragment.pElement.node;
  		}
  	} while (fragment = fragment.parent);

  	return this.root.detached || this.root.el;
  }

  var prototype_getValue = Fragment$getValue;
  function Fragment$getValue() {
  	var values, source, parsed, result;

  	if (this.dirtyValue) {
  		source = shared_processItems(this.items, values = {}, this.root._guid);
  		parsed = parseJSON(source, values);

  		if (!parsed) {
  			result = this.toString();
  		} else {
  			result = parsed.value;
  		}

  		this.value = result;
  		this.dirtyValue = false;
  	}

  	return this.value;
  }

  var booleanAttributes, voidElementNames, htmlEntities, controlCharacters, entityPattern, lessThan, greaterThan, amp;

  // https://github.com/kangax/html-minifier/issues/63#issuecomment-37763316
  booleanAttributes = /^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i;
  voidElementNames = /^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;

  htmlEntities = { quot: 34, amp: 38, apos: 39, lt: 60, gt: 62, nbsp: 160, iexcl: 161, cent: 162, pound: 163, curren: 164, yen: 165, brvbar: 166, sect: 167, uml: 168, copy: 169, ordf: 170, laquo: 171, not: 172, shy: 173, reg: 174, macr: 175, deg: 176, plusmn: 177, sup2: 178, sup3: 179, acute: 180, micro: 181, para: 182, middot: 183, cedil: 184, sup1: 185, ordm: 186, raquo: 187, frac14: 188, frac12: 189, frac34: 190, iquest: 191, Agrave: 192, Aacute: 193, Acirc: 194, Atilde: 195, Auml: 196, Aring: 197, AElig: 198, Ccedil: 199, Egrave: 200, Eacute: 201, Ecirc: 202, Euml: 203, Igrave: 204, Iacute: 205, Icirc: 206, Iuml: 207, ETH: 208, Ntilde: 209, Ograve: 210, Oacute: 211, Ocirc: 212, Otilde: 213, Ouml: 214, times: 215, Oslash: 216, Ugrave: 217, Uacute: 218, Ucirc: 219, Uuml: 220, Yacute: 221, THORN: 222, szlig: 223, agrave: 224, aacute: 225, acirc: 226, atilde: 227, auml: 228, aring: 229, aelig: 230, ccedil: 231, egrave: 232, eacute: 233, ecirc: 234, euml: 235, igrave: 236, iacute: 237, icirc: 238, iuml: 239, eth: 240, ntilde: 241, ograve: 242, oacute: 243, ocirc: 244, otilde: 245, ouml: 246, divide: 247, oslash: 248, ugrave: 249, uacute: 250, ucirc: 251, uuml: 252, yacute: 253, thorn: 254, yuml: 255, OElig: 338, oelig: 339, Scaron: 352, scaron: 353, Yuml: 376, fnof: 402, circ: 710, tilde: 732, Alpha: 913, Beta: 914, Gamma: 915, Delta: 916, Epsilon: 917, Zeta: 918, Eta: 919, Theta: 920, Iota: 921, Kappa: 922, Lambda: 923, Mu: 924, Nu: 925, Xi: 926, Omicron: 927, Pi: 928, Rho: 929, Sigma: 931, Tau: 932, Upsilon: 933, Phi: 934, Chi: 935, Psi: 936, Omega: 937, alpha: 945, beta: 946, gamma: 947, delta: 948, epsilon: 949, zeta: 950, eta: 951, theta: 952, iota: 953, kappa: 954, lambda: 955, mu: 956, nu: 957, xi: 958, omicron: 959, pi: 960, rho: 961, sigmaf: 962, sigma: 963, tau: 964, upsilon: 965, phi: 966, chi: 967, psi: 968, omega: 969, thetasym: 977, upsih: 978, piv: 982, ensp: 8194, emsp: 8195, thinsp: 8201, zwnj: 8204, zwj: 8205, lrm: 8206, rlm: 8207, ndash: 8211, mdash: 8212, lsquo: 8216, rsquo: 8217, sbquo: 8218, ldquo: 8220, rdquo: 8221, bdquo: 8222, dagger: 8224, Dagger: 8225, bull: 8226, hellip: 8230, permil: 8240, prime: 8242, Prime: 8243, lsaquo: 8249, rsaquo: 8250, oline: 8254, frasl: 8260, euro: 8364, image: 8465, weierp: 8472, real: 8476, trade: 8482, alefsym: 8501, larr: 8592, uarr: 8593, rarr: 8594, darr: 8595, harr: 8596, crarr: 8629, lArr: 8656, uArr: 8657, rArr: 8658, dArr: 8659, hArr: 8660, forall: 8704, part: 8706, exist: 8707, empty: 8709, nabla: 8711, isin: 8712, notin: 8713, ni: 8715, prod: 8719, sum: 8721, minus: 8722, lowast: 8727, radic: 8730, prop: 8733, infin: 8734, ang: 8736, and: 8743, or: 8744, cap: 8745, cup: 8746, int: 8747, there4: 8756, sim: 8764, cong: 8773, asymp: 8776, ne: 8800, equiv: 8801, le: 8804, ge: 8805, sub: 8834, sup: 8835, nsub: 8836, sube: 8838, supe: 8839, oplus: 8853, otimes: 8855, perp: 8869, sdot: 8901, lceil: 8968, rceil: 8969, lfloor: 8970, rfloor: 8971, lang: 9001, rang: 9002, loz: 9674, spades: 9824, clubs: 9827, hearts: 9829, diams: 9830 };
  controlCharacters = [8364, 129, 8218, 402, 8222, 8230, 8224, 8225, 710, 8240, 352, 8249, 338, 141, 381, 143, 144, 8216, 8217, 8220, 8221, 8226, 8211, 8212, 732, 8482, 353, 8250, 339, 157, 382, 376];
  entityPattern = new RegExp("&(#?(?:x[\\w\\d]+|\\d+|" + Object.keys(htmlEntities).join("|") + "));?", "g");

  function decodeCharacterReferences(html) {
  	return html.replace(entityPattern, function (match, entity) {
  		var code;

  		// Handle named entities
  		if (entity[0] !== "#") {
  			code = htmlEntities[entity];
  		} else if (entity[1] === "x") {
  			code = parseInt(entity.substring(2), 16);
  		} else {
  			code = parseInt(entity.substring(1), 10);
  		}

  		if (!code) {
  			return match;
  		}

  		return String.fromCharCode(validateCode(code));
  	});
  }

  // some code points are verboten. If we were inserting HTML, the browser would replace the illegal
  // code points with alternatives in some cases - since we're bypassing that mechanism, we need
  // to replace them ourselves
  //
  // Source: http://en.wikipedia.org/wiki/Character_encodings_in_HTML#Illegal_characters
  function validateCode(code) {
  	if (!code) {
  		return 65533;
  	}

  	// line feed becomes generic whitespace
  	if (code === 10) {
  		return 32;
  	}

  	// ASCII range. (Why someone would use HTML entities for ASCII characters I don't know, but...)
  	if (code < 128) {
  		return code;
  	}

  	// code points 128-159 are dealt with leniently by browsers, but they're incorrect. We need
  	// to correct the mistake or we'll end up with missing € signs and so on
  	if (code <= 159) {
  		return controlCharacters[code - 128];
  	}

  	// basic multilingual plane
  	if (code < 55296) {
  		return code;
  	}

  	// UTF-16 surrogate halves
  	if (code <= 57343) {
  		return 65533;
  	}

  	// rest of the basic multilingual plane
  	if (code <= 65535) {
  		return code;
  	}

  	return 65533;
  }

  lessThan = /</g;
  greaterThan = />/g;
  amp = /&/g;

  function escapeHtml(str) {
  	return str.replace(amp, "&amp;").replace(lessThan, "&lt;").replace(greaterThan, "&gt;");
  }

  var shared_detach = function () {
  	return detachNode(this.node);
  };

  var Text = function (options) {
  	this.type = TEXT;
  	this.text = options.template;
  };

  Text.prototype = {
  	detach: shared_detach,

  	firstNode: function () {
  		return this.node;
  	},

  	render: function () {
  		if (!this.node) {
  			this.node = document.createTextNode(this.text);
  		}

  		return this.node;
  	},

  	toString: function (escape) {
  		return escape ? escapeHtml(this.text) : this.text;
  	},

  	unrender: function (shouldDestroy) {
  		if (shouldDestroy) {
  			return this.detach();
  		}
  	}
  };

  var items_Text = Text;

  var shared_unbind = shared_unbind__unbind;

  function shared_unbind__unbind() {
  	if (this.registered) {
  		// this was registered as a dependant
  		this.root.viewmodel.unregister(this.keypath, this);
  	}

  	if (this.resolver) {
  		this.resolver.unbind();
  	}
  }

  var Mustache_getValue = Mustache$getValue;

  function Mustache$getValue() {
  	return this.value;
  }

  var ReferenceResolver = function (owner, ref, callback) {
  	var keypath;

  	this.ref = ref;
  	this.resolved = false;

  	this.root = owner.root;
  	this.parentFragment = owner.parentFragment;
  	this.callback = callback;

  	keypath = shared_resolveRef(owner.root, ref, owner.parentFragment);
  	if (keypath != undefined) {
  		this.resolve(keypath);
  	} else {
  		global_runloop.addUnresolved(this);
  	}
  };

  ReferenceResolver.prototype = {
  	resolve: function (keypath) {
  		if (this.keypath && !keypath) {
  			// it was resolved, and now it's not. Can happen if e.g. `bar` in
  			// `{{foo[bar]}}` becomes undefined
  			global_runloop.addUnresolved(this);
  		}

  		this.resolved = true;

  		this.keypath = keypath;
  		this.callback(keypath);
  	},

  	forceResolution: function () {
  		this.resolve(getKeypath(this.ref));
  	},

  	rebind: function (oldKeypath, newKeypath) {
  		var keypath;

  		if (this.keypath != undefined) {
  			keypath = this.keypath.replace(oldKeypath, newKeypath);
  			// was a new keypath created?
  			if (keypath !== undefined) {
  				// resolve it
  				this.resolve(keypath);
  			}
  		}
  	},

  	unbind: function () {
  		if (!this.resolved) {
  			global_runloop.removeUnresolved(this);
  		}
  	}
  };

  var Resolvers_ReferenceResolver = ReferenceResolver;

  var SpecialResolver = function (owner, ref, callback) {
  	this.parentFragment = owner.parentFragment;
  	this.ref = ref;
  	this.callback = callback;

  	this.rebind();
  };

  var props = {
  	"@keypath": { prefix: "c", prop: ["context"] },
  	"@index": { prefix: "i", prop: ["index"] },
  	"@key": { prefix: "k", prop: ["key", "index"] }
  };

  function getProp(target, prop) {
  	var value;
  	for (var i = 0; i < prop.prop.length; i++) {
  		if ((value = target[prop.prop[i]]) !== undefined) {
  			return value;
  		}
  	}
  }

  SpecialResolver.prototype = {
  	rebind: function () {
  		var ref = this.ref,
  		    fragment = this.parentFragment,
  		    prop = props[ref],
  		    value;

  		if (!prop) {
  			throw new Error("Unknown special reference \"" + ref + "\" - valid references are @index, @key and @keypath");
  		}

  		// have we already found the nearest parent?
  		if (this.cached) {
  			return this.callback(getKeypath("@" + prop.prefix + getProp(this.cached, prop)));
  		}

  		// special case for indices, which may cross component boundaries
  		if (prop.prop.indexOf("index") !== -1 || prop.prop.indexOf("key") !== -1) {
  			while (fragment) {
  				if (fragment.owner.currentSubtype === SECTION_EACH && (value = getProp(fragment, prop)) !== undefined) {
  					this.cached = fragment;

  					fragment.registerIndexRef(this);

  					return this.callback(getKeypath("@" + prop.prefix + value));
  				}

  				// watch for component boundaries
  				if (!fragment.parent && fragment.owner && fragment.owner.component && fragment.owner.component.parentFragment && !fragment.owner.component.instance.isolated) {
  					fragment = fragment.owner.component.parentFragment;
  				} else {
  					fragment = fragment.parent;
  				}
  			}
  		} else {
  			while (fragment) {
  				if ((value = getProp(fragment, prop)) !== undefined) {
  					return this.callback(getKeypath("@" + prop.prefix + value.str));
  				}

  				fragment = fragment.parent;
  			}
  		}
  	},

  	unbind: function () {
  		if (this.cached) {
  			this.cached.unregisterIndexRef(this);
  		}
  	}
  };

  var Resolvers_SpecialResolver = SpecialResolver;

  var IndexResolver = function (owner, ref, callback) {
  	this.parentFragment = owner.parentFragment;
  	this.ref = ref;
  	this.callback = callback;

  	ref.ref.fragment.registerIndexRef(this);

  	this.rebind();
  };

  IndexResolver.prototype = {
  	rebind: function () {
  		var index,
  		    ref = this.ref.ref;

  		if (ref.ref.t === "k") {
  			index = "k" + ref.fragment.key;
  		} else {
  			index = "i" + ref.fragment.index;
  		}

  		if (index !== undefined) {
  			this.callback(getKeypath("@" + index));
  		}
  	},

  	unbind: function () {
  		this.ref.ref.fragment.unregisterIndexRef(this);
  	}
  };

  var Resolvers_IndexResolver = IndexResolver;

  var Resolvers_findIndexRefs = findIndexRefs;

  function findIndexRefs(fragment, refName) {
  	var result = {},
  	    refs,
  	    fragRefs,
  	    ref,
  	    i,
  	    owner,
  	    hit = false;

  	if (!refName) {
  		result.refs = refs = {};
  	}

  	while (fragment) {
  		if ((owner = fragment.owner) && (fragRefs = owner.indexRefs)) {

  			// we're looking for a particular ref, and it's here
  			if (refName && (ref = owner.getIndexRef(refName))) {
  				result.ref = {
  					fragment: fragment,
  					ref: ref
  				};
  				return result;
  			}

  			// we're collecting refs up-tree
  			else if (!refName) {
  				for (i in fragRefs) {
  					ref = fragRefs[i];

  					// don't overwrite existing refs - they should shadow parents
  					if (!refs[ref.n]) {
  						hit = true;
  						refs[ref.n] = {
  							fragment: fragment,
  							ref: ref
  						};
  					}
  				}
  			}
  		}

  		// watch for component boundaries
  		if (!fragment.parent && fragment.owner && fragment.owner.component && fragment.owner.component.parentFragment && !fragment.owner.component.instance.isolated) {
  			result.componentBoundary = true;
  			fragment = fragment.owner.component.parentFragment;
  		} else {
  			fragment = fragment.parent;
  		}
  	}

  	if (!hit) {
  		return undefined;
  	} else {
  		return result;
  	}
  }

  findIndexRefs.resolve = function resolve(indices) {
  	var refs = {},
  	    k,
  	    ref;

  	for (k in indices.refs) {
  		ref = indices.refs[k];
  		refs[ref.ref.n] = ref.ref.t === "k" ? ref.fragment.key : ref.fragment.index;
  	}

  	return refs;
  };

  var Resolvers_createReferenceResolver = createReferenceResolver;
  function createReferenceResolver(owner, ref, callback) {
  	var indexRef;

  	if (ref.charAt(0) === "@") {
  		return new Resolvers_SpecialResolver(owner, ref, callback);
  	}

  	if (indexRef = Resolvers_findIndexRefs(owner.parentFragment, ref)) {
  		return new Resolvers_IndexResolver(owner, indexRef, callback);
  	}

  	return new Resolvers_ReferenceResolver(owner, ref, callback);
  }

  var shared_getFunctionFromString = getFunctionFromString;
  var cache = {};
  function getFunctionFromString(str, i) {
  	var fn, args;

  	if (cache[str]) {
  		return cache[str];
  	}

  	args = [];
  	while (i--) {
  		args[i] = "_" + i;
  	}

  	fn = new Function(args.join(","), "return(" + str + ")");

  	cache[str] = fn;
  	return fn;
  }

  var ExpressionResolver,
      Resolvers_ExpressionResolver__bind = Function.prototype.bind;

  ExpressionResolver = function (owner, parentFragment, expression, callback) {
  	var _this = this;

  	var ractive;

  	ractive = owner.root;

  	this.root = ractive;
  	this.parentFragment = parentFragment;
  	this.callback = callback;
  	this.owner = owner;
  	this.str = expression.s;
  	this.keypaths = [];

  	// Create resolvers for each reference
  	this.pending = expression.r.length;
  	this.refResolvers = expression.r.map(function (ref, i) {
  		return Resolvers_createReferenceResolver(_this, ref, function (keypath) {
  			_this.resolve(i, keypath);
  		});
  	});

  	this.ready = true;
  	this.bubble();
  };

  ExpressionResolver.prototype = {
  	bubble: function () {
  		if (!this.ready) {
  			return;
  		}

  		this.uniqueString = getUniqueString(this.str, this.keypaths);
  		this.keypath = createExpressionKeypath(this.uniqueString);

  		this.createEvaluator();
  		this.callback(this.keypath);
  	},

  	unbind: function () {
  		var resolver;

  		while (resolver = this.refResolvers.pop()) {
  			resolver.unbind();
  		}
  	},

  	resolve: function (index, keypath) {
  		this.keypaths[index] = keypath;
  		this.bubble();
  	},

  	createEvaluator: function () {
  		var _this = this;

  		var computation, valueGetters, signature, keypath, fn;

  		keypath = this.keypath;
  		computation = this.root.viewmodel.computations[keypath.str];

  		// only if it doesn't exist yet!
  		if (!computation) {
  			fn = shared_getFunctionFromString(this.str, this.refResolvers.length);

  			valueGetters = this.keypaths.map(function (keypath) {
  				var value;

  				if (keypath === "undefined") {
  					return function () {
  						return undefined;
  					};
  				}

  				// 'special' keypaths encode a value
  				if (keypath.isSpecial) {
  					value = keypath.value;
  					return function () {
  						return value;
  					};
  				}

  				return function () {
  					var value = _this.root.viewmodel.get(keypath, { noUnwrap: true, fullRootGet: true });
  					if (typeof value === "function") {
  						value = wrapFunction(value, _this.root);
  					}
  					return value;
  				};
  			});

  			signature = {
  				deps: this.keypaths.filter(isValidDependency),
  				getter: function () {
  					var args = valueGetters.map(call);
  					return fn.apply(null, args);
  				}
  			};

  			computation = this.root.viewmodel.compute(keypath, signature);
  		} else {
  			this.root.viewmodel.mark(keypath);
  		}
  	},

  	rebind: function (oldKeypath, newKeypath) {
  		// TODO only bubble once, no matter how many references are affected by the rebind
  		this.refResolvers.forEach(function (r) {
  			return r.rebind(oldKeypath, newKeypath);
  		});
  	}
  };

  var Resolvers_ExpressionResolver = ExpressionResolver;

  function call(value) {
  	return value.call();
  }

  function getUniqueString(str, keypaths) {
  	// get string that is unique to this expression
  	return str.replace(/_([0-9]+)/g, function (match, $1) {
  		var keypath, value;

  		// make sure we're not replacing a non-keypath _[0-9]
  		if (+$1 >= keypaths.length) {
  			return "_" + $1;
  		}

  		keypath = keypaths[$1];

  		if (keypath === undefined) {
  			return "undefined";
  		}

  		if (keypath.isSpecial) {
  			value = keypath.value;
  			return typeof value === "number" ? value : "\"" + value + "\"";
  		}

  		return keypath.str;
  	});
  }

  function createExpressionKeypath(uniqueString) {
  	// Sanitize by removing any periods or square brackets. Otherwise
  	// we can't split the keypath into keys!
  	// Remove asterisks too, since they mess with pattern observers
  	return getKeypath("${" + uniqueString.replace(/[\.\[\]]/g, "-").replace(/\*/, "#MUL#") + "}");
  }

  function isValidDependency(keypath) {
  	return keypath !== undefined && keypath[0] !== "@";
  }

  function wrapFunction(fn, ractive) {
  	var wrapped, prop, key;

  	if (fn.__ractive_nowrap) {
  		return fn;
  	}

  	prop = "__ractive_" + ractive._guid;
  	wrapped = fn[prop];

  	if (wrapped) {
  		return wrapped;
  	} else if (/this/.test(fn.toString())) {
  		defineProperty(fn, prop, {
  			value: Resolvers_ExpressionResolver__bind.call(fn, ractive),
  			configurable: true
  		});

  		// Add properties/methods to wrapped function
  		for (key in fn) {
  			if (fn.hasOwnProperty(key)) {
  				fn[prop][key] = fn[key];
  			}
  		}

  		ractive._boundFunctions.push({
  			fn: fn,
  			prop: prop
  		});

  		return fn[prop];
  	}

  	defineProperty(fn, "__ractive_nowrap", {
  		value: fn
  	});

  	return fn.__ractive_nowrap;
  }

  var MemberResolver = function (template, resolver, parentFragment) {
  	var _this = this;

  	this.resolver = resolver;
  	this.root = resolver.root;
  	this.parentFragment = parentFragment;
  	this.viewmodel = resolver.root.viewmodel;

  	if (typeof template === "string") {
  		this.value = template;
  	}

  	// Simple reference?
  	else if (template.t === REFERENCE) {
  		this.refResolver = Resolvers_createReferenceResolver(this, template.n, function (keypath) {
  			_this.resolve(keypath);
  		});
  	}

  	// Otherwise we have an expression in its own right
  	else {
  		new Resolvers_ExpressionResolver(resolver, parentFragment, template, function (keypath) {
  			_this.resolve(keypath);
  		});
  	}
  };

  MemberResolver.prototype = {
  	resolve: function (keypath) {
  		if (this.keypath) {
  			this.viewmodel.unregister(this.keypath, this);
  		}

  		this.keypath = keypath;
  		this.value = this.viewmodel.get(keypath);

  		this.bind();

  		this.resolver.bubble();
  	},

  	bind: function () {
  		this.viewmodel.register(this.keypath, this);
  	},

  	rebind: function (oldKeypath, newKeypath) {
  		if (this.refResolver) {
  			this.refResolver.rebind(oldKeypath, newKeypath);
  		}
  	},

  	setValue: function (value) {
  		this.value = value;
  		this.resolver.bubble();
  	},

  	unbind: function () {
  		if (this.keypath) {
  			this.viewmodel.unregister(this.keypath, this);
  		}

  		if (this.refResolver) {
  			this.refResolver.unbind();
  		}
  	},

  	forceResolution: function () {
  		if (this.refResolver) {
  			this.refResolver.forceResolution();
  		}
  	}
  };

  var ReferenceExpressionResolver_MemberResolver = MemberResolver;

  var ReferenceExpressionResolver = function (mustache, template, callback) {
  	var _this = this;

  	var ractive, ref, keypath, parentFragment;

  	this.parentFragment = parentFragment = mustache.parentFragment;
  	this.root = ractive = mustache.root;
  	this.mustache = mustache;

  	this.ref = ref = template.r;
  	this.callback = callback;

  	this.unresolved = [];

  	// Find base keypath
  	if (keypath = shared_resolveRef(ractive, ref, parentFragment)) {
  		this.base = keypath;
  	} else {
  		this.baseResolver = new Resolvers_ReferenceResolver(this, ref, function (keypath) {
  			_this.base = keypath;
  			_this.baseResolver = null;
  			_this.bubble();
  		});
  	}

  	// Find values for members, or mark them as unresolved
  	this.members = template.m.map(function (template) {
  		return new ReferenceExpressionResolver_MemberResolver(template, _this, parentFragment);
  	});

  	this.ready = true;
  	this.bubble(); // trigger initial resolution if possible
  };

  ReferenceExpressionResolver.prototype = {
  	getKeypath: function () {
  		var values = this.members.map(ReferenceExpressionResolver_ReferenceExpressionResolver__getValue);

  		if (!values.every(isDefined) || this.baseResolver) {
  			return null;
  		}

  		return this.base.join(values.join("."));
  	},

  	bubble: function () {
  		if (!this.ready || this.baseResolver) {
  			return;
  		}

  		this.callback(this.getKeypath());
  	},

  	unbind: function () {
  		this.members.forEach(methodCallers__unbind);
  	},

  	rebind: function (oldKeypath, newKeypath) {
  		var changed;

  		if (this.base) {
  			var newBase = this.base.replace(oldKeypath, newKeypath);
  			if (newBase && newBase !== this.base) {
  				this.base = newBase;
  				changed = true;
  			}
  		}

  		this.members.forEach(function (members) {
  			if (members.rebind(oldKeypath, newKeypath)) {
  				changed = true;
  			}
  		});

  		if (changed) {
  			this.bubble();
  		}
  	},

  	forceResolution: function () {
  		if (this.baseResolver) {
  			this.base = getKeypath(this.ref);

  			this.baseResolver.unbind();
  			this.baseResolver = null;
  		}

  		this.members.forEach(forceResolution);
  		this.bubble();
  	}
  };

  function ReferenceExpressionResolver_ReferenceExpressionResolver__getValue(member) {
  	return member.value;
  }

  function isDefined(value) {
  	return value != undefined;
  }

  function forceResolution(member) {
  	member.forceResolution();
  }

  var ReferenceExpressionResolver_ReferenceExpressionResolver = ReferenceExpressionResolver;

  var Mustache_initialise = Mustache$init;
  function Mustache$init(mustache, options) {

  	var ref, parentFragment, template;

  	parentFragment = options.parentFragment;
  	template = options.template;

  	mustache.root = parentFragment.root;
  	mustache.parentFragment = parentFragment;
  	mustache.pElement = parentFragment.pElement;

  	mustache.template = options.template;
  	mustache.index = options.index || 0;
  	mustache.isStatic = options.template.s;

  	mustache.type = options.template.t;

  	mustache.registered = false;

  	// if this is a simple mustache, with a reference, we just need to resolve
  	// the reference to a keypath
  	if (ref = template.r) {
  		mustache.resolver = Resolvers_createReferenceResolver(mustache, ref, resolve);
  	}

  	// if it's an expression, we have a bit more work to do
  	if (options.template.x) {
  		mustache.resolver = new Resolvers_ExpressionResolver(mustache, parentFragment, options.template.x, resolveAndRebindChildren);
  	}

  	if (options.template.rx) {
  		mustache.resolver = new ReferenceExpressionResolver_ReferenceExpressionResolver(mustache, options.template.rx, resolveAndRebindChildren);
  	}

  	// Special case - inverted sections
  	if (mustache.template.n === SECTION_UNLESS && !mustache.hasOwnProperty("value")) {
  		mustache.setValue(undefined);
  	}

  	function resolve(keypath) {
  		mustache.resolve(keypath);
  	}

  	function resolveAndRebindChildren(newKeypath) {
  		var oldKeypath = mustache.keypath;

  		if (newKeypath != oldKeypath) {
  			mustache.resolve(newKeypath);

  			if (oldKeypath !== undefined) {
  				mustache.fragments && mustache.fragments.forEach(function (f) {
  					f.rebind(oldKeypath, newKeypath);
  				});
  			}
  		}
  	}
  }

  var Mustache_resolve = Mustache$resolve;

  function Mustache$resolve(keypath) {
  	var wasResolved, value, twowayBinding;

  	// 'Special' keypaths, e.g. @foo or @7, encode a value
  	if (keypath && keypath.isSpecial) {
  		this.keypath = keypath;
  		this.setValue(keypath.value);
  		return;
  	}

  	// If we resolved previously, we need to unregister
  	if (this.registered) {
  		// undefined or null
  		this.root.viewmodel.unregister(this.keypath, this);
  		this.registered = false;

  		wasResolved = true;
  	}

  	this.keypath = keypath;

  	// If the new keypath exists, we need to register
  	// with the viewmodel
  	if (keypath != undefined) {
  		// undefined or null
  		value = this.root.viewmodel.get(keypath);
  		this.root.viewmodel.register(keypath, this);

  		this.registered = true;
  	}

  	// Either way we need to queue up a render (`value`
  	// will be `undefined` if there's no keypath)
  	this.setValue(value);

  	// Two-way bindings need to point to their new target keypath
  	if (wasResolved && (twowayBinding = this.twowayBinding)) {
  		twowayBinding.rebound();
  	}
  }

  var Mustache_rebind = Mustache$rebind;

  function Mustache$rebind(oldKeypath, newKeypath) {
  	// Children first
  	if (this.fragments) {
  		this.fragments.forEach(function (f) {
  			return f.rebind(oldKeypath, newKeypath);
  		});
  	}

  	// Expression mustache?
  	if (this.resolver) {
  		this.resolver.rebind(oldKeypath, newKeypath);
  	}
  }

  var Mustache = {
  	getValue: Mustache_getValue,
  	init: Mustache_initialise,
  	resolve: Mustache_resolve,
  	rebind: Mustache_rebind
  };

  var Interpolator = function (options) {
  	this.type = INTERPOLATOR;
  	Mustache.init(this, options);
  };

  Interpolator.prototype = {
  	update: function () {
  		this.node.data = this.value == undefined ? "" : this.value;
  	},
  	resolve: Mustache.resolve,
  	rebind: Mustache.rebind,
  	detach: shared_detach,

  	unbind: shared_unbind,

  	render: function () {
  		if (!this.node) {
  			this.node = document.createTextNode(safeToStringValue(this.value));
  		}

  		return this.node;
  	},

  	unrender: function (shouldDestroy) {
  		if (shouldDestroy) {
  			detachNode(this.node);
  		}
  	},

  	getValue: Mustache.getValue,

  	// TEMP
  	setValue: function (value) {
  		var wrapper;

  		// TODO is there a better way to approach this?
  		if (this.keypath && (wrapper = this.root.viewmodel.wrapped[this.keypath.str])) {
  			value = wrapper.get();
  		}

  		if (!isEqual(value, this.value)) {
  			this.value = value;
  			this.parentFragment.bubble();

  			if (this.node) {
  				global_runloop.addView(this);
  			}
  		}
  	},

  	firstNode: function () {
  		return this.node;
  	},

  	toString: function (escape) {
  		var string = "" + safeToStringValue(this.value);
  		return escape ? escapeHtml(string) : string;
  	}
  };

  var items_Interpolator = Interpolator;

  var Section_prototype_bubble = Section$bubble;

  function Section$bubble() {
  	this.parentFragment.bubble();
  }

  var Section_prototype_detach = Section$detach;

  function Section$detach() {
  	var docFrag;

  	if (this.fragments.length === 1) {
  		return this.fragments[0].detach();
  	}

  	docFrag = document.createDocumentFragment();

  	this.fragments.forEach(function (item) {
  		docFrag.appendChild(item.detach());
  	});

  	return docFrag;
  }

  var find = Section$find;

  function Section$find(selector) {
  	var i, len, queryResult;

  	len = this.fragments.length;
  	for (i = 0; i < len; i += 1) {
  		if (queryResult = this.fragments[i].find(selector)) {
  			return queryResult;
  		}
  	}

  	return null;
  }

  var findAll = Section$findAll;

  function Section$findAll(selector, query) {
  	var i, len;

  	len = this.fragments.length;
  	for (i = 0; i < len; i += 1) {
  		this.fragments[i].findAll(selector, query);
  	}
  }

  var findAllComponents = Section$findAllComponents;

  function Section$findAllComponents(selector, query) {
  	var i, len;

  	len = this.fragments.length;
  	for (i = 0; i < len; i += 1) {
  		this.fragments[i].findAllComponents(selector, query);
  	}
  }

  var findComponent = Section$findComponent;

  function Section$findComponent(selector) {
  	var i, len, queryResult;

  	len = this.fragments.length;
  	for (i = 0; i < len; i += 1) {
  		if (queryResult = this.fragments[i].findComponent(selector)) {
  			return queryResult;
  		}
  	}

  	return null;
  }

  var findNextNode = Section$findNextNode;

  function Section$findNextNode(fragment) {
  	if (this.fragments[fragment.index + 1]) {
  		return this.fragments[fragment.index + 1].firstNode();
  	}

  	return this.parentFragment.findNextNode(this);
  }

  var firstNode = Section$firstNode;

  function Section$firstNode() {
  	var len, i, node;

  	if (len = this.fragments.length) {
  		for (i = 0; i < len; i += 1) {
  			if (node = this.fragments[i].firstNode()) {
  				return node;
  			}
  		}
  	}

  	return this.parentFragment.findNextNode(this);
  }

  var shuffle = Section$shuffle;

  function Section$shuffle(newIndices) {
  	var _this = this;

  	var parentFragment, firstChange, i, newLength, reboundFragments, fragmentOptions, fragment;

  	// short circuit any double-updates, and ensure that this isn't applied to
  	// non-list sections
  	if (this.shuffling || this.unbound || this.currentSubtype !== SECTION_EACH) {
  		return;
  	}

  	this.shuffling = true;
  	global_runloop.scheduleTask(function () {
  		return _this.shuffling = false;
  	});

  	parentFragment = this.parentFragment;

  	reboundFragments = [];

  	// TODO: need to update this
  	// first, rebind existing fragments
  	newIndices.forEach(function (newIndex, oldIndex) {
  		var fragment, by, oldKeypath, newKeypath, deps;

  		if (newIndex === oldIndex) {
  			reboundFragments[newIndex] = _this.fragments[oldIndex];
  			return;
  		}

  		fragment = _this.fragments[oldIndex];

  		if (firstChange === undefined) {
  			firstChange = oldIndex;
  		}

  		// does this fragment need to be torn down?
  		if (newIndex === -1) {
  			_this.fragmentsToUnrender.push(fragment);
  			fragment.unbind();
  			return;
  		}

  		// Otherwise, it needs to be rebound to a new index
  		by = newIndex - oldIndex;
  		oldKeypath = _this.keypath.join(oldIndex);
  		newKeypath = _this.keypath.join(newIndex);

  		fragment.index = newIndex;

  		// notify any registered index refs directly
  		if (deps = fragment.registeredIndexRefs) {
  			deps.forEach(shuffle__blindRebind);
  		}

  		fragment.rebind(oldKeypath, newKeypath);
  		reboundFragments[newIndex] = fragment;
  	});

  	newLength = this.root.viewmodel.get(this.keypath).length;

  	// If nothing changed with the existing fragments, then we start adding
  	// new fragments at the end...
  	if (firstChange === undefined) {
  		// ...unless there are no new fragments to add
  		if (this.length === newLength) {
  			return;
  		}

  		firstChange = this.length;
  	}

  	this.length = this.fragments.length = newLength;

  	if (this.rendered) {
  		global_runloop.addView(this);
  	}

  	// Prepare new fragment options
  	fragmentOptions = {
  		template: this.template.f,
  		root: this.root,
  		owner: this
  	};

  	// Add as many new fragments as we need to, or add back existing
  	// (detached) fragments
  	for (i = firstChange; i < newLength; i += 1) {
  		fragment = reboundFragments[i];

  		if (!fragment) {
  			this.fragmentsToCreate.push(i);
  		}

  		this.fragments[i] = fragment;
  	}
  }

  function shuffle__blindRebind(dep) {
  	// the keypath doesn't actually matter here as it won't have changed
  	dep.rebind("", "");
  }

  var prototype_rebind = function (oldKeypath, newKeypath) {
  	Mustache.rebind.call(this, oldKeypath, newKeypath);
  };

  var Section_prototype_render = Section$render;

  function Section$render() {
  	var _this = this;

  	this.docFrag = document.createDocumentFragment();

  	this.fragments.forEach(function (f) {
  		return _this.docFrag.appendChild(f.render());
  	});

  	this.renderedFragments = this.fragments.slice();
  	this.fragmentsToRender = [];

  	this.rendered = true;
  	return this.docFrag;
  }

  var setValue = Section$setValue;

  function Section$setValue(value) {
  	var _this = this;

  	var wrapper, fragmentOptions;

  	if (this.updating) {
  		// If a child of this section causes a re-evaluation - for example, an
  		// expression refers to a function that mutates the array that this
  		// section depends on - we'll end up with a double rendering bug (see
  		// https://github.com/ractivejs/ractive/issues/748). This prevents it.
  		return;
  	}

  	this.updating = true;

  	// with sections, we need to get the fake value if we have a wrapped object
  	if (this.keypath && (wrapper = this.root.viewmodel.wrapped[this.keypath.str])) {
  		value = wrapper.get();
  	}

  	// If any fragments are awaiting creation after a splice,
  	// this is the place to do it
  	if (this.fragmentsToCreate.length) {
  		fragmentOptions = {
  			template: this.template.f || [],
  			root: this.root,
  			pElement: this.pElement,
  			owner: this
  		};

  		this.fragmentsToCreate.forEach(function (index) {
  			var fragment;

  			fragmentOptions.context = _this.keypath.join(index);
  			fragmentOptions.index = index;

  			fragment = new virtualdom_Fragment(fragmentOptions);
  			_this.fragmentsToRender.push(_this.fragments[index] = fragment);
  		});

  		this.fragmentsToCreate.length = 0;
  	} else if (reevaluateSection(this, value)) {
  		this.bubble();

  		if (this.rendered) {
  			global_runloop.addView(this);
  		}
  	}

  	this.value = value;
  	this.updating = false;
  }

  function changeCurrentSubtype(section, value, obj) {
  	if (value === SECTION_EACH) {
  		// make sure ref type is up to date for key or value indices
  		if (section.indexRefs && section.indexRefs[0]) {
  			var ref = section.indexRefs[0];

  			// when switching flavors, make sure the section gets updated
  			if (obj && ref.t === "i" || !obj && ref.t === "k") {
  				// if switching from object to list, unbind all of the old fragments
  				if (!obj) {
  					section.length = 0;
  					section.fragmentsToUnrender = section.fragments.slice(0);
  					section.fragmentsToUnrender.forEach(function (f) {
  						return f.unbind();
  					});
  				}
  			}

  			ref.t = obj ? "k" : "i";
  		}
  	}

  	section.currentSubtype = value;
  }

  function reevaluateSection(section, value) {
  	var fragmentOptions = {
  		template: section.template.f || [],
  		root: section.root,
  		pElement: section.parentFragment.pElement,
  		owner: section
  	};

  	section.hasContext = true;

  	// If we already know the section type, great
  	// TODO can this be optimised? i.e. pick an reevaluateSection function during init
  	// and avoid doing this each time?
  	if (section.subtype) {
  		switch (section.subtype) {
  			case SECTION_IF:
  				section.hasContext = false;
  				return reevaluateConditionalSection(section, value, false, fragmentOptions);

  			case SECTION_UNLESS:
  				section.hasContext = false;
  				return reevaluateConditionalSection(section, value, true, fragmentOptions);

  			case SECTION_WITH:
  				return reevaluateContextSection(section, fragmentOptions);

  			case SECTION_IF_WITH:
  				return reevaluateConditionalContextSection(section, value, fragmentOptions);

  			case SECTION_EACH:
  				if (isObject(value)) {
  					changeCurrentSubtype(section, section.subtype, true);
  					return reevaluateListObjectSection(section, value, fragmentOptions);
  				}

  				// Fallthrough - if it's a conditional or an array we need to continue
  		}
  	}

  	// Otherwise we need to work out what sort of section we're dealing with
  	section.ordered = !!isArrayLike(value);

  	// Ordered list section
  	if (section.ordered) {
  		changeCurrentSubtype(section, SECTION_EACH, false);
  		return reevaluateListSection(section, value, fragmentOptions);
  	}

  	// Unordered list, or context
  	if (isObject(value) || typeof value === "function") {
  		// Index reference indicates section should be treated as a list
  		if (section.template.i) {
  			changeCurrentSubtype(section, SECTION_EACH, true);
  			return reevaluateListObjectSection(section, value, fragmentOptions);
  		}

  		// Otherwise, object provides context for contents
  		changeCurrentSubtype(section, SECTION_WITH, false);
  		return reevaluateContextSection(section, fragmentOptions);
  	}

  	// Conditional section
  	changeCurrentSubtype(section, SECTION_IF, false);
  	section.hasContext = false;
  	return reevaluateConditionalSection(section, value, false, fragmentOptions);
  }

  function reevaluateListSection(section, value, fragmentOptions) {
  	var i, length, fragment;

  	length = value.length;

  	if (length === section.length) {
  		// Nothing to do
  		return false;
  	}

  	// if the array is shorter than it was previously, remove items
  	if (length < section.length) {
  		section.fragmentsToUnrender = section.fragments.splice(length, section.length - length);
  		section.fragmentsToUnrender.forEach(methodCallers__unbind);
  	}

  	// otherwise...
  	else {
  		if (length > section.length) {
  			// add any new ones
  			for (i = section.length; i < length; i += 1) {
  				// append list item to context stack
  				fragmentOptions.context = section.keypath.join(i);
  				fragmentOptions.index = i;

  				fragment = new virtualdom_Fragment(fragmentOptions);
  				section.fragmentsToRender.push(section.fragments[i] = fragment);
  			}
  		}
  	}

  	section.length = length;
  	return true;
  }

  function reevaluateListObjectSection(section, value, fragmentOptions) {
  	var id, i, hasKey, fragment, changed, deps;

  	hasKey = section.hasKey || (section.hasKey = {});

  	// remove any fragments that should no longer exist
  	i = section.fragments.length;
  	while (i--) {
  		fragment = section.fragments[i];

  		if (!(fragment.key in value)) {
  			changed = true;

  			fragment.unbind();
  			section.fragmentsToUnrender.push(fragment);
  			section.fragments.splice(i, 1);

  			hasKey[fragment.key] = false;
  		}
  	}

  	// notify any dependents about changed indices
  	i = section.fragments.length;
  	while (i--) {
  		fragment = section.fragments[i];

  		if (fragment.index !== i) {
  			fragment.index = i;
  			if (deps = fragment.registeredIndexRefs) {
  				deps.forEach(setValue__blindRebind);
  			}
  		}
  	}

  	// add any that haven't been created yet
  	i = section.fragments.length;
  	for (id in value) {
  		if (!hasKey[id]) {
  			changed = true;

  			fragmentOptions.context = section.keypath.join(id);
  			fragmentOptions.key = id;
  			fragmentOptions.index = i++;

  			fragment = new virtualdom_Fragment(fragmentOptions);

  			section.fragmentsToRender.push(fragment);
  			section.fragments.push(fragment);
  			hasKey[id] = true;
  		}
  	}

  	section.length = section.fragments.length;
  	return changed;
  }

  function reevaluateConditionalContextSection(section, value, fragmentOptions) {
  	if (value) {
  		return reevaluateContextSection(section, fragmentOptions);
  	} else {
  		return removeSectionFragments(section);
  	}
  }

  function reevaluateContextSection(section, fragmentOptions) {
  	var fragment;

  	// ...then if it isn't rendered, render it, adding section.keypath to the context stack
  	// (if it is already rendered, then any children dependent on the context stack
  	// will update themselves without any prompting)
  	if (!section.length) {
  		// append this section to the context stack
  		fragmentOptions.context = section.keypath;
  		fragmentOptions.index = 0;

  		fragment = new virtualdom_Fragment(fragmentOptions);

  		section.fragmentsToRender.push(section.fragments[0] = fragment);
  		section.length = 1;

  		return true;
  	}
  }

  function reevaluateConditionalSection(section, value, inverted, fragmentOptions) {
  	var doRender, emptyArray, emptyObject, fragment, name;

  	emptyArray = isArrayLike(value) && value.length === 0;
  	emptyObject = false;
  	if (!isArrayLike(value) && isObject(value)) {
  		emptyObject = true;
  		for (name in value) {
  			emptyObject = false;
  			break;
  		}
  	}

  	if (inverted) {
  		doRender = emptyArray || emptyObject || !value;
  	} else {
  		doRender = value && !emptyArray && !emptyObject;
  	}

  	if (doRender) {
  		if (!section.length) {
  			// no change to context stack
  			fragmentOptions.index = 0;

  			fragment = new virtualdom_Fragment(fragmentOptions);
  			section.fragmentsToRender.push(section.fragments[0] = fragment);
  			section.length = 1;

  			return true;
  		}

  		if (section.length > 1) {
  			section.fragmentsToUnrender = section.fragments.splice(1);
  			section.fragmentsToUnrender.forEach(methodCallers__unbind);

  			return true;
  		}
  	} else {
  		return removeSectionFragments(section);
  	}
  }

  function removeSectionFragments(section) {
  	if (section.length) {
  		section.fragmentsToUnrender = section.fragments.splice(0, section.fragments.length).filter(isRendered);
  		section.fragmentsToUnrender.forEach(methodCallers__unbind);
  		section.length = section.fragmentsToRender.length = 0;
  		return true;
  	}
  }

  function isRendered(fragment) {
  	return fragment.rendered;
  }

  function setValue__blindRebind(dep) {
  	// the keypath doesn't actually matter here as it won't have changed
  	dep.rebind("", "");
  }

  var prototype_toString = Section$toString;

  function Section$toString(escape) {
  	var str, i, len;

  	str = "";

  	i = 0;
  	len = this.length;

  	for (i = 0; i < len; i += 1) {
  		str += this.fragments[i].toString(escape);
  	}

  	return str;
  }

  var prototype_unbind = Section$unbind;
  function Section$unbind() {
  	var _this = this;

  	this.fragments.forEach(methodCallers__unbind);
  	this.fragmentsToRender.forEach(function (f) {
  		return removeFromArray(_this.fragments, f);
  	});
  	this.fragmentsToRender = [];
  	shared_unbind.call(this);

  	this.length = 0;
  	this.unbound = true;
  }

  var prototype_unrender = Section$unrender;

  function Section$unrender(shouldDestroy) {
  	this.fragments.forEach(shouldDestroy ? unrenderAndDestroy : prototype_unrender__unrender);
  	this.renderedFragments = [];
  	this.rendered = false;
  }

  function unrenderAndDestroy(fragment) {
  	fragment.unrender(true);
  }

  function prototype_unrender__unrender(fragment) {
  	fragment.unrender(false);
  }

  var prototype_update = Section$update;

  function Section$update() {
  	var fragment, renderIndex, renderedFragments, anchor, target, i, len;

  	// `this.renderedFragments` is in the order of the previous render.
  	// If fragments have shuffled about, this allows us to quickly
  	// reinsert them in the correct place
  	renderedFragments = this.renderedFragments;

  	// Remove fragments that have been marked for destruction
  	while (fragment = this.fragmentsToUnrender.pop()) {
  		fragment.unrender(true);
  		renderedFragments.splice(renderedFragments.indexOf(fragment), 1);
  	}

  	// Render new fragments (but don't insert them yet)
  	while (fragment = this.fragmentsToRender.shift()) {
  		fragment.render();
  	}

  	if (this.rendered) {
  		target = this.parentFragment.getNode();
  	}

  	len = this.fragments.length;
  	for (i = 0; i < len; i += 1) {
  		fragment = this.fragments[i];
  		renderIndex = renderedFragments.indexOf(fragment, i); // search from current index - it's guaranteed to be the same or higher

  		if (renderIndex === i) {
  			// already in the right place. insert accumulated nodes (if any) and carry on
  			if (this.docFrag.childNodes.length) {
  				anchor = fragment.firstNode();
  				target.insertBefore(this.docFrag, anchor);
  			}

  			continue;
  		}

  		this.docFrag.appendChild(fragment.detach());

  		// update renderedFragments
  		if (renderIndex !== -1) {
  			renderedFragments.splice(renderIndex, 1);
  		}
  		renderedFragments.splice(i, 0, fragment);
  	}

  	if (this.rendered && this.docFrag.childNodes.length) {
  		anchor = this.parentFragment.findNextNode(this);
  		target.insertBefore(this.docFrag, anchor);
  	}

  	// Save the rendering order for next time
  	this.renderedFragments = this.fragments.slice();
  }

  var Section = function (options) {
  	this.type = SECTION;
  	this.subtype = this.currentSubtype = options.template.n;
  	this.inverted = this.subtype === SECTION_UNLESS;

  	this.pElement = options.pElement;

  	this.fragments = [];
  	this.fragmentsToCreate = [];
  	this.fragmentsToRender = [];
  	this.fragmentsToUnrender = [];

  	if (options.template.i) {
  		this.indexRefs = options.template.i.split(",").map(function (k, i) {
  			return { n: k, t: i === 0 ? "k" : "i" };
  		});
  	}

  	this.renderedFragments = [];

  	this.length = 0; // number of times this section is rendered

  	Mustache.init(this, options);
  };

  Section.prototype = {
  	bubble: Section_prototype_bubble,
  	detach: Section_prototype_detach,
  	find: find,
  	findAll: findAll,
  	findAllComponents: findAllComponents,
  	findComponent: findComponent,
  	findNextNode: findNextNode,
  	firstNode: firstNode,
  	getIndexRef: function (name) {
  		if (this.indexRefs) {
  			var i = this.indexRefs.length;
  			while (i--) {
  				var ref = this.indexRefs[i];
  				if (ref.n === name) {
  					return ref;
  				}
  			}
  		}
  	},
  	getValue: Mustache.getValue,
  	shuffle: shuffle,
  	rebind: prototype_rebind,
  	render: Section_prototype_render,
  	resolve: Mustache.resolve,
  	setValue: setValue,
  	toString: prototype_toString,
  	unbind: prototype_unbind,
  	unrender: prototype_unrender,
  	update: prototype_update
  };

  var _Section = Section;

  var Triple_prototype_detach = Triple$detach;

  function Triple$detach() {
  	var len, i;

  	if (this.docFrag) {
  		len = this.nodes.length;
  		for (i = 0; i < len; i += 1) {
  			this.docFrag.appendChild(this.nodes[i]);
  		}

  		return this.docFrag;
  	}
  }

  var Triple_prototype_find = Triple$find;
  function Triple$find(selector) {
  	var i, len, node, queryResult;

  	len = this.nodes.length;
  	for (i = 0; i < len; i += 1) {
  		node = this.nodes[i];

  		if (node.nodeType !== 1) {
  			continue;
  		}

  		if (matches(node, selector)) {
  			return node;
  		}

  		if (queryResult = node.querySelector(selector)) {
  			return queryResult;
  		}
  	}

  	return null;
  }

  var Triple_prototype_findAll = Triple$findAll;
  function Triple$findAll(selector, queryResult) {
  	var i, len, node, queryAllResult, numNodes, j;

  	len = this.nodes.length;
  	for (i = 0; i < len; i += 1) {
  		node = this.nodes[i];

  		if (node.nodeType !== 1) {
  			continue;
  		}

  		if (matches(node, selector)) {
  			queryResult.push(node);
  		}

  		if (queryAllResult = node.querySelectorAll(selector)) {
  			numNodes = queryAllResult.length;
  			for (j = 0; j < numNodes; j += 1) {
  				queryResult.push(queryAllResult[j]);
  			}
  		}
  	}
  }

  var Triple_prototype_firstNode = Triple$firstNode;

  function Triple$firstNode() {
  	if (this.rendered && this.nodes[0]) {
  		return this.nodes[0];
  	}

  	return this.parentFragment.findNextNode(this);
  }

  var elementCache = {},
      ieBug,
      ieBlacklist;

  try {
  	createElement("table").innerHTML = "foo";
  } catch (err) {
  	ieBug = true;

  	ieBlacklist = {
  		TABLE: ["<table class=\"x\">", "</table>"],
  		THEAD: ["<table><thead class=\"x\">", "</thead></table>"],
  		TBODY: ["<table><tbody class=\"x\">", "</tbody></table>"],
  		TR: ["<table><tr class=\"x\">", "</tr></table>"],
  		SELECT: ["<select class=\"x\">", "</select>"]
  	};
  }

  var insertHtml = function (html, node, docFrag) {
  	var container,
  	    nodes = [],
  	    wrapper,
  	    selectedOption,
  	    child,
  	    i;

  	// render 0 and false
  	if (html != null && html !== "") {
  		if (ieBug && (wrapper = ieBlacklist[node.tagName])) {
  			container = element("DIV");
  			container.innerHTML = wrapper[0] + html + wrapper[1];
  			container = container.querySelector(".x");

  			if (container.tagName === "SELECT") {
  				selectedOption = container.options[container.selectedIndex];
  			}
  		} else if (node.namespaceURI === namespaces.svg) {
  			container = element("DIV");
  			container.innerHTML = "<svg class=\"x\">" + html + "</svg>";
  			container = container.querySelector(".x");
  		} else {
  			container = element(node.tagName);
  			container.innerHTML = html;

  			if (container.tagName === "SELECT") {
  				selectedOption = container.options[container.selectedIndex];
  			}
  		}

  		while (child = container.firstChild) {
  			nodes.push(child);
  			docFrag.appendChild(child);
  		}

  		// This is really annoying. Extracting <option> nodes from the
  		// temporary container <select> causes the remaining ones to
  		// become selected. So now we have to deselect them. IE8, you
  		// amaze me. You really do
  		// ...and now Chrome too
  		if (node.tagName === "SELECT") {
  			i = nodes.length;
  			while (i--) {
  				if (nodes[i] !== selectedOption) {
  					nodes[i].selected = false;
  				}
  			}
  		}
  	}

  	return nodes;
  };

  function element(tagName) {
  	return elementCache[tagName] || (elementCache[tagName] = createElement(tagName));
  }

  var helpers_updateSelect = updateSelect;

  function updateSelect(parentElement) {
  	var selectedOptions, option, value;

  	if (!parentElement || parentElement.name !== "select" || !parentElement.binding) {
  		return;
  	}

  	selectedOptions = toArray(parentElement.node.options).filter(isSelected);

  	// If one of them had a `selected` attribute, we need to sync
  	// the model to the view
  	if (parentElement.getAttribute("multiple")) {
  		value = selectedOptions.map(function (o) {
  			return o.value;
  		});
  	} else if (option = selectedOptions[0]) {
  		value = option.value;
  	}

  	if (value !== undefined) {
  		parentElement.binding.setValue(value);
  	}

  	parentElement.bubble();
  }

  function isSelected(option) {
  	return option.selected;
  }

  var Triple_prototype_render = Triple$render;
  function Triple$render() {
  	if (this.rendered) {
  		throw new Error("Attempted to render an item that was already rendered");
  	}

  	this.docFrag = document.createDocumentFragment();
  	this.nodes = insertHtml(this.value, this.parentFragment.getNode(), this.docFrag);

  	// Special case - we're inserting the contents of a <select>
  	helpers_updateSelect(this.pElement);

  	this.rendered = true;
  	return this.docFrag;
  }

  var prototype_setValue = Triple$setValue;
  function Triple$setValue(value) {
  	var wrapper;

  	// TODO is there a better way to approach this?
  	if (wrapper = this.root.viewmodel.wrapped[this.keypath.str]) {
  		value = wrapper.get();
  	}

  	if (value !== this.value) {
  		this.value = value;
  		this.parentFragment.bubble();

  		if (this.rendered) {
  			global_runloop.addView(this);
  		}
  	}
  }

  var Triple_prototype_toString = Triple$toString;
  function Triple$toString() {
  	return this.value != undefined ? decodeCharacterReferences("" + this.value) : "";
  }

  var Triple_prototype_unrender = Triple$unrender;
  function Triple$unrender(shouldDestroy) {
  	if (this.rendered && shouldDestroy) {
  		this.nodes.forEach(detachNode);
  		this.rendered = false;
  	}

  	// TODO update live queries
  }

  var Triple_prototype_update = Triple$update;
  function Triple$update() {
  	var node, parentNode;

  	if (!this.rendered) {
  		return;
  	}

  	// Remove existing nodes
  	while (this.nodes && this.nodes.length) {
  		node = this.nodes.pop();
  		node.parentNode.removeChild(node);
  	}

  	// Insert new nodes
  	parentNode = this.parentFragment.getNode();

  	this.nodes = insertHtml(this.value, parentNode, this.docFrag);
  	parentNode.insertBefore(this.docFrag, this.parentFragment.findNextNode(this));

  	// Special case - we're inserting the contents of a <select>
  	helpers_updateSelect(this.pElement);
  }

  var Triple = function (options) {
  	this.type = TRIPLE;
  	Mustache.init(this, options);
  };

  Triple.prototype = {
  	detach: Triple_prototype_detach,
  	find: Triple_prototype_find,
  	findAll: Triple_prototype_findAll,
  	firstNode: Triple_prototype_firstNode,
  	getValue: Mustache.getValue,
  	rebind: Mustache.rebind,
  	render: Triple_prototype_render,
  	resolve: Mustache.resolve,
  	setValue: prototype_setValue,
  	toString: Triple_prototype_toString,
  	unbind: shared_unbind,
  	unrender: Triple_prototype_unrender,
  	update: Triple_prototype_update
  };

  var _Triple = Triple;

  var Element_prototype_bubble = function () {
  	this.parentFragment.bubble();
  };

  var Element_prototype_detach = Element$detach;

  function Element$detach() {
  	var node = this.node,
  	    parentNode;

  	if (node) {
  		// need to check for parent node - DOM may have been altered
  		// by something other than Ractive! e.g. jQuery UI...
  		if (parentNode = node.parentNode) {
  			parentNode.removeChild(node);
  		}

  		return node;
  	}
  }

  var Element_prototype_find = function (selector) {
  	if (!this.node) {
  		// this element hasn't been rendered yet
  		return null;
  	}

  	if (matches(this.node, selector)) {
  		return this.node;
  	}

  	if (this.fragment && this.fragment.find) {
  		return this.fragment.find(selector);
  	}
  };

  var Element_prototype_findAll = function (selector, query) {
  	// Add this node to the query, if applicable, and register the
  	// query on this element
  	if (query._test(this, true) && query.live) {
  		(this.liveQueries || (this.liveQueries = [])).push(query);
  	}

  	if (this.fragment) {
  		this.fragment.findAll(selector, query);
  	}
  };

  var Element_prototype_findAllComponents = function (selector, query) {
  	if (this.fragment) {
  		this.fragment.findAllComponents(selector, query);
  	}
  };

  var Element_prototype_findComponent = function (selector) {
  	if (this.fragment) {
  		return this.fragment.findComponent(selector);
  	}
  };

  var Element_prototype_findNextNode = Element$findNextNode;

  function Element$findNextNode() {
  	return null;
  }

  var Element_prototype_firstNode = Element$firstNode;

  function Element$firstNode() {
  	return this.node;
  }

  var getAttribute = Element$getAttribute;

  function Element$getAttribute(name) {
  	if (!this.attributes || !this.attributes[name]) {
  		return;
  	}

  	return this.attributes[name].value;
  }

  var truthy = /^true|on|yes|1$/i;
  var processBindingAttributes__isNumeric = /^[0-9]+$/;

  var processBindingAttributes = function (element, template) {
  	var val, attrs, attributes;

  	attributes = template.a || {};
  	attrs = {};

  	// attributes that are present but don't have a value (=)
  	// will be set to the number 0, which we condider to be true
  	// the string '0', however is false

  	val = attributes.twoway;
  	if (val !== undefined) {
  		attrs.twoway = val === 0 || truthy.test(val);
  	}

  	val = attributes.lazy;
  	if (val !== undefined) {
  		// check for timeout value
  		if (val !== 0 && processBindingAttributes__isNumeric.test(val)) {
  			attrs.lazy = parseInt(val);
  		} else {
  			attrs.lazy = val === 0 || truthy.test(val);
  		}
  	}

  	return attrs;
  };

  var Attribute_prototype_bubble = Attribute$bubble;
  function Attribute$bubble() {
  	var value = this.useProperty || !this.rendered ? this.fragment.getValue() : this.fragment.toString();

  	// TODO this can register the attribute multiple times (see render test
  	// 'Attribute with nested mustaches')
  	if (!isEqual(value, this.value)) {

  		// Need to clear old id from ractive.nodes
  		if (this.name === "id" && this.value) {
  			delete this.root.nodes[this.value];
  		}

  		this.value = value;

  		if (this.name === "value" && this.node) {
  			// We need to store the value on the DOM like this so we
  			// can retrieve it later without it being coerced to a string
  			this.node._ractive.value = value;
  		}

  		if (this.rendered) {
  			global_runloop.addView(this);
  		}
  	}
  }

  var svgCamelCaseElements, svgCamelCaseAttributes, createMap, map;
  svgCamelCaseElements = "altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" ");
  svgCamelCaseAttributes = "attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" ");

  createMap = function (items) {
  	var map = {},
  	    i = items.length;
  	while (i--) {
  		map[items[i].toLowerCase()] = items[i];
  	}
  	return map;
  };

  map = createMap(svgCamelCaseElements.concat(svgCamelCaseAttributes));

  var enforceCase = function (elementName) {
  	var lowerCaseElementName = elementName.toLowerCase();
  	return map[lowerCaseElementName] || lowerCaseElementName;
  };

  var determineNameAndNamespace = function (attribute, name) {
  	var colonIndex, namespacePrefix;

  	// are we dealing with a namespaced attribute, e.g. xlink:href?
  	colonIndex = name.indexOf(":");
  	if (colonIndex !== -1) {

  		// looks like we are, yes...
  		namespacePrefix = name.substr(0, colonIndex);

  		// ...unless it's a namespace *declaration*, which we ignore (on the assumption
  		// that only valid namespaces will be used)
  		if (namespacePrefix !== "xmlns") {
  			name = name.substring(colonIndex + 1);

  			attribute.name = enforceCase(name);
  			attribute.namespace = namespaces[namespacePrefix.toLowerCase()];
  			attribute.namespacePrefix = namespacePrefix;

  			if (!attribute.namespace) {
  				throw "Unknown namespace (\"" + namespacePrefix + "\")";
  			}

  			return;
  		}
  	}

  	// SVG attribute names are case sensitive
  	attribute.name = attribute.element.namespace !== namespaces.html ? enforceCase(name) : name;
  };

  var helpers_getInterpolator = getInterpolator;
  function getInterpolator(attribute) {
  	var items = attribute.fragment.items;

  	if (items.length !== 1) {
  		return;
  	}

  	if (items[0].type === INTERPOLATOR) {
  		return items[0];
  	}
  }

  var prototype_init = Attribute$init;
  function Attribute$init(options) {
  	this.type = ATTRIBUTE;
  	this.element = options.element;
  	this.root = options.root;

  	determineNameAndNamespace(this, options.name);
  	this.isBoolean = booleanAttributes.test(this.name);

  	// if it's an empty attribute, or just a straight key-value pair, with no
  	// mustache shenanigans, set the attribute accordingly and go home
  	if (!options.value || typeof options.value === "string") {
  		this.value = this.isBoolean ? true : options.value || "";
  		return;
  	}

  	// otherwise we need to do some work

  	// share parentFragment with parent element
  	this.parentFragment = this.element.parentFragment;

  	this.fragment = new virtualdom_Fragment({
  		template: options.value,
  		root: this.root,
  		owner: this
  	});

  	// TODO can we use this.fragment.toString() in some cases? It's quicker
  	this.value = this.fragment.getValue();

  	// Store a reference to this attribute's interpolator, if its fragment
  	// takes the form `{{foo}}`. This is necessary for two-way binding and
  	// for correctly rendering HTML later
  	this.interpolator = helpers_getInterpolator(this);
  	this.isBindable = !!this.interpolator && !this.interpolator.isStatic;

  	// mark as ready
  	this.ready = true;
  }

  var Attribute_prototype_rebind = Attribute$rebind;

  function Attribute$rebind(oldKeypath, newKeypath) {
  	if (this.fragment) {
  		this.fragment.rebind(oldKeypath, newKeypath);
  	}
  }

  var Attribute_prototype_render = Attribute$render;
  var propertyNames = {
  	"accept-charset": "acceptCharset",
  	accesskey: "accessKey",
  	bgcolor: "bgColor",
  	"class": "className",
  	codebase: "codeBase",
  	colspan: "colSpan",
  	contenteditable: "contentEditable",
  	datetime: "dateTime",
  	dirname: "dirName",
  	"for": "htmlFor",
  	"http-equiv": "httpEquiv",
  	ismap: "isMap",
  	maxlength: "maxLength",
  	novalidate: "noValidate",
  	pubdate: "pubDate",
  	readonly: "readOnly",
  	rowspan: "rowSpan",
  	tabindex: "tabIndex",
  	usemap: "useMap"
  };
  function Attribute$render(node) {
  	var propertyName;

  	this.node = node;

  	// should we use direct property access, or setAttribute?
  	if (!node.namespaceURI || node.namespaceURI === namespaces.html) {
  		propertyName = propertyNames[this.name] || this.name;

  		if (node[propertyName] !== undefined) {
  			this.propertyName = propertyName;
  		}

  		// is attribute a boolean attribute or 'value'? If so we're better off doing e.g.
  		// node.selected = true rather than node.setAttribute( 'selected', '' )
  		if (this.isBoolean || this.isTwoway) {
  			this.useProperty = true;
  		}

  		if (propertyName === "value") {
  			node._ractive.value = this.value;
  		}
  	}

  	this.rendered = true;
  	this.update();
  }

  var Attribute_prototype_toString = Attribute$toString;

  function Attribute$toString() {
  	var _ref = this;

  	var name = _ref.name;
  	var namespacePrefix = _ref.namespacePrefix;
  	var value = _ref.value;
  	var interpolator = _ref.interpolator;
  	var fragment = _ref.fragment;

  	// Special case - select and textarea values (should not be stringified)
  	if (name === "value" && (this.element.name === "select" || this.element.name === "textarea")) {
  		return;
  	}

  	// Special case - content editable
  	if (name === "value" && this.element.getAttribute("contenteditable") !== undefined) {
  		return;
  	}

  	// Special case - radio names
  	if (name === "name" && this.element.name === "input" && interpolator) {
  		return "name={{" + (interpolator.keypath.str || interpolator.ref) + "}}";
  	}

  	// Boolean attributes
  	if (this.isBoolean) {
  		return value ? name : "";
  	}

  	if (fragment) {
  		// special case - this catches undefined/null values (#1211)
  		if (fragment.items.length === 1 && fragment.items[0].value == null) {
  			return "";
  		}

  		value = fragment.toString();
  	}

  	if (namespacePrefix) {
  		name = namespacePrefix + ":" + name;
  	}

  	return value ? name + "=\"" + Attribute_prototype_toString__escape(value) + "\"" : name;
  }

  function Attribute_prototype_toString__escape(value) {
  	return value.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;");
  }

  var Attribute_prototype_unbind = Attribute$unbind;

  function Attribute$unbind() {
  	// ignore non-dynamic attributes
  	if (this.fragment) {
  		this.fragment.unbind();
  	}

  	if (this.name === "id") {
  		delete this.root.nodes[this.value];
  	}
  }

  var updateSelectValue = Attribute$updateSelect;

  function Attribute$updateSelect() {
  	var value = this.value,
  	    options,
  	    option,
  	    optionValue,
  	    i;

  	if (!this.locked) {
  		this.node._ractive.value = value;

  		options = this.node.options;
  		i = options.length;

  		while (i--) {
  			option = options[i];
  			optionValue = option._ractive ? option._ractive.value : option.value; // options inserted via a triple don't have _ractive

  			if (optionValue == value) {
  				// double equals as we may be comparing numbers with strings
  				option.selected = true;
  				break;
  			}
  		}
  	}

  	// if we're still here, it means the new value didn't match any of the options...
  	// TODO figure out what to do in this situation
  }

  var updateMultipleSelectValue = Attribute$updateMultipleSelect;
  function Attribute$updateMultipleSelect() {
  	var value = this.value,
  	    options,
  	    i,
  	    option,
  	    optionValue;

  	if (!isArray(value)) {
  		value = [value];
  	}

  	options = this.node.options;
  	i = options.length;

  	while (i--) {
  		option = options[i];
  		optionValue = option._ractive ? option._ractive.value : option.value; // options inserted via a triple don't have _ractive
  		option.selected = arrayContains(value, optionValue);
  	}
  }

  var updateRadioName = Attribute$updateRadioName;

  function Attribute$updateRadioName() {
  	var _ref = this;

  	var node = _ref.node;
  	var value = _ref.value;

  	node.checked = value == node._ractive.value;
  }

  var updateRadioValue = Attribute$updateRadioValue;
  function Attribute$updateRadioValue() {
  	var wasChecked,
  	    node = this.node,
  	    binding,
  	    bindings,
  	    i;

  	wasChecked = node.checked;

  	node.value = this.element.getAttribute("value");
  	node.checked = this.element.getAttribute("value") === this.element.getAttribute("name");

  	// This is a special case - if the input was checked, and the value
  	// changed so that it's no longer checked, the twoway binding is
  	// most likely out of date. To fix it we have to jump through some
  	// hoops... this is a little kludgy but it works
  	if (wasChecked && !node.checked && this.element.binding) {
  		bindings = this.element.binding.siblings;

  		if (i = bindings.length) {
  			while (i--) {
  				binding = bindings[i];

  				if (!binding.element.node) {
  					// this is the initial render, siblings are still rendering!
  					// we'll come back later...
  					return;
  				}

  				if (binding.element.node.checked) {
  					global_runloop.addRactive(binding.root);
  					return binding.handleChange();
  				}
  			}

  			this.root.viewmodel.set(binding.keypath, undefined);
  		}
  	}
  }

  var updateCheckboxName = Attribute$updateCheckboxName;
  function Attribute$updateCheckboxName() {
  	var _ref = this;

  	var element = _ref.element;
  	var node = _ref.node;
  	var value = _ref.value;var binding = element.binding;var valueAttribute;var i;

  	valueAttribute = element.getAttribute("value");

  	if (!isArray(value)) {
  		binding.isChecked = node.checked = value == valueAttribute;
  	} else {
  		i = value.length;
  		while (i--) {
  			if (valueAttribute == value[i]) {
  				binding.isChecked = node.checked = true;
  				return;
  			}
  		}
  		binding.isChecked = node.checked = false;
  	}
  }

  var updateClassName = Attribute$updateClassName;
  function Attribute$updateClassName() {
  	this.node.className = safeToStringValue(this.value);
  }

  var updateIdAttribute = Attribute$updateIdAttribute;

  function Attribute$updateIdAttribute() {
  	var _ref = this;

  	var node = _ref.node;
  	var value = _ref.value;

  	this.root.nodes[value] = node;
  	node.id = value;
  }

  var updateIEStyleAttribute = Attribute$updateIEStyleAttribute;

  function Attribute$updateIEStyleAttribute() {
  	var node, value;

  	node = this.node;
  	value = this.value;

  	if (value === undefined) {
  		value = "";
  	}

  	node.style.setAttribute("cssText", value);
  }

  var updateContentEditableValue = Attribute$updateContentEditableValue;

  function Attribute$updateContentEditableValue() {
  	var value = this.value;

  	if (value === undefined) {
  		value = "";
  	}

  	if (!this.locked) {
  		this.node.innerHTML = value;
  	}
  }

  var updateValue = Attribute$updateValue;

  function Attribute$updateValue() {
  	var _ref = this;

  	var node = _ref.node;
  	var value = _ref.value;

  	// store actual value, so it doesn't get coerced to a string
  	node._ractive.value = value;

  	// with two-way binding, only update if the change wasn't initiated by the user
  	// otherwise the cursor will often be sent to the wrong place
  	if (!this.locked) {
  		node.value = value == undefined ? "" : value;
  	}
  }

  var updateBoolean = Attribute$updateBooleanAttribute;

  function Attribute$updateBooleanAttribute() {
  	// with two-way binding, only update if the change wasn't initiated by the user
  	// otherwise the cursor will often be sent to the wrong place
  	if (!this.locked) {
  		this.node[this.propertyName] = this.value;
  	}
  }

  var updateEverythingElse = Attribute$updateEverythingElse;

  function Attribute$updateEverythingElse() {
  	var _ref = this;

  	var node = _ref.node;
  	var namespace = _ref.namespace;
  	var name = _ref.name;
  	var value = _ref.value;
  	var fragment = _ref.fragment;

  	if (namespace) {
  		node.setAttributeNS(namespace, name, (fragment || value).toString());
  	} else if (!this.isBoolean) {
  		if (value == null) {
  			node.removeAttribute(name);
  		} else {
  			node.setAttribute(name, (fragment || value).toString());
  		}
  	}

  	// Boolean attributes - truthy becomes '', falsy means 'remove attribute'
  	else {
  		if (value) {
  			node.setAttribute(name, "");
  		} else {
  			node.removeAttribute(name);
  		}
  	}
  }

  // There are a few special cases when it comes to updating attributes. For this reason,
  // the prototype .update() method points to this method, which waits until the
  // attribute has finished initialising, then replaces the prototype method with a more
  // suitable one. That way, we save ourselves doing a bunch of tests on each call
  var Attribute_prototype_update = Attribute$update;
  function Attribute$update() {
  	var _ref = this;

  	var name = _ref.name;
  	var element = _ref.element;
  	var node = _ref.node;var type;var updateMethod;

  	if (name === "id") {
  		updateMethod = updateIdAttribute;
  	} else if (name === "value") {
  		// special case - selects
  		if (element.name === "select" && name === "value") {
  			updateMethod = element.getAttribute("multiple") ? updateMultipleSelectValue : updateSelectValue;
  		} else if (element.name === "textarea") {
  			updateMethod = updateValue;
  		}

  		// special case - contenteditable
  		else if (element.getAttribute("contenteditable") != null) {
  			updateMethod = updateContentEditableValue;
  		}

  		// special case - <input>
  		else if (element.name === "input") {
  			type = element.getAttribute("type");

  			// type='file' value='{{fileList}}'>
  			if (type === "file") {
  				updateMethod = noop; // read-only
  			}

  			// type='radio' name='{{twoway}}'
  			else if (type === "radio" && element.binding && element.binding.name === "name") {
  				updateMethod = updateRadioValue;
  			} else {
  				updateMethod = updateValue;
  			}
  		}
  	}

  	// special case - <input type='radio' name='{{twoway}}' value='foo'>
  	else if (this.isTwoway && name === "name") {
  		if (node.type === "radio") {
  			updateMethod = updateRadioName;
  		} else if (node.type === "checkbox") {
  			updateMethod = updateCheckboxName;
  		}
  	}

  	// special case - style attributes in Internet Exploder
  	else if (name === "style" && node.style.setAttribute) {
  		updateMethod = updateIEStyleAttribute;
  	}

  	// special case - class names. IE fucks things up, again
  	else if (name === "class" && (!node.namespaceURI || node.namespaceURI === namespaces.html)) {
  		updateMethod = updateClassName;
  	} else if (this.useProperty) {
  		updateMethod = updateBoolean;
  	}

  	if (!updateMethod) {
  		updateMethod = updateEverythingElse;
  	}

  	this.update = updateMethod;
  	this.update();
  }

  var Attribute = function (options) {
  	this.init(options);
  };

  Attribute.prototype = {
  	bubble: Attribute_prototype_bubble,
  	init: prototype_init,
  	rebind: Attribute_prototype_rebind,
  	render: Attribute_prototype_render,
  	toString: Attribute_prototype_toString,
  	unbind: Attribute_prototype_unbind,
  	update: Attribute_prototype_update
  };

  var _Attribute = Attribute;

  var createAttributes = function (element, attributes) {
  	var name,
  	    attribute,
  	    result = [];

  	for (name in attributes) {
  		// skip binding attributes
  		if (name === "twoway" || name === "lazy") {
  			continue;
  		}

  		if (attributes.hasOwnProperty(name)) {
  			attribute = new _Attribute({
  				element: element,
  				name: name,
  				value: attributes[name],
  				root: element.root
  			});

  			result[name] = attribute;

  			if (name !== "value") {
  				result.push(attribute);
  			}
  		}
  	}

  	// value attribute goes last. This is because it
  	// may get clamped on render otherwise, e.g. in
  	// `<input type='range' value='999' min='0' max='1000'>`
  	// since default max is 100
  	if (attribute = result.value) {
  		result.push(attribute);
  	}

  	return result;
  };

  var _ConditionalAttribute__div;

  if (typeof document !== "undefined") {
  	_ConditionalAttribute__div = createElement("div");
  }

  var ConditionalAttribute = function (element, template) {
  	this.element = element;
  	this.root = element.root;
  	this.parentFragment = element.parentFragment;

  	this.attributes = [];

  	this.fragment = new virtualdom_Fragment({
  		root: element.root,
  		owner: this,
  		template: [template]
  	});
  };

  ConditionalAttribute.prototype = {
  	bubble: function () {
  		if (this.node) {
  			this.update();
  		}

  		this.element.bubble();
  	},

  	rebind: function (oldKeypath, newKeypath) {
  		this.fragment.rebind(oldKeypath, newKeypath);
  	},

  	render: function (node) {
  		this.node = node;
  		this.isSvg = node.namespaceURI === namespaces.svg;

  		this.update();
  	},

  	unbind: function () {
  		this.fragment.unbind();
  	},

  	update: function () {
  		var _this = this;

  		var str, attrs;

  		str = this.fragment.toString();
  		attrs = parseAttributes(str, this.isSvg);

  		// any attributes that previously existed but no longer do
  		// must be removed
  		this.attributes.filter(function (a) {
  			return notIn(attrs, a);
  		}).forEach(function (a) {
  			_this.node.removeAttribute(a.name);
  		});

  		attrs.forEach(function (a) {
  			_this.node.setAttribute(a.name, a.value);
  		});

  		this.attributes = attrs;
  	},

  	toString: function () {
  		return this.fragment.toString();
  	}
  };

  var _ConditionalAttribute = ConditionalAttribute;

  function parseAttributes(str, isSvg) {
  	var tag = isSvg ? "svg" : "div";
  	_ConditionalAttribute__div.innerHTML = "<" + tag + " " + str + "></" + tag + ">";

  	return toArray(_ConditionalAttribute__div.childNodes[0].attributes);
  }

  function notIn(haystack, needle) {
  	var i = haystack.length;

  	while (i--) {
  		if (haystack[i].name === needle.name) {
  			return false;
  		}
  	}

  	return true;
  }

  var createConditionalAttributes = function (element, attributes) {
  	if (!attributes) {
  		return [];
  	}

  	return attributes.map(function (a) {
  		return new _ConditionalAttribute(element, a);
  	});
  };

  var Binding = function (element) {
  	var interpolator, keypath, value, parentForm;

  	this.element = element;
  	this.root = element.root;
  	this.attribute = element.attributes[this.name || "value"];

  	interpolator = this.attribute.interpolator;
  	interpolator.twowayBinding = this;

  	if (keypath = interpolator.keypath) {
  		if (keypath.str.slice(-1) === "}") {
  			warnOnceIfDebug("Two-way binding does not work with expressions (`%s` on <%s>)", interpolator.resolver.uniqueString, element.name, { ractive: this.root });
  			return false;
  		}

  		if (keypath.isSpecial) {
  			warnOnceIfDebug("Two-way binding does not work with %s", interpolator.resolver.ref, { ractive: this.root });
  			return false;
  		}
  	} else {
  		// A mustache may be *ambiguous*. Let's say we were given
  		// `value="{{bar}}"`. If the context was `foo`, and `foo.bar`
  		// *wasn't* `undefined`, the keypath would be `foo.bar`.
  		// Then, any user input would result in `foo.bar` being updated.
  		//
  		// If, however, `foo.bar` *was* undefined, and so was `bar`, we would be
  		// left with an unresolved partial keypath - so we are forced to make an
  		// assumption. That assumption is that the input in question should
  		// be forced to resolve to `bar`, and any user input would affect `bar`
  		// and not `foo.bar`.
  		//
  		// Did that make any sense? No? Oh. Sorry. Well the moral of the story is
  		// be explicit when using two-way data-binding about what keypath you're
  		// updating. Using it in lists is probably a recipe for confusion...
  		var ref = interpolator.template.r ? "'" + interpolator.template.r + "' reference" : "expression";
  		warnIfDebug("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity", ref, { ractive: this.root });
  		interpolator.resolver.forceResolution();
  		keypath = interpolator.keypath;
  	}

  	this.attribute.isTwoway = true;
  	this.keypath = keypath;

  	// initialise value, if it's undefined
  	value = this.root.viewmodel.get(keypath);

  	if (value === undefined && this.getInitialValue) {
  		value = this.getInitialValue();

  		if (value !== undefined) {
  			this.root.viewmodel.set(keypath, value);
  		}
  	}

  	if (parentForm = findParentForm(element)) {
  		this.resetValue = value;
  		parentForm.formBindings.push(this);
  	}
  };

  Binding.prototype = {
  	handleChange: function () {
  		var _this = this;

  		global_runloop.start(this.root);
  		this.attribute.locked = true;
  		this.root.viewmodel.set(this.keypath, this.getValue());
  		global_runloop.scheduleTask(function () {
  			return _this.attribute.locked = false;
  		});
  		global_runloop.end();
  	},

  	rebound: function () {
  		var bindings, oldKeypath, newKeypath;

  		oldKeypath = this.keypath;
  		newKeypath = this.attribute.interpolator.keypath;

  		// The attribute this binding is linked to has already done the work
  		if (oldKeypath === newKeypath) {
  			return;
  		}

  		removeFromArray(this.root._twowayBindings[oldKeypath.str], this);

  		this.keypath = newKeypath;

  		bindings = this.root._twowayBindings[newKeypath.str] || (this.root._twowayBindings[newKeypath.str] = []);
  		bindings.push(this);
  	},

  	unbind: function () {}
  };

  Binding.extend = function (properties) {
  	var Parent = this,
  	    SpecialisedBinding;

  	SpecialisedBinding = function (element) {
  		Binding.call(this, element);

  		if (this.init) {
  			this.init();
  		}
  	};

  	SpecialisedBinding.prototype = create(Parent.prototype);
  	utils_object__extend(SpecialisedBinding.prototype, properties);

  	SpecialisedBinding.extend = Binding.extend;

  	return SpecialisedBinding;
  };

  var Binding_Binding = Binding;

  function findParentForm(element) {
  	while (element = element.parent) {
  		if (element.name === "form") {
  			return element;
  		}
  	}
  }

  // this is called when the element is unbound.
  // Specialised bindings can override it

  // This is the handler for DOM events that would lead to a change in the model
  // (i.e. change, sometimes, input, and occasionally click and keyup)
  var handleDomEvent = handleChange;

  function handleChange() {
  	this._ractive.binding.handleChange();
  }

  var GenericBinding;

  GenericBinding = Binding_Binding.extend({
  	getInitialValue: function () {
  		return "";
  	},

  	getValue: function () {
  		return this.element.node.value;
  	},

  	render: function () {
  		var node = this.element.node,
  		    lazy,
  		    timeout = false;
  		this.rendered = true;

  		// any lazy setting for this element overrides the root
  		// if the value is a number, it's a timeout
  		lazy = this.root.lazy;
  		if (this.element.lazy === true) {
  			lazy = true;
  		} else if (this.element.lazy === false) {
  			lazy = false;
  		} else if (is__isNumeric(this.element.lazy)) {
  			lazy = false;
  			timeout = +this.element.lazy;
  		} else if (is__isNumeric(lazy || "")) {
  			timeout = +lazy;
  			lazy = false;

  			// make sure the timeout is available to the handler
  			this.element.lazy = timeout;
  		}

  		this.handler = timeout ? handleDelay : handleDomEvent;

  		node.addEventListener("change", handleDomEvent, false);

  		if (!lazy) {
  			node.addEventListener("input", this.handler, false);

  			if (node.attachEvent) {
  				node.addEventListener("keyup", this.handler, false);
  			}
  		}

  		node.addEventListener("blur", handleBlur, false);
  	},

  	unrender: function () {
  		var node = this.element.node;
  		this.rendered = false;

  		node.removeEventListener("change", handleDomEvent, false);
  		node.removeEventListener("input", this.handler, false);
  		node.removeEventListener("keyup", this.handler, false);
  		node.removeEventListener("blur", handleBlur, false);
  	}
  });

  var Binding_GenericBinding = GenericBinding;

  function handleBlur() {
  	var value;

  	handleDomEvent.call(this);

  	value = this._ractive.root.viewmodel.get(this._ractive.binding.keypath);
  	this.value = value == undefined ? "" : value;
  }

  function handleDelay() {
  	var binding = this._ractive.binding,
  	    el = this;

  	if (!!binding._timeout) clearTimeout(binding._timeout);

  	binding._timeout = setTimeout(function () {
  		if (binding.rendered) handleDomEvent.call(el);
  		binding._timeout = undefined;
  	}, binding.element.lazy);
  }

  var ContentEditableBinding = Binding_GenericBinding.extend({
  	getInitialValue: function () {
  		return this.element.fragment ? this.element.fragment.toString() : "";
  	},

  	getValue: function () {
  		return this.element.node.innerHTML;
  	}
  });

  var Binding_ContentEditableBinding = ContentEditableBinding;

  var shared_getSiblings = getSiblings;
  var sets = {};
  function getSiblings(id, group, keypath) {
  	var hash = id + group + keypath;
  	return sets[hash] || (sets[hash] = []);
  }

  var RadioBinding = Binding_Binding.extend({
  	name: "checked",

  	init: function () {
  		this.siblings = shared_getSiblings(this.root._guid, "radio", this.element.getAttribute("name"));
  		this.siblings.push(this);
  	},

  	render: function () {
  		var node = this.element.node;

  		node.addEventListener("change", handleDomEvent, false);

  		if (node.attachEvent) {
  			node.addEventListener("click", handleDomEvent, false);
  		}
  	},

  	unrender: function () {
  		var node = this.element.node;

  		node.removeEventListener("change", handleDomEvent, false);
  		node.removeEventListener("click", handleDomEvent, false);
  	},

  	handleChange: function () {
  		global_runloop.start(this.root);

  		this.siblings.forEach(function (binding) {
  			binding.root.viewmodel.set(binding.keypath, binding.getValue());
  		});

  		global_runloop.end();
  	},

  	getValue: function () {
  		return this.element.node.checked;
  	},

  	unbind: function () {
  		removeFromArray(this.siblings, this);
  	}
  });

  var Binding_RadioBinding = RadioBinding;

  var RadioNameBinding = Binding_Binding.extend({
  	name: "name",

  	init: function () {
  		this.siblings = shared_getSiblings(this.root._guid, "radioname", this.keypath.str);
  		this.siblings.push(this);

  		this.radioName = true; // so that ractive.updateModel() knows what to do with this
  	},

  	getInitialValue: function () {
  		if (this.element.getAttribute("checked")) {
  			return this.element.getAttribute("value");
  		}
  	},

  	render: function () {
  		var node = this.element.node;

  		node.name = "{{" + this.keypath.str + "}}";
  		node.checked = this.root.viewmodel.get(this.keypath) == this.element.getAttribute("value");

  		node.addEventListener("change", handleDomEvent, false);

  		if (node.attachEvent) {
  			node.addEventListener("click", handleDomEvent, false);
  		}
  	},

  	unrender: function () {
  		var node = this.element.node;

  		node.removeEventListener("change", handleDomEvent, false);
  		node.removeEventListener("click", handleDomEvent, false);
  	},

  	getValue: function () {
  		var node = this.element.node;
  		return node._ractive ? node._ractive.value : node.value;
  	},

  	handleChange: function () {
  		// If this <input> is the one that's checked, then the value of its
  		// `name` keypath gets set to its value
  		if (this.element.node.checked) {
  			Binding_Binding.prototype.handleChange.call(this);
  		}
  	},

  	rebound: function (oldKeypath, newKeypath) {
  		var node;

  		Binding_Binding.prototype.rebound.call(this, oldKeypath, newKeypath);

  		if (node = this.element.node) {
  			node.name = "{{" + this.keypath.str + "}}";
  		}
  	},

  	unbind: function () {
  		removeFromArray(this.siblings, this);
  	}
  });

  var Binding_RadioNameBinding = RadioNameBinding;

  var CheckboxNameBinding = Binding_Binding.extend({
  	name: "name",

  	getInitialValue: function () {
  		// This only gets called once per group (of inputs that
  		// share a name), because it only gets called if there
  		// isn't an initial value. By the same token, we can make
  		// a note of that fact that there was no initial value,
  		// and populate it using any `checked` attributes that
  		// exist (which users should avoid, but which we should
  		// support anyway to avoid breaking expectations)
  		this.noInitialValue = true;
  		return [];
  	},

  	init: function () {
  		var existingValue, bindingValue;

  		this.checkboxName = true; // so that ractive.updateModel() knows what to do with this

  		// Each input has a reference to an array containing it and its
  		// siblings, as two-way binding depends on being able to ascertain
  		// the status of all inputs within the group
  		this.siblings = shared_getSiblings(this.root._guid, "checkboxes", this.keypath.str);
  		this.siblings.push(this);

  		if (this.noInitialValue) {
  			this.siblings.noInitialValue = true;
  		}

  		// If no initial value was set, and this input is checked, we
  		// update the model
  		if (this.siblings.noInitialValue && this.element.getAttribute("checked")) {
  			existingValue = this.root.viewmodel.get(this.keypath);
  			bindingValue = this.element.getAttribute("value");

  			existingValue.push(bindingValue);
  		}
  	},

  	unbind: function () {
  		removeFromArray(this.siblings, this);
  	},

  	render: function () {
  		var node = this.element.node,
  		    existingValue,
  		    bindingValue;

  		existingValue = this.root.viewmodel.get(this.keypath);
  		bindingValue = this.element.getAttribute("value");

  		if (isArray(existingValue)) {
  			this.isChecked = arrayContains(existingValue, bindingValue);
  		} else {
  			this.isChecked = existingValue == bindingValue;
  		}

  		node.name = "{{" + this.keypath.str + "}}";
  		node.checked = this.isChecked;

  		node.addEventListener("change", handleDomEvent, false);

  		// in case of IE emergency, bind to click event as well
  		if (node.attachEvent) {
  			node.addEventListener("click", handleDomEvent, false);
  		}
  	},

  	unrender: function () {
  		var node = this.element.node;

  		node.removeEventListener("change", handleDomEvent, false);
  		node.removeEventListener("click", handleDomEvent, false);
  	},

  	changed: function () {
  		var wasChecked = !!this.isChecked;
  		this.isChecked = this.element.node.checked;
  		return this.isChecked === wasChecked;
  	},

  	handleChange: function () {
  		this.isChecked = this.element.node.checked;
  		Binding_Binding.prototype.handleChange.call(this);
  	},

  	getValue: function () {
  		return this.siblings.filter(isChecked).map(Binding_CheckboxNameBinding__getValue);
  	}
  });

  function isChecked(binding) {
  	return binding.isChecked;
  }

  function Binding_CheckboxNameBinding__getValue(binding) {
  	return binding.element.getAttribute("value");
  }

  var Binding_CheckboxNameBinding = CheckboxNameBinding;

  var CheckboxBinding = Binding_Binding.extend({
  	name: "checked",

  	render: function () {
  		var node = this.element.node;

  		node.addEventListener("change", handleDomEvent, false);

  		if (node.attachEvent) {
  			node.addEventListener("click", handleDomEvent, false);
  		}
  	},

  	unrender: function () {
  		var node = this.element.node;

  		node.removeEventListener("change", handleDomEvent, false);
  		node.removeEventListener("click", handleDomEvent, false);
  	},

  	getValue: function () {
  		return this.element.node.checked;
  	}
  });

  var Binding_CheckboxBinding = CheckboxBinding;

  var SelectBinding = Binding_Binding.extend({
  	getInitialValue: function () {
  		var options = this.element.options,
  		    len,
  		    i,
  		    value,
  		    optionWasSelected;

  		if (this.element.getAttribute("value") !== undefined) {
  			return;
  		}

  		i = len = options.length;

  		if (!len) {
  			return;
  		}

  		// take the final selected option...
  		while (i--) {
  			if (options[i].getAttribute("selected")) {
  				value = options[i].getAttribute("value");
  				optionWasSelected = true;
  				break;
  			}
  		}

  		// or the first non-disabled option, if none are selected
  		if (!optionWasSelected) {
  			while (++i < len) {
  				if (!options[i].getAttribute("disabled")) {
  					value = options[i].getAttribute("value");
  					break;
  				}
  			}
  		}

  		// This is an optimisation (aka hack) that allows us to forgo some
  		// other more expensive work
  		if (value !== undefined) {
  			this.element.attributes.value.value = value;
  		}

  		return value;
  	},

  	render: function () {
  		this.element.node.addEventListener("change", handleDomEvent, false);
  	},

  	unrender: function () {
  		this.element.node.removeEventListener("change", handleDomEvent, false);
  	},

  	// TODO this method is an anomaly... is it necessary?
  	setValue: function (value) {
  		this.root.viewmodel.set(this.keypath, value);
  	},

  	getValue: function () {
  		var options, i, len, option, optionValue;

  		options = this.element.node.options;
  		len = options.length;

  		for (i = 0; i < len; i += 1) {
  			option = options[i];

  			if (options[i].selected) {
  				optionValue = option._ractive ? option._ractive.value : option.value;
  				return optionValue;
  			}
  		}
  	},

  	forceUpdate: function () {
  		var _this = this;

  		var value = this.getValue();

  		if (value !== undefined) {
  			this.attribute.locked = true;
  			global_runloop.scheduleTask(function () {
  				return _this.attribute.locked = false;
  			});
  			this.root.viewmodel.set(this.keypath, value);
  		}
  	}
  });

  var Binding_SelectBinding = SelectBinding;

  var MultipleSelectBinding = Binding_SelectBinding.extend({
  	getInitialValue: function () {
  		return this.element.options.filter(function (option) {
  			return option.getAttribute("selected");
  		}).map(function (option) {
  			return option.getAttribute("value");
  		});
  	},

  	render: function () {
  		var valueFromModel;

  		this.element.node.addEventListener("change", handleDomEvent, false);

  		valueFromModel = this.root.viewmodel.get(this.keypath);

  		if (valueFromModel === undefined) {
  			// get value from DOM, if possible
  			this.handleChange();
  		}
  	},

  	unrender: function () {
  		this.element.node.removeEventListener("change", handleDomEvent, false);
  	},

  	setValue: function () {
  		throw new Error("TODO not implemented yet");
  	},

  	getValue: function () {
  		var selectedValues, options, i, len, option, optionValue;

  		selectedValues = [];
  		options = this.element.node.options;
  		len = options.length;

  		for (i = 0; i < len; i += 1) {
  			option = options[i];

  			if (option.selected) {
  				optionValue = option._ractive ? option._ractive.value : option.value;
  				selectedValues.push(optionValue);
  			}
  		}

  		return selectedValues;
  	},

  	handleChange: function () {
  		var attribute, previousValue, value;

  		attribute = this.attribute;
  		previousValue = attribute.value;

  		value = this.getValue();

  		if (previousValue === undefined || !arrayContentsMatch(value, previousValue)) {
  			Binding_SelectBinding.prototype.handleChange.call(this);
  		}

  		return this;
  	},

  	forceUpdate: function () {
  		var _this = this;

  		var value = this.getValue();

  		if (value !== undefined) {
  			this.attribute.locked = true;
  			global_runloop.scheduleTask(function () {
  				return _this.attribute.locked = false;
  			});
  			this.root.viewmodel.set(this.keypath, value);
  		}
  	},

  	updateModel: function () {
  		if (this.attribute.value === undefined || !this.attribute.value.length) {
  			this.root.viewmodel.set(this.keypath, this.initialValue);
  		}
  	}
  });

  var Binding_MultipleSelectBinding = MultipleSelectBinding;

  var FileListBinding = Binding_Binding.extend({
  	render: function () {
  		this.element.node.addEventListener("change", handleDomEvent, false);
  	},

  	unrender: function () {
  		this.element.node.removeEventListener("change", handleDomEvent, false);
  	},

  	getValue: function () {
  		return this.element.node.files;
  	}
  });

  var Binding_FileListBinding = FileListBinding;

  var NumericBinding = Binding_GenericBinding.extend({
  	getInitialValue: function () {
  		return undefined;
  	},

  	getValue: function () {
  		var value = parseFloat(this.element.node.value);
  		return isNaN(value) ? undefined : value;
  	}
  });

  var init_createTwowayBinding = createTwowayBinding;

  function createTwowayBinding(element) {
  	var attributes = element.attributes,
  	    type,
  	    Binding,
  	    bindName,
  	    bindChecked,
  	    binding;

  	// if this is a late binding, and there's already one, it
  	// needs to be torn down
  	if (element.binding) {
  		element.binding.teardown();
  		element.binding = null;
  	}

  	// contenteditable
  	if (
  	// if the contenteditable attribute is true or is bindable and may thus become true
  	(element.getAttribute("contenteditable") || !!attributes.contenteditable && isBindable(attributes.contenteditable)) && isBindable(attributes.value)) {
  		Binding = Binding_ContentEditableBinding;
  	}

  	// <input>
  	else if (element.name === "input") {
  		type = element.getAttribute("type");

  		if (type === "radio" || type === "checkbox") {
  			bindName = isBindable(attributes.name);
  			bindChecked = isBindable(attributes.checked);

  			// we can either bind the name attribute, or the checked attribute - not both
  			if (bindName && bindChecked) {
  				warnIfDebug("A radio input can have two-way binding on its name attribute, or its checked attribute - not both", { ractive: element.root });
  			}

  			if (bindName) {
  				Binding = type === "radio" ? Binding_RadioNameBinding : Binding_CheckboxNameBinding;
  			} else if (bindChecked) {
  				Binding = type === "radio" ? Binding_RadioBinding : Binding_CheckboxBinding;
  			}
  		} else if (type === "file" && isBindable(attributes.value)) {
  			Binding = Binding_FileListBinding;
  		} else if (isBindable(attributes.value)) {
  			Binding = type === "number" || type === "range" ? NumericBinding : Binding_GenericBinding;
  		}
  	}

  	// <select>
  	else if (element.name === "select" && isBindable(attributes.value)) {
  		Binding = element.getAttribute("multiple") ? Binding_MultipleSelectBinding : Binding_SelectBinding;
  	}

  	// <textarea>
  	else if (element.name === "textarea" && isBindable(attributes.value)) {
  		Binding = Binding_GenericBinding;
  	}

  	if (Binding && (binding = new Binding(element)) && binding.keypath) {
  		return binding;
  	}
  }

  function isBindable(attribute) {
  	return attribute && attribute.isBindable;
  }

  // and this element also has a value attribute to bind

  var EventHandler_prototype_bubble = EventHandler$bubble;

  function EventHandler$bubble() {
  	var hasAction = this.getAction();

  	if (hasAction && !this.hasListener) {
  		this.listen();
  	} else if (!hasAction && this.hasListener) {
  		this.unrender();
  	}
  }

  // This function may be overwritten, if the event directive
  // includes parameters
  var EventHandler_prototype_fire = EventHandler$fire;
  function EventHandler$fire(event) {
  	shared_fireEvent(this.root, this.getAction(), { event: event });
  }

  var getAction = EventHandler$getAction;

  function EventHandler$getAction() {
  	return this.action.toString().trim();
  }

  var EventHandler_prototype_init = EventHandler$init;

  var eventPattern = /^event(?:\.(.+))?/;
  function EventHandler$init(element, name, template) {
  	var _this = this;

  	var action, refs, ractive;

  	this.element = element;
  	this.root = element.root;
  	this.parentFragment = element.parentFragment;
  	this.name = name;

  	if (name.indexOf("*") !== -1) {
  		fatal("Only component proxy-events may contain \"*\" wildcards, <%s on-%s=\"...\"/> is not valid", element.name, name);
  		this.invalid = true;
  	}

  	if (template.m) {
  		refs = template.a.r;

  		// This is a method call
  		this.method = template.m;
  		this.keypaths = [];
  		this.fn = shared_getFunctionFromString(template.a.s, refs.length);

  		this.parentFragment = element.parentFragment;
  		ractive = this.root;

  		// Create resolvers for each reference
  		this.refResolvers = [];
  		refs.forEach(function (ref, i) {
  			var match = undefined;

  			// special case - the `event` object
  			if (match = eventPattern.exec(ref)) {
  				_this.keypaths[i] = {
  					eventObject: true,
  					refinements: match[1] ? match[1].split(".") : []
  				};
  			} else {
  				_this.refResolvers.push(Resolvers_createReferenceResolver(_this, ref, function (keypath) {
  					return _this.resolve(i, keypath);
  				}));
  			}
  		});

  		this.fire = fireMethodCall;
  	} else {
  		// Get action ('foo' in 'on-click='foo')
  		action = template.n || template;
  		if (typeof action !== "string") {
  			action = new virtualdom_Fragment({
  				template: action,
  				root: this.root,
  				owner: this
  			});
  		}

  		this.action = action;

  		// Get parameters
  		if (template.d) {
  			this.dynamicParams = new virtualdom_Fragment({
  				template: template.d,
  				root: this.root,
  				owner: this.element
  			});

  			this.fire = fireEventWithDynamicParams;
  		} else if (template.a) {
  			this.params = template.a;
  			this.fire = fireEventWithParams;
  		}
  	}
  }

  function fireMethodCall(event) {
  	var ractive, values, args;

  	ractive = this.root;

  	if (typeof ractive[this.method] !== "function") {
  		throw new Error("Attempted to call a non-existent method (\"" + this.method + "\")");
  	}

  	values = this.keypaths.map(function (keypath) {
  		var value, len, i;

  		if (keypath === undefined) {
  			// not yet resolved
  			return undefined;
  		}

  		// TODO the refinements stuff would be better handled at parse time
  		if (keypath.eventObject) {
  			value = event;

  			if (len = keypath.refinements.length) {
  				for (i = 0; i < len; i += 1) {
  					value = value[keypath.refinements[i]];
  				}
  			}
  		} else {
  			value = ractive.viewmodel.get(keypath);
  		}

  		return value;
  	});

  	shared_eventStack.enqueue(ractive, event);

  	args = this.fn.apply(null, values);
  	ractive[this.method].apply(ractive, args);

  	shared_eventStack.dequeue(ractive);
  }

  function fireEventWithParams(event) {
  	shared_fireEvent(this.root, this.getAction(), { event: event, args: this.params });
  }

  function fireEventWithDynamicParams(event) {
  	var args = this.dynamicParams.getArgsList();

  	// need to strip [] from ends if a string!
  	if (typeof args === "string") {
  		args = args.substr(1, args.length - 2);
  	}

  	shared_fireEvent(this.root, this.getAction(), { event: event, args: args });
  }

  var shared_genericHandler = genericHandler;
  function genericHandler(event) {
  	var storage,
  	    handler,
  	    indices,
  	    index = {};

  	storage = this._ractive;
  	handler = storage.events[event.type];

  	if (indices = Resolvers_findIndexRefs(handler.element.parentFragment)) {
  		index = Resolvers_findIndexRefs.resolve(indices);
  	}

  	handler.fire({
  		node: this,
  		original: event,
  		index: index,
  		keypath: storage.keypath.str,
  		context: storage.root.viewmodel.get(storage.keypath)
  	});
  }

  var listen = EventHandler$listen;

  var customHandlers = {},
      touchEvents = {
  	touchstart: true,
  	touchmove: true,
  	touchend: true,
  	touchcancel: true,
  	//not w3c, but supported in some browsers
  	touchleave: true
  };
  function EventHandler$listen() {
  	var definition,
  	    name = this.name;

  	if (this.invalid) {
  		return;
  	}

  	if (definition = findInViewHierarchy("events", this.root, name)) {
  		this.custom = definition(this.node, getCustomHandler(name));
  	} else {
  		// Looks like we're dealing with a standard DOM event... but let's check
  		if (!("on" + name in this.node) && !(window && "on" + name in window) && !isJsdom) {

  			// okay to use touch events if this browser doesn't support them
  			if (!touchEvents[name]) {
  				warnOnceIfDebug(missingPlugin(name, "event"), { node: this.node });
  			}

  			return;
  		}

  		this.node.addEventListener(name, shared_genericHandler, false);
  	}

  	this.hasListener = true;
  }

  function getCustomHandler(name) {
  	if (!customHandlers[name]) {
  		customHandlers[name] = function (event) {
  			var storage = event.node._ractive;

  			event.index = storage.index;
  			event.keypath = storage.keypath.str;
  			event.context = storage.root.viewmodel.get(storage.keypath);

  			storage.events[name].fire(event);
  		};
  	}

  	return customHandlers[name];
  }

  var EventHandler_prototype_rebind = EventHandler$rebind;

  function EventHandler$rebind(oldKeypath, newKeypath) {
  	var fragment;
  	if (this.method) {
  		fragment = this.element.parentFragment;
  		this.refResolvers.forEach(rebind);

  		return;
  	}

  	if (typeof this.action !== "string") {
  		rebind(this.action);
  	}

  	if (this.dynamicParams) {
  		rebind(this.dynamicParams);
  	}

  	function rebind(thing) {
  		thing && thing.rebind(oldKeypath, newKeypath);
  	}
  }

  var EventHandler_prototype_render = EventHandler$render;

  function EventHandler$render() {
  	this.node = this.element.node;
  	// store this on the node itself, so it can be retrieved by a
  	// universal handler
  	this.node._ractive.events[this.name] = this;

  	if (this.method || this.getAction()) {
  		this.listen();
  	}
  }

  var prototype_resolve = EventHandler$resolve;

  function EventHandler$resolve(index, keypath) {
  	this.keypaths[index] = keypath;
  }

  var EventHandler_prototype_unbind = EventHandler$unbind;
  function EventHandler$unbind() {
  	if (this.method) {
  		this.refResolvers.forEach(methodCallers__unbind);
  		return;
  	}

  	// Tear down dynamic name
  	if (typeof this.action !== "string") {
  		this.action.unbind();
  	}

  	// Tear down dynamic parameters
  	if (this.dynamicParams) {
  		this.dynamicParams.unbind();
  	}
  }

  var EventHandler_prototype_unrender = EventHandler$unrender;
  function EventHandler$unrender() {

  	if (this.custom) {
  		this.custom.teardown();
  	} else {
  		this.node.removeEventListener(this.name, shared_genericHandler, false);
  	}

  	this.hasListener = false;
  }

  var EventHandler = function (element, name, template) {
  	this.init(element, name, template);
  };

  EventHandler.prototype = {
  	bubble: EventHandler_prototype_bubble,
  	fire: EventHandler_prototype_fire,
  	getAction: getAction,
  	init: EventHandler_prototype_init,
  	listen: listen,
  	rebind: EventHandler_prototype_rebind,
  	render: EventHandler_prototype_render,
  	resolve: prototype_resolve,
  	unbind: EventHandler_prototype_unbind,
  	unrender: EventHandler_prototype_unrender
  };

  var _EventHandler = EventHandler;

  var createEventHandlers = function (element, template) {
  	var i,
  	    name,
  	    names,
  	    handler,
  	    result = [];

  	for (name in template) {
  		if (template.hasOwnProperty(name)) {
  			names = name.split("-");
  			i = names.length;

  			while (i--) {
  				handler = new _EventHandler(element, names[i], template[name]);
  				result.push(handler);
  			}
  		}
  	}

  	return result;
  };

  var Decorator = function (element, template) {
  	var self = this,
  	    ractive,
  	    name,
  	    fragment;

  	this.element = element;
  	this.root = ractive = element.root;

  	name = template.n || template;

  	if (typeof name !== "string") {
  		fragment = new virtualdom_Fragment({
  			template: name,
  			root: ractive,
  			owner: element
  		});

  		name = fragment.toString();
  		fragment.unbind();

  		if (name === "") {
  			// empty string okay, just no decorator
  			return;
  		}
  	}

  	if (template.a) {
  		this.params = template.a;
  	} else if (template.d) {
  		this.fragment = new virtualdom_Fragment({
  			template: template.d,
  			root: ractive,
  			owner: element
  		});

  		this.params = this.fragment.getArgsList();

  		this.fragment.bubble = function () {
  			this.dirtyArgs = this.dirtyValue = true;
  			self.params = this.getArgsList();

  			if (self.ready) {
  				self.update();
  			}
  		};
  	}

  	this.fn = findInViewHierarchy("decorators", ractive, name);

  	if (!this.fn) {
  		fatal(missingPlugin(name, "decorator"));
  	}
  };

  Decorator.prototype = {
  	init: function () {
  		var node, result, args;

  		node = this.element.node;

  		if (this.params) {
  			args = [node].concat(this.params);
  			result = this.fn.apply(this.root, args);
  		} else {
  			result = this.fn.call(this.root, node);
  		}

  		if (!result || !result.teardown) {
  			throw new Error("Decorator definition must return an object with a teardown method");
  		}

  		// TODO does this make sense?
  		this.actual = result;
  		this.ready = true;
  	},

  	update: function () {
  		if (this.actual.update) {
  			this.actual.update.apply(this.root, this.params);
  		} else {
  			this.actual.teardown(true);
  			this.init();
  		}
  	},

  	rebind: function (oldKeypath, newKeypath) {
  		if (this.fragment) {
  			this.fragment.rebind(oldKeypath, newKeypath);
  		}
  	},

  	teardown: function (updating) {
  		this.torndown = true;
  		if (this.ready) {
  			this.actual.teardown();
  		}

  		if (!updating && this.fragment) {
  			this.fragment.unbind();
  		}
  	}
  };

  var _Decorator = Decorator;

  function select__bubble() {
  	var _this = this;

  	if (!this.dirty) {
  		this.dirty = true;

  		global_runloop.scheduleTask(function () {
  			sync(_this);
  			_this.dirty = false;
  		});
  	}

  	this.parentFragment.bubble(); // default behaviour
  }

  function sync(selectElement) {
  	var selectNode, selectValue, isMultiple, options, optionWasSelected;

  	selectNode = selectElement.node;

  	if (!selectNode) {
  		return;
  	}

  	options = toArray(selectNode.options);

  	selectValue = selectElement.getAttribute("value");
  	isMultiple = selectElement.getAttribute("multiple");

  	// If the <select> has a specified value, that should override
  	// these options
  	if (selectValue !== undefined) {
  		options.forEach(function (o) {
  			var optionValue, shouldSelect;

  			optionValue = o._ractive ? o._ractive.value : o.value;
  			shouldSelect = isMultiple ? valueContains(selectValue, optionValue) : selectValue == optionValue;

  			if (shouldSelect) {
  				optionWasSelected = true;
  			}

  			o.selected = shouldSelect;
  		});

  		if (!optionWasSelected) {
  			if (options[0]) {
  				options[0].selected = true;
  			}

  			if (selectElement.binding) {
  				selectElement.binding.forceUpdate();
  			}
  		}
  	}

  	// Otherwise the value should be initialised according to which
  	// <option> element is selected, if twoway binding is in effect
  	else if (selectElement.binding) {
  		selectElement.binding.forceUpdate();
  	}
  }

  function valueContains(selectValue, optionValue) {
  	var i = selectValue.length;
  	while (i--) {
  		if (selectValue[i] == optionValue) {
  			return true;
  		}
  	}
  }

  function special_option__init(option, template) {
  	option.select = findParentSelect(option.parent);

  	// we might be inside a <datalist> element
  	if (!option.select) {
  		return;
  	}

  	option.select.options.push(option);

  	// If the value attribute is missing, use the element's content
  	if (!template.a) {
  		template.a = {};
  	}

  	// ...as long as it isn't disabled
  	if (template.a.value === undefined && !template.a.hasOwnProperty("disabled")) {
  		template.a.value = template.f;
  	}

  	// If there is a `selected` attribute, but the <select>
  	// already has a value, delete it
  	if ("selected" in template.a && option.select.getAttribute("value") !== undefined) {
  		delete template.a.selected;
  	}
  }

  function special_option__unbind(option) {
  	if (option.select) {
  		removeFromArray(option.select.options, option);
  	}
  }

  function findParentSelect(element) {
  	if (!element) {
  		return;
  	}

  	do {
  		if (element.name === "select") {
  			return element;
  		}
  	} while (element = element.parent);
  }

  var Element_prototype_init = Element$init;
  function Element$init(options) {
  	var parentFragment, template, ractive, binding, bindings, twoway, bindingAttrs;

  	this.type = ELEMENT;

  	// stuff we'll need later
  	parentFragment = this.parentFragment = options.parentFragment;
  	template = this.template = options.template;

  	this.parent = options.pElement || parentFragment.pElement;

  	this.root = ractive = parentFragment.root;
  	this.index = options.index;
  	this.key = options.key;

  	this.name = enforceCase(template.e);

  	// Special case - <option> elements
  	if (this.name === "option") {
  		special_option__init(this, template);
  	}

  	// Special case - <select> elements
  	if (this.name === "select") {
  		this.options = [];
  		this.bubble = select__bubble; // TODO this is a kludge
  	}

  	// Special case - <form> elements
  	if (this.name === "form") {
  		this.formBindings = [];
  	}

  	// handle binding attributes first (twoway, lazy)
  	bindingAttrs = processBindingAttributes(this, template);

  	// create attributes
  	this.attributes = createAttributes(this, template.a);
  	this.conditionalAttributes = createConditionalAttributes(this, template.m);

  	// append children, if there are any
  	if (template.f) {
  		this.fragment = new virtualdom_Fragment({
  			template: template.f,
  			root: ractive,
  			owner: this,
  			pElement: this,
  			cssIds: null
  		});
  	}

  	// the element setting should override the ractive setting
  	twoway = ractive.twoway;
  	if (bindingAttrs.twoway === false) twoway = false;else if (bindingAttrs.twoway === true) twoway = true;

  	this.twoway = twoway;
  	this.lazy = bindingAttrs.lazy;

  	// create twoway binding
  	if (twoway && (binding = init_createTwowayBinding(this, template.a))) {
  		this.binding = binding;

  		// register this with the root, so that we can do ractive.updateModel()
  		bindings = this.root._twowayBindings[binding.keypath.str] || (this.root._twowayBindings[binding.keypath.str] = []);
  		bindings.push(binding);
  	}

  	// create event proxies
  	if (template.v) {
  		this.eventHandlers = createEventHandlers(this, template.v);
  	}

  	// create decorator
  	if (template.o) {
  		this.decorator = new _Decorator(this, template.o);
  	}

  	// create transitions
  	this.intro = template.t0 || template.t1;
  	this.outro = template.t0 || template.t2;
  }

  var Element_prototype_rebind = Element$rebind;
  function Element$rebind(oldKeypath, newKeypath) {
  	var i, storage, liveQueries, ractive;

  	if (this.attributes) {
  		this.attributes.forEach(rebind);
  	}

  	if (this.conditionalAttributes) {
  		this.conditionalAttributes.forEach(rebind);
  	}

  	if (this.eventHandlers) {
  		this.eventHandlers.forEach(rebind);
  	}

  	if (this.decorator) {
  		rebind(this.decorator);
  	}

  	// rebind children
  	if (this.fragment) {
  		rebind(this.fragment);
  	}

  	// Update live queries, if necessary
  	if (liveQueries = this.liveQueries) {
  		ractive = this.root;

  		i = liveQueries.length;
  		while (i--) {
  			liveQueries[i]._makeDirty();
  		}
  	}

  	if (this.node && (storage = this.node._ractive)) {

  		// adjust keypath if needed
  		assignNewKeypath(storage, "keypath", oldKeypath, newKeypath);
  	}

  	function rebind(thing) {
  		thing.rebind(oldKeypath, newKeypath);
  	}
  }

  function special_img__render(img) {
  	var loadHandler;

  	// if this is an <img>, and we're in a crap browser, we may need to prevent it
  	// from overriding width and height when it loads the src
  	if (img.attributes.width || img.attributes.height) {
  		img.node.addEventListener("load", loadHandler = function () {
  			var width = img.getAttribute("width"),
  			    height = img.getAttribute("height");

  			if (width !== undefined) {
  				img.node.setAttribute("width", width);
  			}

  			if (height !== undefined) {
  				img.node.setAttribute("height", height);
  			}

  			img.node.removeEventListener("load", loadHandler, false);
  		}, false);
  	}
  }

  function form__render(element) {
  	element.node.addEventListener("reset", handleReset, false);
  }

  function form__unrender(element) {
  	element.node.removeEventListener("reset", handleReset, false);
  }

  function handleReset() {
  	var element = this._ractive.proxy;

  	global_runloop.start();
  	element.formBindings.forEach(updateModel);
  	global_runloop.end();
  }

  function updateModel(binding) {
  	binding.root.viewmodel.set(binding.keypath, binding.resetValue);
  }

  var Transition_prototype_init = Transition$init;
  function Transition$init(element, template, isIntro) {
  	var ractive, name, fragment;

  	this.element = element;
  	this.root = ractive = element.root;
  	this.isIntro = isIntro;

  	name = template.n || template;

  	if (typeof name !== "string") {
  		fragment = new virtualdom_Fragment({
  			template: name,
  			root: ractive,
  			owner: element
  		});

  		name = fragment.toString();
  		fragment.unbind();

  		if (name === "") {
  			// empty string okay, just no transition
  			return;
  		}
  	}

  	this.name = name;

  	if (template.a) {
  		this.params = template.a;
  	} else if (template.d) {
  		// TODO is there a way to interpret dynamic arguments without all the
  		// 'dependency thrashing'?
  		fragment = new virtualdom_Fragment({
  			template: template.d,
  			root: ractive,
  			owner: element
  		});

  		this.params = fragment.getArgsList();
  		fragment.unbind();
  	}

  	this._fn = findInViewHierarchy("transitions", ractive, name);

  	if (!this._fn) {
  		warnOnceIfDebug(missingPlugin(name, "transition"), { ractive: this.root });
  	}
  }

  var camelCase = function (hyphenatedStr) {
  	return hyphenatedStr.replace(/-([a-zA-Z])/g, function (match, $1) {
  		return $1.toUpperCase();
  	});
  };

  var helpers_prefix__prefix, prefixCache, helpers_prefix__testStyle;

  if (!isClient) {
  	helpers_prefix__prefix = null;
  } else {
  	prefixCache = {};
  	helpers_prefix__testStyle = createElement("div").style;

  	helpers_prefix__prefix = function (prop) {
  		var i, vendor, capped;

  		prop = camelCase(prop);

  		if (!prefixCache[prop]) {
  			if (helpers_prefix__testStyle[prop] !== undefined) {
  				prefixCache[prop] = prop;
  			} else {
  				// test vendors...
  				capped = prop.charAt(0).toUpperCase() + prop.substring(1);

  				i = vendors.length;
  				while (i--) {
  					vendor = vendors[i];
  					if (helpers_prefix__testStyle[vendor + capped] !== undefined) {
  						prefixCache[prop] = vendor + capped;
  						break;
  					}
  				}
  			}
  		}

  		return prefixCache[prop];
  	};
  }

  var helpers_prefix = helpers_prefix__prefix;

  var getStyle, prototype_getStyle__getComputedStyle;

  if (!isClient) {
  	getStyle = null;
  } else {
  	prototype_getStyle__getComputedStyle = window.getComputedStyle || legacy.getComputedStyle;

  	getStyle = function (props) {
  		var computedStyle, styles, i, prop, value;

  		computedStyle = prototype_getStyle__getComputedStyle(this.node);

  		if (typeof props === "string") {
  			value = computedStyle[helpers_prefix(props)];
  			if (value === "0px") {
  				value = 0;
  			}
  			return value;
  		}

  		if (!isArray(props)) {
  			throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");
  		}

  		styles = {};

  		i = props.length;
  		while (i--) {
  			prop = props[i];
  			value = computedStyle[helpers_prefix(prop)];
  			if (value === "0px") {
  				value = 0;
  			}
  			styles[prop] = value;
  		}

  		return styles;
  	};
  }

  var prototype_getStyle = getStyle;

  var setStyle = function (style, value) {
  	var prop;

  	if (typeof style === "string") {
  		this.node.style[helpers_prefix(style)] = value;
  	} else {
  		for (prop in style) {
  			if (style.hasOwnProperty(prop)) {
  				this.node.style[helpers_prefix(prop)] = style[prop];
  			}
  		}
  	}

  	return this;
  };

  var Ticker = function (options) {
  	var easing;

  	this.duration = options.duration;
  	this.step = options.step;
  	this.complete = options.complete;

  	// easing
  	if (typeof options.easing === "string") {
  		easing = options.root.easing[options.easing];

  		if (!easing) {
  			warnOnceIfDebug(missingPlugin(options.easing, "easing"));
  			easing = linear;
  		}
  	} else if (typeof options.easing === "function") {
  		easing = options.easing;
  	} else {
  		easing = linear;
  	}

  	this.easing = easing;

  	this.start = utils_getTime();
  	this.end = this.start + this.duration;

  	this.running = true;
  	shared_animations.add(this);
  };

  Ticker.prototype = {
  	tick: function (now) {
  		var elapsed, eased;

  		if (!this.running) {
  			return false;
  		}

  		if (now > this.end) {
  			if (this.step) {
  				this.step(1);
  			}

  			if (this.complete) {
  				this.complete(1);
  			}

  			return false;
  		}

  		elapsed = now - this.start;
  		eased = this.easing(elapsed / this.duration);

  		if (this.step) {
  			this.step(eased);
  		}

  		return true;
  	},

  	stop: function () {
  		if (this.abort) {
  			this.abort();
  		}

  		this.running = false;
  	}
  };

  var shared_Ticker = Ticker;
  function linear(t) {
  	return t;
  }

  var unprefixPattern = new RegExp("^-(?:" + vendors.join("|") + ")-");

  var unprefix = function (prop) {
  	return prop.replace(unprefixPattern, "");
  };

  var vendorPattern = new RegExp("^(?:" + vendors.join("|") + ")([A-Z])");

  var hyphenate = function (str) {
  	var hyphenated;

  	if (!str) {
  		return ""; // edge case
  	}

  	if (vendorPattern.test(str)) {
  		str = "-" + str;
  	}

  	hyphenated = str.replace(/[A-Z]/g, function (match) {
  		return "-" + match.toLowerCase();
  	});

  	return hyphenated;
  };

  var createTransitions,
      animateStyle_createTransitions__testStyle,
      TRANSITION,
      TRANSITIONEND,
      CSS_TRANSITIONS_ENABLED,
      TRANSITION_DURATION,
      TRANSITION_PROPERTY,
      TRANSITION_TIMING_FUNCTION,
      canUseCssTransitions = {},
      cannotUseCssTransitions = {};

  if (!isClient) {
  	createTransitions = null;
  } else {
  	animateStyle_createTransitions__testStyle = createElement("div").style;

  	// determine some facts about our environment
  	(function () {
  		if (animateStyle_createTransitions__testStyle.transition !== undefined) {
  			TRANSITION = "transition";
  			TRANSITIONEND = "transitionend";
  			CSS_TRANSITIONS_ENABLED = true;
  		} else if (animateStyle_createTransitions__testStyle.webkitTransition !== undefined) {
  			TRANSITION = "webkitTransition";
  			TRANSITIONEND = "webkitTransitionEnd";
  			CSS_TRANSITIONS_ENABLED = true;
  		} else {
  			CSS_TRANSITIONS_ENABLED = false;
  		}
  	})();

  	if (TRANSITION) {
  		TRANSITION_DURATION = TRANSITION + "Duration";
  		TRANSITION_PROPERTY = TRANSITION + "Property";
  		TRANSITION_TIMING_FUNCTION = TRANSITION + "TimingFunction";
  	}

  	createTransitions = function (t, to, options, changedProperties, resolve) {

  		// Wait a beat (otherwise the target styles will be applied immediately)
  		// TODO use a fastdom-style mechanism?
  		setTimeout(function () {

  			var hashPrefix, jsTransitionsComplete, cssTransitionsComplete, checkComplete, transitionEndHandler;

  			checkComplete = function () {
  				if (jsTransitionsComplete && cssTransitionsComplete) {
  					// will changes to events and fire have an unexpected consequence here?
  					t.root.fire(t.name + ":end", t.node, t.isIntro);
  					resolve();
  				}
  			};

  			// this is used to keep track of which elements can use CSS to animate
  			// which properties
  			hashPrefix = (t.node.namespaceURI || "") + t.node.tagName;

  			t.node.style[TRANSITION_PROPERTY] = changedProperties.map(helpers_prefix).map(hyphenate).join(",");
  			t.node.style[TRANSITION_TIMING_FUNCTION] = hyphenate(options.easing || "linear");
  			t.node.style[TRANSITION_DURATION] = options.duration / 1000 + "s";

  			transitionEndHandler = function (event) {
  				var index;

  				index = changedProperties.indexOf(camelCase(unprefix(event.propertyName)));
  				if (index !== -1) {
  					changedProperties.splice(index, 1);
  				}

  				if (changedProperties.length) {
  					// still transitioning...
  					return;
  				}

  				t.node.removeEventListener(TRANSITIONEND, transitionEndHandler, false);

  				cssTransitionsComplete = true;
  				checkComplete();
  			};

  			t.node.addEventListener(TRANSITIONEND, transitionEndHandler, false);

  			setTimeout(function () {
  				var i = changedProperties.length,
  				    hash,
  				    originalValue,
  				    index,
  				    propertiesToTransitionInJs = [],
  				    prop,
  				    suffix;

  				while (i--) {
  					prop = changedProperties[i];
  					hash = hashPrefix + prop;

  					if (CSS_TRANSITIONS_ENABLED && !cannotUseCssTransitions[hash]) {
  						t.node.style[helpers_prefix(prop)] = to[prop];

  						// If we're not sure if CSS transitions are supported for
  						// this tag/property combo, find out now
  						if (!canUseCssTransitions[hash]) {
  							originalValue = t.getStyle(prop);

  							// if this property is transitionable in this browser,
  							// the current style will be different from the target style
  							canUseCssTransitions[hash] = t.getStyle(prop) != to[prop];
  							cannotUseCssTransitions[hash] = !canUseCssTransitions[hash];

  							// Reset, if we're going to use timers after all
  							if (cannotUseCssTransitions[hash]) {
  								t.node.style[helpers_prefix(prop)] = originalValue;
  							}
  						}
  					}

  					if (!CSS_TRANSITIONS_ENABLED || cannotUseCssTransitions[hash]) {
  						// we need to fall back to timer-based stuff
  						if (originalValue === undefined) {
  							originalValue = t.getStyle(prop);
  						}

  						// need to remove this from changedProperties, otherwise transitionEndHandler
  						// will get confused
  						index = changedProperties.indexOf(prop);
  						if (index === -1) {
  							warnIfDebug("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!", { node: t.node });
  						} else {
  							changedProperties.splice(index, 1);
  						}

  						// TODO Determine whether this property is animatable at all

  						suffix = /[^\d]*$/.exec(to[prop])[0];

  						// ...then kick off a timer-based transition
  						propertiesToTransitionInJs.push({
  							name: helpers_prefix(prop),
  							interpolator: shared_interpolate(parseFloat(originalValue), parseFloat(to[prop])),
  							suffix: suffix
  						});
  					}
  				}

  				// javascript transitions
  				if (propertiesToTransitionInJs.length) {
  					new shared_Ticker({
  						root: t.root,
  						duration: options.duration,
  						easing: camelCase(options.easing || ""),
  						step: function (pos) {
  							var prop, i;

  							i = propertiesToTransitionInJs.length;
  							while (i--) {
  								prop = propertiesToTransitionInJs[i];
  								t.node.style[prop.name] = prop.interpolator(pos) + prop.suffix;
  							}
  						},
  						complete: function () {
  							jsTransitionsComplete = true;
  							checkComplete();
  						}
  					});
  				} else {
  					jsTransitionsComplete = true;
  				}

  				if (!changedProperties.length) {
  					// We need to cancel the transitionEndHandler, and deal with
  					// the fact that it will never fire
  					t.node.removeEventListener(TRANSITIONEND, transitionEndHandler, false);
  					cssTransitionsComplete = true;
  					checkComplete();
  				}
  			}, 0);
  		}, options.delay || 0);
  	};
  }

  var animateStyle_createTransitions = createTransitions;

  var hidden, vendor, animateStyle_visibility__prefix, animateStyle_visibility__i, visibility;

  if (typeof document !== "undefined") {
  	hidden = "hidden";

  	visibility = {};

  	if (hidden in document) {
  		animateStyle_visibility__prefix = "";
  	} else {
  		animateStyle_visibility__i = vendors.length;
  		while (animateStyle_visibility__i--) {
  			vendor = vendors[animateStyle_visibility__i];
  			hidden = vendor + "Hidden";

  			if (hidden in document) {
  				animateStyle_visibility__prefix = vendor;
  			}
  		}
  	}

  	if (animateStyle_visibility__prefix !== undefined) {
  		document.addEventListener(animateStyle_visibility__prefix + "visibilitychange", onChange);

  		// initialise
  		onChange();
  	} else {
  		// gah, we're in an old browser
  		if ("onfocusout" in document) {
  			document.addEventListener("focusout", onHide);
  			document.addEventListener("focusin", onShow);
  		} else {
  			window.addEventListener("pagehide", onHide);
  			window.addEventListener("blur", onHide);

  			window.addEventListener("pageshow", onShow);
  			window.addEventListener("focus", onShow);
  		}

  		visibility.hidden = false; // until proven otherwise. Not ideal but hey
  	}
  }

  function onChange() {
  	visibility.hidden = document[hidden];
  }

  function onHide() {
  	visibility.hidden = true;
  }

  function onShow() {
  	visibility.hidden = false;
  }

  var animateStyle_visibility = visibility;

  var animateStyle, _animateStyle__getComputedStyle, resolved;

  if (!isClient) {
  	animateStyle = null;
  } else {
  	_animateStyle__getComputedStyle = window.getComputedStyle || legacy.getComputedStyle;

  	animateStyle = function (style, value, options) {
  		var _this = this;

  		var to;

  		if (arguments.length === 4) {
  			throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");
  		}

  		// Special case - page isn't visible. Don't animate anything, because
  		// that way you'll never get CSS transitionend events
  		if (animateStyle_visibility.hidden) {
  			this.setStyle(style, value);
  			return resolved || (resolved = utils_Promise.resolve());
  		}

  		if (typeof style === "string") {
  			to = {};
  			to[style] = value;
  		} else {
  			to = style;

  			// shuffle arguments
  			options = value;
  		}

  		// As of 0.3.9, transition authors should supply an `option` object with
  		// `duration` and `easing` properties (and optional `delay`), plus a
  		// callback function that gets called after the animation completes

  		// TODO remove this check in a future version
  		if (!options) {
  			warnOnceIfDebug("The \"%s\" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340", this.name);
  			options = this;
  		}

  		var promise = new utils_Promise(function (resolve) {
  			var propertyNames, changedProperties, computedStyle, current, from, i, prop;

  			// Edge case - if duration is zero, set style synchronously and complete
  			if (!options.duration) {
  				_this.setStyle(to);
  				resolve();
  				return;
  			}

  			// Get a list of the properties we're animating
  			propertyNames = Object.keys(to);
  			changedProperties = [];

  			// Store the current styles
  			computedStyle = _animateStyle__getComputedStyle(_this.node);

  			from = {};
  			i = propertyNames.length;
  			while (i--) {
  				prop = propertyNames[i];
  				current = computedStyle[helpers_prefix(prop)];

  				if (current === "0px") {
  					current = 0;
  				}

  				// we need to know if we're actually changing anything
  				if (current != to[prop]) {
  					// use != instead of !==, so we can compare strings with numbers
  					changedProperties.push(prop);

  					// make the computed style explicit, so we can animate where
  					// e.g. height='auto'
  					_this.node.style[helpers_prefix(prop)] = current;
  				}
  			}

  			// If we're not actually changing anything, the transitionend event
  			// will never fire! So we complete early
  			if (!changedProperties.length) {
  				resolve();
  				return;
  			}

  			animateStyle_createTransitions(_this, to, options, changedProperties, resolve);
  		});

  		return promise;
  	};
  }

  var _animateStyle = animateStyle;

  var processParams = function (params, defaults) {
  	if (typeof params === "number") {
  		params = { duration: params };
  	} else if (typeof params === "string") {
  		if (params === "slow") {
  			params = { duration: 600 };
  		} else if (params === "fast") {
  			params = { duration: 200 };
  		} else {
  			params = { duration: 400 };
  		}
  	} else if (!params) {
  		params = {};
  	}

  	return fillGaps({}, params, defaults);
  };

  var prototype_start = Transition$start;

  function Transition$start() {
  	var _this = this;

  	var node, originalStyle, completed;

  	node = this.node = this.element.node;
  	originalStyle = node.getAttribute("style");

  	// create t.complete() - we don't want this on the prototype,
  	// because we don't want `this` silliness when passing it as
  	// an argument
  	this.complete = function (noReset) {
  		if (completed) {
  			return;
  		}

  		if (!noReset && _this.isIntro) {
  			resetStyle(node, originalStyle);
  		}

  		node._ractive.transition = null;
  		_this._manager.remove(_this);

  		completed = true;
  	};

  	// If the transition function doesn't exist, abort
  	if (!this._fn) {
  		this.complete();
  		return;
  	}

  	this._fn.apply(this.root, [this].concat(this.params));
  }

  function resetStyle(node, style) {
  	if (style) {
  		node.setAttribute("style", style);
  	} else {

  		// Next line is necessary, to remove empty style attribute!
  		// See http://stackoverflow.com/a/7167553
  		node.getAttribute("style");
  		node.removeAttribute("style");
  	}
  }

  var Transition = function (owner, template, isIntro) {
  	this.init(owner, template, isIntro);
  };

  Transition.prototype = {
  	init: Transition_prototype_init,
  	start: prototype_start,
  	getStyle: prototype_getStyle,
  	setStyle: setStyle,
  	animateStyle: _animateStyle,
  	processParams: processParams
  };

  var _Transition = Transition;

  var Element_prototype_render = Element$render;

  var updateCss, updateScript;

  updateCss = function () {
  	var node = this.node,
  	    content = this.fragment.toString(false);

  	// IE8 has no styleSheet unless there's a type text/css
  	if (window && window.appearsToBeIELessEqual8) {
  		node.type = "text/css";
  	}

  	if (node.styleSheet) {
  		node.styleSheet.cssText = content;
  	} else {

  		while (node.hasChildNodes()) {
  			node.removeChild(node.firstChild);
  		}

  		node.appendChild(document.createTextNode(content));
  	}
  };

  updateScript = function () {
  	if (!this.node.type || this.node.type === "text/javascript") {
  		warnIfDebug("Script tag was updated. This does not cause the code to be re-evaluated!", { ractive: this.root });
  		// As it happens, we ARE in a position to re-evaluate the code if we wanted
  		// to - we could eval() it, or insert it into a fresh (temporary) script tag.
  		// But this would be a terrible idea with unpredictable results, so let's not.
  	}

  	this.node.text = this.fragment.toString(false);
  };
  function Element$render() {
  	var _this = this;

  	var root = this.root,
  	    namespace,
  	    node,
  	    transition;

  	namespace = getNamespace(this);
  	node = this.node = createElement(this.name, namespace);

  	// Is this a top-level node of a component? If so, we may need to add
  	// a data-ractive-css attribute, for CSS encapsulation
  	if (this.parentFragment.cssIds) {
  		this.node.setAttribute("data-ractive-css", this.parentFragment.cssIds.map(function (x) {
  			return "{" + x + "}";
  		}).join(" "));
  	}

  	// Add _ractive property to the node - we use this object to store stuff
  	// related to proxy events, two-way bindings etc
  	defineProperty(this.node, "_ractive", {
  		value: {
  			proxy: this,
  			keypath: getInnerContext(this.parentFragment),
  			events: create(null),
  			root: root
  		}
  	});

  	// Render attributes
  	this.attributes.forEach(function (a) {
  		return a.render(node);
  	});
  	this.conditionalAttributes.forEach(function (a) {
  		return a.render(node);
  	});

  	// Render children
  	if (this.fragment) {
  		// Special case - <script> element
  		if (this.name === "script") {
  			this.bubble = updateScript;
  			this.node.text = this.fragment.toString(false); // bypass warning initially
  			this.fragment.unrender = noop; // TODO this is a kludge
  		}

  		// Special case - <style> element
  		else if (this.name === "style") {
  			this.bubble = updateCss;
  			this.bubble();
  			this.fragment.unrender = noop;
  		}

  		// Special case - contenteditable
  		else if (this.binding && this.getAttribute("contenteditable")) {
  			this.fragment.unrender = noop;
  		} else {
  			this.node.appendChild(this.fragment.render());
  		}
  	}

  	// deal with two-way bindings
  	if (this.binding) {
  		this.binding.render();
  		this.node._ractive.binding = this.binding;
  	}

  	// Add proxy event handlers
  	if (this.eventHandlers) {
  		this.eventHandlers.forEach(function (h) {
  			return h.render();
  		});
  	}

  	if (this.name === "option") {
  		processOption(this);
  	}

  	// Special cases
  	if (this.name === "img") {
  		// if this is an <img>, and we're in a crap browser, we may
  		// need to prevent it from overriding width and height when
  		// it loads the src
  		special_img__render(this);
  	} else if (this.name === "form") {
  		// forms need to keep track of their bindings, in case of reset
  		form__render(this);
  	} else if (this.name === "input" || this.name === "textarea") {
  		// inputs and textareas should store their initial value as
  		// `defaultValue` in case of reset
  		this.node.defaultValue = this.node.value;
  	} else if (this.name === "option") {
  		// similarly for option nodes
  		this.node.defaultSelected = this.node.selected;
  	}

  	// apply decorator(s)
  	if (this.decorator && this.decorator.fn) {
  		global_runloop.scheduleTask(function () {
  			if (!_this.decorator.torndown) {
  				_this.decorator.init();
  			}
  		}, true);
  	}

  	// trigger intro transition
  	if (root.transitionsEnabled && this.intro) {
  		transition = new _Transition(this, this.intro, true);
  		global_runloop.registerTransition(transition);
  		global_runloop.scheduleTask(function () {
  			return transition.start();
  		}, true);

  		this.transition = transition;
  	}

  	if (this.node.autofocus) {
  		// Special case. Some browsers (*cough* Firefix *cough*) have a problem
  		// with dynamically-generated elements having autofocus, and they won't
  		// allow you to programmatically focus the element until it's in the DOM
  		global_runloop.scheduleTask(function () {
  			return _this.node.focus();
  		}, true);
  	}

  	updateLiveQueries(this);
  	return this.node;
  }

  function getNamespace(element) {
  	var namespace, xmlns, parent;

  	// Use specified namespace...
  	if (xmlns = element.getAttribute("xmlns")) {
  		namespace = xmlns;
  	}

  	// ...or SVG namespace, if this is an <svg> element
  	else if (element.name === "svg") {
  		namespace = namespaces.svg;
  	} else if (parent = element.parent) {
  		// ...or HTML, if the parent is a <foreignObject>
  		if (parent.name === "foreignObject") {
  			namespace = namespaces.html;
  		}

  		// ...or inherit from the parent node
  		else {
  			namespace = parent.node.namespaceURI;
  		}
  	} else {
  		namespace = element.root.el.namespaceURI;
  	}

  	return namespace;
  }

  function processOption(option) {
  	var optionValue, selectValue, i;

  	if (!option.select) {
  		return;
  	}

  	selectValue = option.select.getAttribute("value");
  	if (selectValue === undefined) {
  		return;
  	}

  	optionValue = option.getAttribute("value");

  	if (option.select.node.multiple && isArray(selectValue)) {
  		i = selectValue.length;
  		while (i--) {
  			if (optionValue == selectValue[i]) {
  				option.node.selected = true;
  				break;
  			}
  		}
  	} else {
  		option.node.selected = optionValue == selectValue;
  	}
  }

  function updateLiveQueries(element) {
  	var instance, liveQueries, i, selector, query;

  	// Does this need to be added to any live queries?
  	instance = element.root;

  	do {
  		liveQueries = instance._liveQueries;

  		i = liveQueries.length;
  		while (i--) {
  			selector = liveQueries[i];
  			query = liveQueries["_" + selector];

  			if (query._test(element)) {
  				// keep register of applicable selectors, for when we teardown
  				(element.liveQueries || (element.liveQueries = [])).push(query);
  			}
  		}
  	} while (instance = instance.parent);
  }

  var Element_prototype_toString = function () {
  	var str, escape;

  	if (this.template.y) {
  		// DOCTYPE declaration
  		return "<!DOCTYPE" + this.template.dd + ">";
  	}

  	str = "<" + this.template.e;

  	str += this.attributes.map(stringifyAttribute).join("") + this.conditionalAttributes.map(stringifyAttribute).join("");

  	// Special case - selected options
  	if (this.name === "option" && optionIsSelected(this)) {
  		str += " selected";
  	}

  	// Special case - two-way radio name bindings
  	if (this.name === "input" && inputIsCheckedRadio(this)) {
  		str += " checked";
  	}

  	str += ">";

  	// Special case - textarea
  	if (this.name === "textarea" && this.getAttribute("value") !== undefined) {
  		str += escapeHtml(this.getAttribute("value"));
  	}

  	// Special case - contenteditable
  	else if (this.getAttribute("contenteditable") !== undefined) {
  		str += this.getAttribute("value") || "";
  	}

  	if (this.fragment) {
  		escape = this.name !== "script" && this.name !== "style";
  		str += this.fragment.toString(escape);
  	}

  	// add a closing tag if this isn't a void element
  	if (!voidElementNames.test(this.template.e)) {
  		str += "</" + this.template.e + ">";
  	}

  	return str;
  };

  function optionIsSelected(element) {
  	var optionValue, selectValue, i;

  	optionValue = element.getAttribute("value");

  	if (optionValue === undefined || !element.select) {
  		return false;
  	}

  	selectValue = element.select.getAttribute("value");

  	if (selectValue == optionValue) {
  		return true;
  	}

  	if (element.select.getAttribute("multiple") && isArray(selectValue)) {
  		i = selectValue.length;
  		while (i--) {
  			if (selectValue[i] == optionValue) {
  				return true;
  			}
  		}
  	}
  }

  function inputIsCheckedRadio(element) {
  	var attributes, typeAttribute, valueAttribute, nameAttribute;

  	attributes = element.attributes;

  	typeAttribute = attributes.type;
  	valueAttribute = attributes.value;
  	nameAttribute = attributes.name;

  	if (!typeAttribute || typeAttribute.value !== "radio" || !valueAttribute || !nameAttribute.interpolator) {
  		return;
  	}

  	if (valueAttribute.value === nameAttribute.interpolator.value) {
  		return true;
  	}
  }

  function stringifyAttribute(attribute) {
  	var str = attribute.toString();
  	return str ? " " + str : "";
  }

  var Element_prototype_unbind = Element$unbind;
  function Element$unbind() {
  	if (this.fragment) {
  		this.fragment.unbind();
  	}

  	if (this.binding) {
  		this.binding.unbind();
  	}

  	if (this.eventHandlers) {
  		this.eventHandlers.forEach(methodCallers__unbind);
  	}

  	// Special case - <option>
  	if (this.name === "option") {
  		special_option__unbind(this);
  	}

  	this.attributes.forEach(methodCallers__unbind);
  	this.conditionalAttributes.forEach(methodCallers__unbind);
  }

  var Element_prototype_unrender = Element$unrender;

  function Element$unrender(shouldDestroy) {
  	var binding, bindings, transition;

  	if (transition = this.transition) {
  		transition.complete();
  	}

  	// Detach as soon as we can
  	if (this.name === "option") {
  		// <option> elements detach immediately, so that
  		// their parent <select> element syncs correctly, and
  		// since option elements can't have transitions anyway
  		this.detach();
  	} else if (shouldDestroy) {
  		global_runloop.detachWhenReady(this);
  	}

  	// Children first. that way, any transitions on child elements will be
  	// handled by the current transitionManager
  	if (this.fragment) {
  		this.fragment.unrender(false);
  	}

  	if (binding = this.binding) {
  		this.binding.unrender();

  		this.node._ractive.binding = null;
  		bindings = this.root._twowayBindings[binding.keypath.str];
  		bindings.splice(bindings.indexOf(binding), 1);
  	}

  	// Remove event handlers
  	if (this.eventHandlers) {
  		this.eventHandlers.forEach(methodCallers__unrender);
  	}

  	if (this.decorator) {
  		global_runloop.registerDecorator(this.decorator);
  	}

  	// trigger outro transition if necessary
  	if (this.root.transitionsEnabled && this.outro) {
  		transition = new _Transition(this, this.outro, false);
  		global_runloop.registerTransition(transition);
  		global_runloop.scheduleTask(function () {
  			return transition.start();
  		});
  	}

  	// Remove this node from any live queries
  	if (this.liveQueries) {
  		removeFromLiveQueries(this);
  	}

  	if (this.name === "form") {
  		form__unrender(this);
  	}
  }

  function removeFromLiveQueries(element) {
  	var query, selector, i;

  	i = element.liveQueries.length;
  	while (i--) {
  		query = element.liveQueries[i];
  		selector = query.selector;

  		query._remove(element.node);
  	}
  }

  var Element = function (options) {
  	this.init(options);
  };

  Element.prototype = {
  	bubble: Element_prototype_bubble,
  	detach: Element_prototype_detach,
  	find: Element_prototype_find,
  	findAll: Element_prototype_findAll,
  	findAllComponents: Element_prototype_findAllComponents,
  	findComponent: Element_prototype_findComponent,
  	findNextNode: Element_prototype_findNextNode,
  	firstNode: Element_prototype_firstNode,
  	getAttribute: getAttribute,
  	init: Element_prototype_init,
  	rebind: Element_prototype_rebind,
  	render: Element_prototype_render,
  	toString: Element_prototype_toString,
  	unbind: Element_prototype_unbind,
  	unrender: Element_prototype_unrender
  };

  var _Element = Element;

  var deIndent__empty = /^\s*$/,
      deIndent__leadingWhitespace = /^\s*/;

  var deIndent = function (str) {
  	var lines, firstLine, lastLine, minIndent;

  	lines = str.split("\n");

  	// remove first and last line, if they only contain whitespace
  	firstLine = lines[0];
  	if (firstLine !== undefined && deIndent__empty.test(firstLine)) {
  		lines.shift();
  	}

  	lastLine = lastItem(lines);
  	if (lastLine !== undefined && deIndent__empty.test(lastLine)) {
  		lines.pop();
  	}

  	minIndent = lines.reduce(reducer, null);

  	if (minIndent) {
  		str = lines.map(function (line) {
  			return line.replace(minIndent, "");
  		}).join("\n");
  	}

  	return str;
  };

  function reducer(previous, line) {
  	var lineIndent = deIndent__leadingWhitespace.exec(line)[0];

  	if (previous === null || lineIndent.length < previous.length) {
  		return lineIndent;
  	}

  	return previous;
  }

  var Partial_getPartialTemplate = getPartialTemplate;

  function getPartialTemplate(ractive, name, parentFragment) {
  	var partial;

  	// If the partial in instance or view heirarchy instances, great
  	if (partial = getPartialFromRegistry(ractive, name, parentFragment || {})) {
  		return partial;
  	}

  	// Does it exist on the page as a script tag?
  	partial = template_parser.fromId(name, { noThrow: true });

  	if (partial) {
  		// is this necessary?
  		partial = deIndent(partial);

  		// parse and register to this ractive instance
  		var parsed = template_parser.parse(partial, template_parser.getParseOptions(ractive));

  		// register (and return main partial if there are others in the template)
  		return ractive.partials[name] = parsed.t;
  	}
  }

  function getPartialFromRegistry(ractive, name, parentFragment) {
  	var fn = undefined,
  	    partial = findParentPartial(name, parentFragment.owner);

  	// if there was an instance up-hierarchy, cool
  	if (partial) return partial;

  	// find first instance in the ractive or view hierarchy that has this partial
  	var instance = findInstance("partials", ractive, name);

  	if (!instance) {
  		return;
  	}

  	partial = instance.partials[name];

  	// partial is a function?
  	if (typeof partial === "function") {
  		fn = partial.bind(instance);
  		fn.isOwner = instance.partials.hasOwnProperty(name);
  		partial = fn.call(ractive, template_parser);
  	}

  	if (!partial && partial !== "") {
  		warnIfDebug(noRegistryFunctionReturn, name, "partial", "partial", { ractive: ractive });
  		return;
  	}

  	// If this was added manually to the registry,
  	// but hasn't been parsed, parse it now
  	if (!template_parser.isParsed(partial)) {

  		// use the parseOptions of the ractive instance on which it was found
  		var parsed = template_parser.parse(partial, template_parser.getParseOptions(instance));

  		// Partials cannot contain nested partials!
  		// TODO add a test for this
  		if (parsed.p) {
  			warnIfDebug("Partials ({{>%s}}) cannot contain nested inline partials", name, { ractive: ractive });
  		}

  		// if fn, use instance to store result, otherwise needs to go
  		// in the correct point in prototype chain on instance or constructor
  		var target = fn ? instance : findOwner(instance, name);

  		// may be a template with partials, which need to be registered and main template extracted
  		target.partials[name] = partial = parsed.t;
  	}

  	// store for reset
  	if (fn) {
  		partial._fn = fn;
  	}

  	return partial.v ? partial.t : partial;
  }

  function findOwner(ractive, key) {
  	return ractive.partials.hasOwnProperty(key) ? ractive : findConstructor(ractive.constructor, key);
  }

  function findConstructor(constructor, key) {
  	if (!constructor) {
  		return;
  	}
  	return constructor.partials.hasOwnProperty(key) ? constructor : findConstructor(constructor._Parent, key);
  }

  function findParentPartial(name, parent) {
  	if (parent) {
  		if (parent.template && parent.template.p && parent.template.p[name]) {
  			return parent.template.p[name];
  		} else if (parent.parentFragment && parent.parentFragment.owner) {
  			return findParentPartial(name, parent.parentFragment.owner);
  		}
  	}
  }

  var applyIndent = function (string, indent) {
  	var indented;

  	if (!indent) {
  		return string;
  	}

  	indented = string.split("\n").map(function (line, notFirstLine) {
  		return notFirstLine ? indent + line : line;
  	}).join("\n");

  	return indented;
  };

  var missingPartialMessage = "Could not find template for partial \"%s\"";

  var Partial = function (options) {
  	var parentFragment, template;

  	parentFragment = this.parentFragment = options.parentFragment;

  	this.root = parentFragment.root;
  	this.type = PARTIAL;
  	this.index = options.index;
  	this.name = options.template.r;
  	this.rendered = false;

  	this.fragment = this.fragmentToRender = this.fragmentToUnrender = null;

  	Mustache.init(this, options);

  	// If this didn't resolve, it most likely means we have a named partial
  	// (i.e. `{{>foo}}` means 'use the foo partial', not 'use the partial
  	// whose name is the value of `foo`')
  	if (!this.keypath) {
  		if (template = Partial_getPartialTemplate(this.root, this.name, parentFragment)) {
  			shared_unbind.call(this); // prevent any further changes
  			this.isNamed = true;
  			this.setTemplate(template);
  		} else {
  			warnOnceIfDebug(missingPartialMessage, this.name);
  		}
  	}
  };

  Partial.prototype = {
  	bubble: function () {
  		this.parentFragment.bubble();
  	},

  	detach: function () {
  		return this.fragment.detach();
  	},

  	find: function (selector) {
  		return this.fragment.find(selector);
  	},

  	findAll: function (selector, query) {
  		return this.fragment.findAll(selector, query);
  	},

  	findComponent: function (selector) {
  		return this.fragment.findComponent(selector);
  	},

  	findAllComponents: function (selector, query) {
  		return this.fragment.findAllComponents(selector, query);
  	},

  	firstNode: function () {
  		return this.fragment.firstNode();
  	},

  	findNextNode: function () {
  		return this.parentFragment.findNextNode(this);
  	},

  	getPartialName: function () {
  		if (this.isNamed && this.name) return this.name;else if (this.value === undefined) return this.name;else return this.value;
  	},

  	getValue: function () {
  		return this.fragment.getValue();
  	},

  	rebind: function (oldKeypath, newKeypath) {
  		// named partials aren't bound, so don't rebind
  		if (!this.isNamed) {
  			Mustache_rebind.call(this, oldKeypath, newKeypath);
  		}

  		if (this.fragment) {
  			this.fragment.rebind(oldKeypath, newKeypath);
  		}
  	},

  	render: function () {
  		this.docFrag = document.createDocumentFragment();
  		this.update();

  		this.rendered = true;
  		return this.docFrag;
  	},

  	resolve: Mustache.resolve,

  	setValue: function (value) {
  		var template;

  		if (value !== undefined && value === this.value) {
  			// nothing has changed, so no work to be done
  			return;
  		}

  		if (value !== undefined) {
  			template = Partial_getPartialTemplate(this.root, "" + value, this.parentFragment);
  		}

  		// we may be here if we have a partial like `{{>foo}}` and `foo` is the
  		// name of both a data property (whose value ISN'T the name of a partial)
  		// and a partial. In those cases, this becomes a named partial
  		if (!template && this.name && (template = Partial_getPartialTemplate(this.root, this.name, this.parentFragment))) {
  			shared_unbind.call(this);
  			this.isNamed = true;
  		}

  		if (!template) {
  			warnOnceIfDebug(missingPartialMessage, this.name, { ractive: this.root });
  		}

  		this.value = value;

  		this.setTemplate(template || []);

  		this.bubble();

  		if (this.rendered) {
  			global_runloop.addView(this);
  		}
  	},

  	setTemplate: function (template) {
  		if (this.fragment) {
  			this.fragment.unbind();
  			if (this.rendered) {
  				this.fragmentToUnrender = this.fragment;
  			}
  		}

  		this.fragment = new virtualdom_Fragment({
  			template: template,
  			root: this.root,
  			owner: this,
  			pElement: this.parentFragment.pElement
  		});

  		this.fragmentToRender = this.fragment;
  	},

  	toString: function (toString) {
  		var string, previousItem, lastLine, match;

  		string = this.fragment.toString(toString);

  		previousItem = this.parentFragment.items[this.index - 1];

  		if (!previousItem || previousItem.type !== TEXT) {
  			return string;
  		}

  		lastLine = previousItem.text.split("\n").pop();

  		if (match = /^\s+$/.exec(lastLine)) {
  			return applyIndent(string, match[0]);
  		}

  		return string;
  	},

  	unbind: function () {
  		if (!this.isNamed) {
  			// dynamic partial - need to unbind self
  			shared_unbind.call(this);
  		}

  		if (this.fragment) {
  			this.fragment.unbind();
  		}
  	},

  	unrender: function (shouldDestroy) {
  		if (this.rendered) {
  			if (this.fragment) {
  				this.fragment.unrender(shouldDestroy);
  			}
  			this.rendered = false;
  		}
  	},

  	update: function () {
  		var target, anchor;

  		if (this.fragmentToUnrender) {
  			this.fragmentToUnrender.unrender(true);
  			this.fragmentToUnrender = null;
  		}

  		if (this.fragmentToRender) {
  			this.docFrag.appendChild(this.fragmentToRender.render());
  			this.fragmentToRender = null;
  		}

  		if (this.rendered) {
  			target = this.parentFragment.getNode();
  			anchor = this.parentFragment.findNextNode(this);
  			target.insertBefore(this.docFrag, anchor);
  		}
  	}
  };

  var _Partial = Partial;

  // finds the component constructor in the registry or view hierarchy registries

  var Component_getComponent = getComponent;
  function getComponent(ractive, name) {

  	var Component,
  	    instance = findInstance("components", ractive, name);

  	if (instance) {
  		Component = instance.components[name];

  		// best test we have for not Ractive.extend
  		if (!Component._Parent) {
  			// function option, execute and store for reset
  			var fn = Component.bind(instance);
  			fn.isOwner = instance.components.hasOwnProperty(name);
  			Component = fn();

  			if (!Component) {
  				warnIfDebug(noRegistryFunctionReturn, name, "component", "component", { ractive: ractive });

  				return;
  			}

  			if (typeof Component === "string") {
  				// allow string lookup
  				Component = getComponent(ractive, Component);
  			}

  			Component._fn = fn;
  			instance.components[name] = Component;
  		}
  	}

  	return Component;
  }

  var Component_prototype_detach = Component$detach;
  var Component_prototype_detach__detachHook = new hooks_Hook("detach");
  function Component$detach() {
  	var detached = this.instance.fragment.detach();
  	Component_prototype_detach__detachHook.fire(this.instance);
  	return detached;
  }

  var Component_prototype_find = Component$find;

  function Component$find(selector) {
  	return this.instance.fragment.find(selector);
  }

  var Component_prototype_findAll = Component$findAll;

  function Component$findAll(selector, query) {
  	return this.instance.fragment.findAll(selector, query);
  }

  var Component_prototype_findAllComponents = Component$findAllComponents;

  function Component$findAllComponents(selector, query) {
  	query._test(this, true);

  	if (this.instance.fragment) {
  		this.instance.fragment.findAllComponents(selector, query);
  	}
  }

  var Component_prototype_findComponent = Component$findComponent;

  function Component$findComponent(selector) {
  	if (!selector || selector === this.name) {
  		return this.instance;
  	}

  	if (this.instance.fragment) {
  		return this.instance.fragment.findComponent(selector);
  	}

  	return null;
  }

  var Component_prototype_findNextNode = Component$findNextNode;

  function Component$findNextNode() {
  	return this.parentFragment.findNextNode(this);
  }

  var Component_prototype_firstNode = Component$firstNode;

  function Component$firstNode() {
  	if (this.rendered) {
  		return this.instance.fragment.firstNode();
  	}

  	return null;
  }

  var processWrapper = function (wrapper, array, methodName, newIndices) {
  	var root = wrapper.root;
  	var keypath = wrapper.keypath;

  	if (!!newIndices) {
  		root.viewmodel.smartUpdate(keypath, array, newIndices);
  	} else {
  		// If this is a sort or reverse, we just do root.set()...
  		// TODO use merge logic?
  		root.viewmodel.mark(keypath);
  	}
  };

  var patchedArrayProto = [],
      mutatorMethods = ["pop", "push", "reverse", "shift", "sort", "splice", "unshift"],
      testObj,
      patchArrayMethods,
      unpatchArrayMethods;

  mutatorMethods.forEach(function (methodName) {
  	var method = function () {
  		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
  			args[_key] = arguments[_key];
  		}

  		var newIndices, result, wrapper, i;

  		newIndices = shared_getNewIndices(this, methodName, args);

  		// apply the underlying method
  		result = Array.prototype[methodName].apply(this, arguments);

  		// trigger changes
  		global_runloop.start();

  		this._ractive.setting = true;
  		i = this._ractive.wrappers.length;
  		while (i--) {
  			wrapper = this._ractive.wrappers[i];

  			global_runloop.addRactive(wrapper.root);
  			processWrapper(wrapper, this, methodName, newIndices);
  		}

  		global_runloop.end();

  		this._ractive.setting = false;
  		return result;
  	};

  	defineProperty(patchedArrayProto, methodName, {
  		value: method
  	});
  });

  // can we use prototype chain injection?
  // http://perfectionkills.com/how-ecmascript-5-still-does-not-allow-to-subclass-an-array/#wrappers_prototype_chain_injection
  testObj = {};

  if (testObj.__proto__) {
  	// yes, we can
  	patchArrayMethods = function (array) {
  		array.__proto__ = patchedArrayProto;
  	};

  	unpatchArrayMethods = function (array) {
  		array.__proto__ = Array.prototype;
  	};
  } else {
  	// no, we can't
  	patchArrayMethods = function (array) {
  		var i, methodName;

  		i = mutatorMethods.length;
  		while (i--) {
  			methodName = mutatorMethods[i];
  			defineProperty(array, methodName, {
  				value: patchedArrayProto[methodName],
  				configurable: true
  			});
  		}
  	};

  	unpatchArrayMethods = function (array) {
  		var i;

  		i = mutatorMethods.length;
  		while (i--) {
  			delete array[mutatorMethods[i]];
  		}
  	};
  }

  patchArrayMethods.unpatch = unpatchArrayMethods;
  var patch = patchArrayMethods;

  var arrayAdaptor,

  // helpers
  ArrayWrapper, array_index__errorMessage;

  arrayAdaptor = {
  	filter: function (object) {
  		// wrap the array if a) b) it's an array, and b) either it hasn't been wrapped already,
  		// or the array didn't trigger the get() itself
  		return isArray(object) && (!object._ractive || !object._ractive.setting);
  	},
  	wrap: function (ractive, array, keypath) {
  		return new ArrayWrapper(ractive, array, keypath);
  	}
  };

  ArrayWrapper = function (ractive, array, keypath) {
  	this.root = ractive;
  	this.value = array;
  	this.keypath = getKeypath(keypath);

  	// if this array hasn't already been ractified, ractify it
  	if (!array._ractive) {

  		// define a non-enumerable _ractive property to store the wrappers
  		defineProperty(array, "_ractive", {
  			value: {
  				wrappers: [],
  				instances: [],
  				setting: false
  			},
  			configurable: true
  		});

  		patch(array);
  	}

  	// store the ractive instance, so we can handle transitions later
  	if (!array._ractive.instances[ractive._guid]) {
  		array._ractive.instances[ractive._guid] = 0;
  		array._ractive.instances.push(ractive);
  	}

  	array._ractive.instances[ractive._guid] += 1;
  	array._ractive.wrappers.push(this);
  };

  ArrayWrapper.prototype = {
  	get: function () {
  		return this.value;
  	},
  	teardown: function () {
  		var array, storage, wrappers, instances, index;

  		array = this.value;
  		storage = array._ractive;
  		wrappers = storage.wrappers;
  		instances = storage.instances;

  		// if teardown() was invoked because we're clearing the cache as a result of
  		// a change that the array itself triggered, we can save ourselves the teardown
  		// and immediate setup
  		if (storage.setting) {
  			return false; // so that we don't remove it from this.root.viewmodel.wrapped
  		}

  		index = wrappers.indexOf(this);
  		if (index === -1) {
  			throw new Error(array_index__errorMessage);
  		}

  		wrappers.splice(index, 1);

  		// if nothing else depends on this array, we can revert it to its
  		// natural state
  		if (!wrappers.length) {
  			delete array._ractive;
  			patch.unpatch(this.value);
  		} else {
  			// remove ractive instance if possible
  			instances[this.root._guid] -= 1;
  			if (!instances[this.root._guid]) {
  				index = instances.indexOf(this.root);

  				if (index === -1) {
  					throw new Error(array_index__errorMessage);
  				}

  				instances.splice(index, 1);
  			}
  		}
  	}
  };

  array_index__errorMessage = "Something went wrong in a rather interesting way";
  var array_index = arrayAdaptor;

  var numeric = /^\s*[0-9]+\s*$/;

  var createBranch = function (key) {
  	return numeric.test(key) ? [] : {};
  };

  var magicAdaptor, MagicWrapper;

  try {
  	Object.defineProperty({}, "test", { value: 0 });

  	magicAdaptor = {
  		filter: function (object, keypath, ractive) {
  			var parentWrapper, parentValue;

  			if (!keypath) {
  				return false;
  			}

  			keypath = getKeypath(keypath);

  			// If the parent value is a wrapper, other than a magic wrapper,
  			// we shouldn't wrap this property
  			if ((parentWrapper = ractive.viewmodel.wrapped[keypath.parent.str]) && !parentWrapper.magic) {
  				return false;
  			}

  			parentValue = ractive.viewmodel.get(keypath.parent);

  			// if parentValue is an array that doesn't include this member,
  			// we should return false otherwise lengths will get messed up
  			if (isArray(parentValue) && /^[0-9]+$/.test(keypath.lastKey)) {
  				return false;
  			}

  			return parentValue && (typeof parentValue === "object" || typeof parentValue === "function");
  		},
  		wrap: function (ractive, property, keypath) {
  			return new MagicWrapper(ractive, property, keypath);
  		}
  	};

  	MagicWrapper = function (ractive, value, keypath) {
  		var objKeypath, template, siblings;

  		keypath = getKeypath(keypath);

  		this.magic = true;

  		this.ractive = ractive;
  		this.keypath = keypath;
  		this.value = value;

  		this.prop = keypath.lastKey;

  		objKeypath = keypath.parent;
  		this.obj = objKeypath.isRoot ? ractive.viewmodel.data : ractive.viewmodel.get(objKeypath);

  		template = this.originalDescriptor = Object.getOwnPropertyDescriptor(this.obj, this.prop);

  		// Has this property already been wrapped?
  		if (template && template.set && (siblings = template.set._ractiveWrappers)) {

  			// Yes. Register this wrapper to this property, if it hasn't been already
  			if (siblings.indexOf(this) === -1) {
  				siblings.push(this);
  			}

  			return; // already wrapped
  		}

  		// No, it hasn't been wrapped
  		createAccessors(this, value, template);
  	};

  	MagicWrapper.prototype = {
  		get: function () {
  			return this.value;
  		},
  		reset: function (value) {
  			if (this.updating) {
  				return;
  			}

  			this.updating = true;
  			this.obj[this.prop] = value; // trigger set() accessor
  			global_runloop.addRactive(this.ractive);
  			this.ractive.viewmodel.mark(this.keypath, { keepExistingWrapper: true });
  			this.updating = false;
  			return true;
  		},
  		set: function (key, value) {
  			if (this.updating) {
  				return;
  			}

  			if (!this.obj[this.prop]) {
  				this.updating = true;
  				this.obj[this.prop] = createBranch(key);
  				this.updating = false;
  			}

  			this.obj[this.prop][key] = value;
  		},
  		teardown: function () {
  			var template, set, value, wrappers, index;

  			// If this method was called because the cache was being cleared as a
  			// result of a set()/update() call made by this wrapper, we return false
  			// so that it doesn't get torn down
  			if (this.updating) {
  				return false;
  			}

  			template = Object.getOwnPropertyDescriptor(this.obj, this.prop);
  			set = template && template.set;

  			if (!set) {
  				// most likely, this was an array member that was spliced out
  				return;
  			}

  			wrappers = set._ractiveWrappers;

  			index = wrappers.indexOf(this);
  			if (index !== -1) {
  				wrappers.splice(index, 1);
  			}

  			// Last one out, turn off the lights
  			if (!wrappers.length) {
  				value = this.obj[this.prop];

  				Object.defineProperty(this.obj, this.prop, this.originalDescriptor || {
  					writable: true,
  					enumerable: true,
  					configurable: true
  				});

  				this.obj[this.prop] = value;
  			}
  		}
  	};
  } catch (err) {
  	magicAdaptor = false; // no magic in this browser
  }

  var adaptors_magic = magicAdaptor;

  function createAccessors(originalWrapper, value, template) {

  	var object, property, oldGet, oldSet, get, set;

  	object = originalWrapper.obj;
  	property = originalWrapper.prop;

  	// Is this template configurable?
  	if (template && !template.configurable) {
  		// Special case - array length
  		if (property === "length") {
  			return;
  		}

  		throw new Error("Cannot use magic mode with property \"" + property + "\" - object is not configurable");
  	}

  	// Time to wrap this property
  	if (template) {
  		oldGet = template.get;
  		oldSet = template.set;
  	}

  	get = oldGet || function () {
  		return value;
  	};

  	set = function (v) {
  		if (oldSet) {
  			oldSet(v);
  		}

  		value = oldGet ? oldGet() : v;
  		set._ractiveWrappers.forEach(updateWrapper);
  	};

  	function updateWrapper(wrapper) {
  		var keypath, ractive;

  		wrapper.value = value;

  		if (wrapper.updating) {
  			return;
  		}

  		ractive = wrapper.ractive;
  		keypath = wrapper.keypath;

  		wrapper.updating = true;
  		global_runloop.start(ractive);

  		ractive.viewmodel.mark(keypath);

  		global_runloop.end();
  		wrapper.updating = false;
  	}

  	// Create an array of wrappers, in case other keypaths/ractives depend on this property.
  	// Handily, we can store them as a property of the set function. Yay JavaScript.
  	set._ractiveWrappers = [originalWrapper];
  	Object.defineProperty(object, property, { get: get, set: set, enumerable: true, configurable: true });
  }

  var magicArrayAdaptor, MagicArrayWrapper;

  if (adaptors_magic) {
  	magicArrayAdaptor = {
  		filter: function (object, keypath, ractive) {
  			return adaptors_magic.filter(object, keypath, ractive) && array_index.filter(object);
  		},

  		wrap: function (ractive, array, keypath) {
  			return new MagicArrayWrapper(ractive, array, keypath);
  		}
  	};

  	MagicArrayWrapper = function (ractive, array, keypath) {
  		this.value = array;

  		this.magic = true;

  		this.magicWrapper = adaptors_magic.wrap(ractive, array, keypath);
  		this.arrayWrapper = array_index.wrap(ractive, array, keypath);
  	};

  	MagicArrayWrapper.prototype = {
  		get: function () {
  			return this.value;
  		},
  		teardown: function () {
  			this.arrayWrapper.teardown();
  			this.magicWrapper.teardown();
  		},
  		reset: function (value) {
  			return this.magicWrapper.reset(value);
  		}
  	};
  }

  var magicArray = magicArrayAdaptor;

  var prototype_adapt = Viewmodel$adapt;

  var prefixers = {};
  function Viewmodel$adapt(keypath, value) {
  	var len, i, adaptor, wrapped;

  	if (!this.adaptors) return;

  	// Do we have an adaptor for this value?
  	len = this.adaptors.length;
  	for (i = 0; i < len; i += 1) {
  		adaptor = this.adaptors[i];

  		if (adaptor.filter(value, keypath, this.ractive)) {
  			wrapped = this.wrapped[keypath] = adaptor.wrap(this.ractive, value, keypath, getPrefixer(keypath));
  			wrapped.value = value;
  			return;
  		}
  	}
  }

  function prefixKeypath(obj, prefix) {
  	var prefixed = {},
  	    key;

  	if (!prefix) {
  		return obj;
  	}

  	prefix += ".";

  	for (key in obj) {
  		if (obj.hasOwnProperty(key)) {
  			prefixed[prefix + key] = obj[key];
  		}
  	}

  	return prefixed;
  }

  function getPrefixer(rootKeypath) {
  	var rootDot;

  	if (!prefixers[rootKeypath]) {
  		rootDot = rootKeypath ? rootKeypath + "." : "";

  		prefixers[rootKeypath] = function (relativeKeypath, value) {
  			var obj;

  			if (typeof relativeKeypath === "string") {
  				obj = {};
  				obj[rootDot + relativeKeypath] = value;
  				return obj;
  			}

  			if (typeof relativeKeypath === "object") {
  				// 'relativeKeypath' is in fact a hash, not a keypath
  				return rootDot ? prefixKeypath(relativeKeypath, rootKeypath) : relativeKeypath;
  			}
  		};
  	}

  	return prefixers[rootKeypath];
  }

  // TEMP

  var helpers_getUpstreamChanges = getUpstreamChanges;
  function getUpstreamChanges(changes) {
  	var upstreamChanges = [rootKeypath],
  	    i,
  	    keypath;

  	i = changes.length;
  	while (i--) {
  		keypath = changes[i].parent;

  		while (keypath && !keypath.isRoot) {
  			if (changes.indexOf(keypath) === -1) {
  				addToArray(upstreamChanges, keypath);
  			}
  			keypath = keypath.parent;
  		}
  	}

  	return upstreamChanges;
  }

  var applyChanges_notifyPatternObservers = notifyPatternObservers;

  function notifyPatternObservers(viewmodel, keypath, onlyDirect) {
  	var potentialWildcardMatches;

  	updateMatchingPatternObservers(viewmodel, keypath);

  	if (onlyDirect) {
  		return;
  	}

  	potentialWildcardMatches = keypath.wildcardMatches();
  	potentialWildcardMatches.forEach(function (upstreamPattern) {
  		cascade(viewmodel, upstreamPattern, keypath);
  	});
  }

  function cascade(viewmodel, upstreamPattern, keypath) {
  	var group, map, actualChildKeypath;

  	// TODO should be one or the other
  	upstreamPattern = upstreamPattern.str || upstreamPattern;

  	group = viewmodel.depsMap.patternObservers;
  	map = group && group[upstreamPattern];

  	if (!map) {
  		return;
  	}

  	map.forEach(function (childKeypath) {
  		actualChildKeypath = keypath.join(childKeypath.lastKey); // 'foo.bar.baz'

  		updateMatchingPatternObservers(viewmodel, actualChildKeypath);
  		cascade(viewmodel, childKeypath, actualChildKeypath);
  	});
  }

  function updateMatchingPatternObservers(viewmodel, keypath) {
  	viewmodel.patternObservers.forEach(function (observer) {
  		if (observer.regex.test(keypath.str)) {
  			observer.update(keypath);
  		}
  	});
  }

  var applyChanges = Viewmodel$applyChanges;

  function Viewmodel$applyChanges() {
  	var _this = this;

  	var self = this,
  	    changes,
  	    upstreamChanges,
  	    hash = {},
  	    bindings;

  	changes = this.changes;

  	if (!changes.length) {
  		// TODO we end up here on initial render. Perhaps we shouldn't?
  		return;
  	}

  	function invalidateComputation(computation) {
  		var key = computation.key;

  		if (computation.viewmodel === self) {
  			self.clearCache(key.str);
  			computation.invalidate();

  			changes.push(key);
  			cascade(key);
  		} else {
  			computation.viewmodel.mark(key);
  		}
  	}

  	function cascade(keypath) {
  		var map, computations;

  		if (self.noCascade.hasOwnProperty(keypath.str)) {
  			return;
  		}

  		if (computations = self.deps.computed[keypath.str]) {
  			computations.forEach(invalidateComputation);
  		}

  		if (map = self.depsMap.computed[keypath.str]) {
  			map.forEach(cascade);
  		}
  	}

  	changes.slice().forEach(cascade);

  	upstreamChanges = helpers_getUpstreamChanges(changes);
  	upstreamChanges.forEach(function (keypath) {
  		var computations;

  		// make sure we haven't already been down this particular keypath in this turn
  		if (changes.indexOf(keypath) === -1 && (computations = self.deps.computed[keypath.str])) {
  			computations.forEach(invalidateComputation);
  		}
  	});

  	this.changes = [];

  	// Pattern observers are a weird special case
  	if (this.patternObservers.length) {
  		upstreamChanges.forEach(function (keypath) {
  			return applyChanges_notifyPatternObservers(_this, keypath, true);
  		});
  		changes.forEach(function (keypath) {
  			return applyChanges_notifyPatternObservers(_this, keypath);
  		});
  	}

  	if (this.deps.observers) {
  		upstreamChanges.forEach(function (keypath) {
  			return notifyUpstreamDependants(_this, null, keypath, "observers");
  		});
  		notifyAllDependants(this, changes, "observers");
  	}

  	if (this.deps["default"]) {
  		bindings = [];
  		upstreamChanges.forEach(function (keypath) {
  			return notifyUpstreamDependants(_this, bindings, keypath, "default");
  		});

  		if (bindings.length) {
  			notifyBindings(this, bindings, changes);
  		}

  		notifyAllDependants(this, changes, "default");
  	}

  	// Return a hash of keypaths to updated values
  	changes.forEach(function (keypath) {
  		hash[keypath.str] = _this.get(keypath);
  	});

  	this.implicitChanges = {};
  	this.noCascade = {};

  	return hash;
  }

  function notifyUpstreamDependants(viewmodel, bindings, keypath, groupName) {
  	var dependants, value;

  	if (dependants = findDependants(viewmodel, keypath, groupName)) {
  		value = viewmodel.get(keypath);

  		dependants.forEach(function (d) {
  			// don't "set" the parent value, refine it
  			// i.e. not data = value, but data[foo] = fooValue
  			if (bindings && d.refineValue) {
  				bindings.push(d);
  			} else {
  				d.setValue(value);
  			}
  		});
  	}
  }

  function notifyBindings(viewmodel, bindings, changes) {

  	bindings.forEach(function (binding) {
  		var useSet = false,
  		    i = 0,
  		    length = changes.length,
  		    refinements = [];

  		while (i < length) {
  			var keypath = changes[i];

  			if (keypath === binding.keypath) {
  				useSet = true;
  				break;
  			}

  			if (keypath.slice(0, binding.keypath.length) === binding.keypath) {
  				refinements.push(keypath);
  			}

  			i++;
  		}

  		if (useSet) {
  			binding.setValue(viewmodel.get(binding.keypath));
  		}

  		if (refinements.length) {
  			binding.refineValue(refinements);
  		}
  	});
  }

  function notifyAllDependants(viewmodel, keypaths, groupName) {
  	var queue = [];

  	addKeypaths(keypaths);
  	queue.forEach(dispatch);

  	function addKeypaths(keypaths) {
  		keypaths.forEach(addKeypath);
  		keypaths.forEach(cascade);
  	}

  	function addKeypath(keypath) {
  		var deps = findDependants(viewmodel, keypath, groupName);

  		if (deps) {
  			queue.push({
  				keypath: keypath,
  				deps: deps
  			});
  		}
  	}

  	function cascade(keypath) {
  		var childDeps;

  		if (childDeps = viewmodel.depsMap[groupName][keypath.str]) {
  			addKeypaths(childDeps);
  		}
  	}

  	function dispatch(set) {
  		var value = viewmodel.get(set.keypath);
  		set.deps.forEach(function (d) {
  			return d.setValue(value);
  		});
  	}
  }

  function findDependants(viewmodel, keypath, groupName) {
  	var group = viewmodel.deps[groupName];
  	return group ? group[keypath.str] : null;
  }

  var capture = Viewmodel$capture;

  function Viewmodel$capture() {
  	this.captureGroups.push([]);
  }

  var clearCache = Viewmodel$clearCache;

  function Viewmodel$clearCache(keypath, keepExistingWrapper) {
  	var cacheMap, wrapper;

  	if (!keepExistingWrapper) {
  		// Is there a wrapped property at this keypath?
  		if (wrapper = this.wrapped[keypath]) {
  			// Did we unwrap it?
  			if (wrapper.teardown() !== false) {
  				// Is this right?
  				// What's the meaning of returning false from teardown?
  				// Could there be a GC ramification if this is a "real" ractive.teardown()?
  				this.wrapped[keypath] = null;
  			}
  		}
  	}

  	this.cache[keypath] = undefined;

  	if (cacheMap = this.cacheMap[keypath]) {
  		while (cacheMap.length) {
  			this.clearCache(cacheMap.pop());
  		}
  	}
  }

  var UnresolvedDependency = function (computation, ref) {
  	this.computation = computation;
  	this.viewmodel = computation.viewmodel;
  	this.ref = ref;

  	// TODO this seems like a red flag!
  	this.root = this.viewmodel.ractive;
  	this.parentFragment = this.root.component && this.root.component.parentFragment;
  };

  UnresolvedDependency.prototype = {
  	resolve: function (keypath) {
  		this.computation.softDeps.push(keypath);
  		this.computation.unresolvedDeps[keypath.str] = null;
  		this.viewmodel.register(keypath, this.computation, "computed");
  	}
  };

  var Computation_UnresolvedDependency = UnresolvedDependency;

  var Computation = function (key, signature) {
  	this.key = key;

  	this.getter = signature.getter;
  	this.setter = signature.setter;

  	this.hardDeps = signature.deps || [];
  	this.softDeps = [];
  	this.unresolvedDeps = {};

  	this.depValues = {};

  	this._dirty = this._firstRun = true;
  };

  Computation.prototype = {
  	constructor: Computation,

  	init: function (viewmodel) {
  		var _this = this;

  		var initial;

  		this.viewmodel = viewmodel;
  		this.bypass = true;

  		initial = viewmodel.get(this.key);
  		viewmodel.clearCache(this.key.str);

  		this.bypass = false;

  		if (this.setter && initial !== undefined) {
  			this.set(initial);
  		}

  		if (this.hardDeps) {
  			this.hardDeps.forEach(function (d) {
  				return viewmodel.register(d, _this, "computed");
  			});
  		}
  	},

  	invalidate: function () {
  		this._dirty = true;
  	},

  	get: function () {
  		var _this = this;

  		var newDeps,
  		    dependenciesChanged,
  		    dependencyValuesChanged = false;

  		if (this.getting) {
  			// prevent double-computation (e.g. caused by array mutation inside computation)
  			var msg = "The " + this.key.str + " computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";
  			warnOnce(msg);
  			return this.value;
  		}

  		this.getting = true;

  		if (this._dirty) {
  			// determine whether the inputs have changed, in case this depends on
  			// other computed values
  			if (this._firstRun || !this.hardDeps.length && !this.softDeps.length) {
  				dependencyValuesChanged = true;
  			} else {
  				[this.hardDeps, this.softDeps].forEach(function (deps) {
  					var keypath, value, i;

  					if (dependencyValuesChanged) {
  						return;
  					}

  					i = deps.length;
  					while (i--) {
  						keypath = deps[i];
  						value = _this.viewmodel.get(keypath);

  						if (!isEqual(value, _this.depValues[keypath.str])) {
  							_this.depValues[keypath.str] = value;
  							dependencyValuesChanged = true;

  							return;
  						}
  					}
  				});
  			}

  			if (dependencyValuesChanged) {
  				this.viewmodel.capture();

  				try {
  					this.value = this.getter();
  				} catch (err) {
  					warnIfDebug("Failed to compute \"%s\"", this.key.str);
  					logIfDebug(err.stack || err);

  					this.value = void 0;
  				}

  				newDeps = this.viewmodel.release();
  				dependenciesChanged = this.updateDependencies(newDeps);

  				if (dependenciesChanged) {
  					[this.hardDeps, this.softDeps].forEach(function (deps) {
  						deps.forEach(function (keypath) {
  							_this.depValues[keypath.str] = _this.viewmodel.get(keypath);
  						});
  					});
  				}
  			}

  			this._dirty = false;
  		}

  		this.getting = this._firstRun = false;
  		return this.value;
  	},

  	set: function (value) {
  		if (this.setting) {
  			this.value = value;
  			return;
  		}

  		if (!this.setter) {
  			throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");
  		}

  		this.setter(value);
  	},

  	updateDependencies: function (newDeps) {
  		var i, oldDeps, keypath, dependenciesChanged, unresolved;

  		oldDeps = this.softDeps;

  		// remove dependencies that are no longer used
  		i = oldDeps.length;
  		while (i--) {
  			keypath = oldDeps[i];

  			if (newDeps.indexOf(keypath) === -1) {
  				dependenciesChanged = true;
  				this.viewmodel.unregister(keypath, this, "computed");
  			}
  		}

  		// create references for any new dependencies
  		i = newDeps.length;
  		while (i--) {
  			keypath = newDeps[i];

  			if (oldDeps.indexOf(keypath) === -1 && (!this.hardDeps || this.hardDeps.indexOf(keypath) === -1)) {
  				dependenciesChanged = true;

  				// if this keypath is currently unresolved, we need to mark
  				// it as such. TODO this is a bit muddy...
  				if (isUnresolved(this.viewmodel, keypath) && !this.unresolvedDeps[keypath.str]) {
  					unresolved = new Computation_UnresolvedDependency(this, keypath.str);
  					newDeps.splice(i, 1);

  					this.unresolvedDeps[keypath.str] = unresolved;
  					global_runloop.addUnresolved(unresolved);
  				} else {
  					this.viewmodel.register(keypath, this, "computed");
  				}
  			}
  		}

  		if (dependenciesChanged) {
  			this.softDeps = newDeps.slice();
  		}

  		return dependenciesChanged;
  	}
  };

  function isUnresolved(viewmodel, keypath) {
  	var key = keypath.firstKey;

  	return !(key in viewmodel.data) && !(key in viewmodel.computations) && !(key in viewmodel.mappings);
  }

  var Computation_Computation = Computation;

  var compute = Viewmodel$compute;
  function Viewmodel$compute(key, signature) {
  	var computation = new Computation_Computation(key, signature);

  	if (this.ready) {
  		computation.init(this);
  	}

  	return this.computations[key.str] = computation;
  }

  var FAILED_LOOKUP = { FAILED_LOOKUP: true };

  var viewmodel_prototype_get = Viewmodel$get;

  var viewmodel_prototype_get__empty = {};
  function Viewmodel$get(keypath, options) {
  	var cache = this.cache,
  	    value,
  	    computation,
  	    wrapped,
  	    captureGroup,
  	    keypathStr = keypath.str,
  	    key;

  	options = options || viewmodel_prototype_get__empty;

  	// capture the keypath, if we're inside a computation
  	if (options.capture && (captureGroup = lastItem(this.captureGroups))) {
  		if (! ~captureGroup.indexOf(keypath)) {
  			captureGroup.push(keypath);
  		}
  	}

  	if (hasOwn.call(this.mappings, keypath.firstKey)) {
  		return this.mappings[keypath.firstKey].get(keypath, options);
  	}

  	if (keypath.isSpecial) {
  		return keypath.value;
  	}

  	if (cache[keypathStr] === undefined) {

  		// Is this a computed property?
  		if ((computation = this.computations[keypathStr]) && !computation.bypass) {
  			value = computation.get();
  			this.adapt(keypathStr, value);
  		}

  		// Is this a wrapped property?
  		else if (wrapped = this.wrapped[keypathStr]) {
  			value = wrapped.value;
  		}

  		// Is it the root?
  		else if (keypath.isRoot) {
  			this.adapt("", this.data);
  			value = this.data;
  		}

  		// No? Then we need to retrieve the value one key at a time
  		else {
  			value = retrieve(this, keypath);
  		}

  		cache[keypathStr] = value;
  	} else {
  		value = cache[keypathStr];
  	}

  	if (!options.noUnwrap && (wrapped = this.wrapped[keypathStr])) {
  		value = wrapped.get();
  	}

  	if (keypath.isRoot && options.fullRootGet) {
  		for (key in this.mappings) {
  			value[key] = this.mappings[key].getValue();
  		}
  	}

  	return value === FAILED_LOOKUP ? void 0 : value;
  }

  function retrieve(viewmodel, keypath) {

  	var parentValue, cacheMap, value, wrapped;

  	parentValue = viewmodel.get(keypath.parent);

  	if (wrapped = viewmodel.wrapped[keypath.parent.str]) {
  		parentValue = wrapped.get();
  	}

  	if (parentValue === null || parentValue === undefined) {
  		return;
  	}

  	// update cache map
  	if (!(cacheMap = viewmodel.cacheMap[keypath.parent.str])) {
  		viewmodel.cacheMap[keypath.parent.str] = [keypath.str];
  	} else {
  		if (cacheMap.indexOf(keypath.str) === -1) {
  			cacheMap.push(keypath.str);
  		}
  	}

  	// If this property doesn't exist, we return a sentinel value
  	// so that we know to query parent scope (if such there be)
  	if (typeof parentValue === "object" && !(keypath.lastKey in parentValue)) {
  		return viewmodel.cache[keypath.str] = FAILED_LOOKUP;
  	}

  	value = parentValue[keypath.lastKey];

  	// Do we have an adaptor for this value?
  	viewmodel.adapt(keypath.str, value, false);

  	// Update cache
  	viewmodel.cache[keypath.str] = value;
  	return value;
  }

  var viewmodel_prototype_init = Viewmodel$init;

  function Viewmodel$init() {
  	var key;

  	for (key in this.computations) {
  		this.computations[key].init(this);
  	}
  }

  var prototype_map = Viewmodel$map;

  function Viewmodel$map(key, options) {
  	var mapping = this.mappings[key.str] = new Mapping(key, options);
  	mapping.initViewmodel(this);
  	return mapping;
  }

  var Mapping = function (localKey, options) {
  	this.localKey = localKey;
  	this.keypath = options.keypath;
  	this.origin = options.origin;

  	this.deps = [];
  	this.unresolved = [];

  	this.resolved = false;
  };

  Mapping.prototype = {
  	forceResolution: function () {
  		// TODO warn, as per #1692?
  		this.keypath = this.localKey;
  		this.setup();
  	},

  	get: function (keypath, options) {
  		if (!this.resolved) {
  			return undefined;
  		}
  		return this.origin.get(this.map(keypath), options);
  	},

  	getValue: function () {
  		if (!this.keypath) {
  			return undefined;
  		}
  		return this.origin.get(this.keypath);
  	},

  	initViewmodel: function (viewmodel) {
  		this.local = viewmodel;
  		this.setup();
  	},

  	map: function (keypath) {
  		if (typeof this.keypath === undefined) {
  			return this.localKey;
  		}
  		return keypath.replace(this.localKey, this.keypath);
  	},

  	register: function (keypath, dependant, group) {
  		this.deps.push({ keypath: keypath, dep: dependant, group: group });

  		if (this.resolved) {
  			this.origin.register(this.map(keypath), dependant, group);
  		}
  	},

  	resolve: function (keypath) {
  		if (this.keypath !== undefined) {
  			this.unbind(true);
  		}

  		this.keypath = keypath;
  		this.setup();
  	},

  	set: function (keypath, value) {
  		if (!this.resolved) {
  			this.forceResolution();
  		}

  		this.origin.set(this.map(keypath), value);
  	},

  	setup: function () {
  		var _this = this;

  		if (this.keypath === undefined) {
  			return;
  		}

  		this.resolved = true;

  		// accumulated dependants can now be registered
  		if (this.deps.length) {
  			this.deps.forEach(function (d) {
  				var keypath = _this.map(d.keypath);
  				_this.origin.register(keypath, d.dep, d.group);

  				// TODO this is a bit of a red flag... all deps should be the same?
  				if (d.dep.setValue) {
  					d.dep.setValue(_this.origin.get(keypath));
  				} else if (d.dep.invalidate) {
  					d.dep.invalidate();
  				} else {
  					throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");
  				}
  			});

  			this.origin.mark(this.keypath);
  		}
  	},

  	setValue: function (value) {
  		if (!this.keypath) {
  			throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");
  		}

  		this.origin.set(this.keypath, value);
  	},

  	unbind: function (keepLocal) {
  		var _this = this;

  		if (!keepLocal) {
  			delete this.local.mappings[this.localKey];
  		}

  		if (!this.resolved) {
  			return;
  		}

  		this.deps.forEach(function (d) {
  			_this.origin.unregister(_this.map(d.keypath), d.dep, d.group);
  		});

  		if (this.tracker) {
  			this.origin.unregister(this.keypath, this.tracker);
  		}
  	},

  	unregister: function (keypath, dependant, group) {
  		var deps, i;

  		if (!this.resolved) {
  			return;
  		}

  		deps = this.deps;
  		i = deps.length;

  		while (i--) {
  			if (deps[i].dep === dependant) {
  				deps.splice(i, 1);
  				break;
  			}
  		}
  		this.origin.unregister(this.map(keypath), dependant, group);
  	}
  };

  var mark = Viewmodel$mark;

  function Viewmodel$mark(keypath, options) {
  	var computation,
  	    keypathStr = keypath.str;

  	// implicit changes (i.e. `foo.length` on `ractive.push('foo',42)`)
  	// should not be picked up by pattern observers
  	if (options) {
  		if (options.implicit) {
  			this.implicitChanges[keypathStr] = true;
  		}
  		if (options.noCascade) {
  			this.noCascade[keypathStr] = true;
  		}
  	}

  	if (computation = this.computations[keypathStr]) {
  		computation.invalidate();
  	}

  	if (this.changes.indexOf(keypath) === -1) {
  		this.changes.push(keypath);
  	}

  	// pass on keepExistingWrapper, if we can
  	var keepExistingWrapper = options ? options.keepExistingWrapper : false;

  	this.clearCache(keypathStr, keepExistingWrapper);

  	if (this.ready) {
  		this.onchange();
  	}
  }

  var mapOldToNewIndex = function (oldArray, newArray) {
  	var usedIndices, firstUnusedIndex, newIndices, changed;

  	usedIndices = {};
  	firstUnusedIndex = 0;

  	newIndices = oldArray.map(function (item, i) {
  		var index, start, len;

  		start = firstUnusedIndex;
  		len = newArray.length;

  		do {
  			index = newArray.indexOf(item, start);

  			if (index === -1) {
  				changed = true;
  				return -1;
  			}

  			start = index + 1;
  		} while (usedIndices[index] && start < len);

  		// keep track of the first unused index, so we don't search
  		// the whole of newArray for each item in oldArray unnecessarily
  		if (index === firstUnusedIndex) {
  			firstUnusedIndex += 1;
  		}

  		if (index !== i) {
  			changed = true;
  		}

  		usedIndices[index] = true;
  		return index;
  	});

  	return newIndices;
  };

  var merge = Viewmodel$merge;

  var comparators = {};
  function Viewmodel$merge(keypath, currentArray, array, options) {
  	var oldArray, newArray, comparator, newIndices;

  	this.mark(keypath);

  	if (options && options.compare) {

  		comparator = getComparatorFunction(options.compare);

  		try {
  			oldArray = currentArray.map(comparator);
  			newArray = array.map(comparator);
  		} catch (err) {
  			// fallback to an identity check - worst case scenario we have
  			// to do more DOM manipulation than we thought...
  			warnIfDebug("merge(): \"%s\" comparison failed. Falling back to identity checking", keypath);

  			oldArray = currentArray;
  			newArray = array;
  		}
  	} else {
  		oldArray = currentArray;
  		newArray = array;
  	}

  	// find new indices for members of oldArray
  	newIndices = mapOldToNewIndex(oldArray, newArray);

  	this.smartUpdate(keypath, array, newIndices, currentArray.length !== array.length);
  }

  function stringify(item) {
  	return JSON.stringify(item);
  }

  function getComparatorFunction(comparator) {
  	// If `compare` is `true`, we use JSON.stringify to compare
  	// objects that are the same shape, but non-identical - i.e.
  	// { foo: 'bar' } !== { foo: 'bar' }
  	if (comparator === true) {
  		return stringify;
  	}

  	if (typeof comparator === "string") {
  		if (!comparators[comparator]) {
  			comparators[comparator] = function (item) {
  				return item[comparator];
  			};
  		}

  		return comparators[comparator];
  	}

  	if (typeof comparator === "function") {
  		return comparator;
  	}

  	throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)");
  }

  var register = Viewmodel$register;

  function Viewmodel$register(keypath, dependant) {
  	var group = arguments[2] === undefined ? "default" : arguments[2];

  	var mapping, depsByKeypath, deps;

  	if (dependant.isStatic) {
  		return; // TODO we should never get here if a dependant is static...
  	}

  	if (mapping = this.mappings[keypath.firstKey]) {
  		mapping.register(keypath, dependant, group);
  	} else {
  		depsByKeypath = this.deps[group] || (this.deps[group] = {});
  		deps = depsByKeypath[keypath.str] || (depsByKeypath[keypath.str] = []);

  		deps.push(dependant);

  		if (!this.depsMap[group]) {
  			this.depsMap[group] = {};
  		}

  		if (!keypath.isRoot) {
  			register__updateDependantsMap(this, keypath, group);
  		}
  	}
  }

  function register__updateDependantsMap(viewmodel, keypath, group) {
  	var map, parent, keypathStr;

  	// update dependants map
  	while (!keypath.isRoot) {
  		map = viewmodel.depsMap[group];
  		parent = map[keypath.parent.str] || (map[keypath.parent.str] = []);

  		keypathStr = keypath.str;

  		// TODO find an alternative to this nasty approach
  		if (parent["_" + keypathStr] === undefined) {
  			parent["_" + keypathStr] = 0;
  			parent.push(keypath);
  		}

  		parent["_" + keypathStr] += 1;
  		keypath = keypath.parent;
  	}
  }

  var release = Viewmodel$release;

  function Viewmodel$release() {
  	return this.captureGroups.pop();
  }

  var reset = Viewmodel$reset;

  function Viewmodel$reset(data) {
  	this.data = data;
  	this.clearCache("");
  }

  var prototype_set = Viewmodel$set;

  function Viewmodel$set(keypath, value) {
  	var options = arguments[2] === undefined ? {} : arguments[2];

  	var mapping, computation, wrapper, keepExistingWrapper;

  	// unless data is being set for data tracking purposes
  	if (!options.noMapping) {
  		// If this data belongs to a different viewmodel,
  		// pass the change along
  		if (mapping = this.mappings[keypath.firstKey]) {
  			return mapping.set(keypath, value);
  		}
  	}

  	computation = this.computations[keypath.str];
  	if (computation) {
  		if (computation.setting) {
  			// let the other computation set() handle things...
  			return;
  		}
  		computation.set(value);
  		value = computation.get();
  	}

  	if (isEqual(this.cache[keypath.str], value)) {
  		return;
  	}

  	wrapper = this.wrapped[keypath.str];

  	// If we have a wrapper with a `reset()` method, we try and use it. If the
  	// `reset()` method returns false, the wrapper should be torn down, and
  	// (most likely) a new one should be created later
  	if (wrapper && wrapper.reset) {
  		keepExistingWrapper = wrapper.reset(value) !== false;

  		if (keepExistingWrapper) {
  			value = wrapper.get();
  		}
  	}

  	if (!computation && !keepExistingWrapper) {
  		resolveSet(this, keypath, value);
  	}

  	if (!options.silent) {
  		this.mark(keypath);
  	} else {
  		// We're setting a parent of the original target keypath (i.e.
  		// creating a fresh branch) - we need to clear the cache, but
  		// not mark it as a change
  		this.clearCache(keypath.str);
  	}
  }

  function resolveSet(viewmodel, keypath, value) {
  	var wrapper, parentValue, wrapperSet, valueSet;

  	wrapperSet = function () {
  		if (wrapper.set) {
  			wrapper.set(keypath.lastKey, value);
  		} else {
  			parentValue = wrapper.get();
  			valueSet();
  		}
  	};

  	valueSet = function () {
  		if (!parentValue) {
  			parentValue = createBranch(keypath.lastKey);
  			viewmodel.set(keypath.parent, parentValue, { silent: true });
  		}
  		parentValue[keypath.lastKey] = value;
  	};

  	wrapper = viewmodel.wrapped[keypath.parent.str];

  	if (wrapper) {
  		wrapperSet();
  	} else {
  		parentValue = viewmodel.get(keypath.parent);

  		// may have been wrapped via the above .get()
  		// call on viewmodel if this is first access via .set()!
  		if (wrapper = viewmodel.wrapped[keypath.parent.str]) {
  			wrapperSet();
  		} else {
  			valueSet();
  		}
  	}
  }

  var smartUpdate = Viewmodel$smartUpdate;

  var implicitOption = { implicit: true },
      noCascadeOption = { noCascade: true };
  function Viewmodel$smartUpdate(keypath, array, newIndices) {
  	var _this = this;

  	var dependants, oldLength, i;

  	oldLength = newIndices.length;

  	// Indices that are being removed should be marked as dirty
  	newIndices.forEach(function (newIndex, oldIndex) {
  		if (newIndex === -1) {
  			_this.mark(keypath.join(oldIndex), noCascadeOption);
  		}
  	});

  	// Update the model
  	// TODO allow existing array to be updated in place, rather than replaced?
  	this.set(keypath, array, { silent: true });

  	if (dependants = this.deps["default"][keypath.str]) {
  		dependants.filter(canShuffle).forEach(function (d) {
  			return d.shuffle(newIndices, array);
  		});
  	}

  	if (oldLength !== array.length) {
  		this.mark(keypath.join("length"), implicitOption);

  		for (i = newIndices.touchedFrom; i < array.length; i += 1) {
  			this.mark(keypath.join(i));
  		}

  		// don't allow removed indexes beyond end of new array to trigger recomputations
  		// TODO is this still necessary, now that computations are lazy?
  		for (i = array.length; i < oldLength; i += 1) {
  			this.mark(keypath.join(i), noCascadeOption);
  		}
  	}
  }

  function canShuffle(dependant) {
  	return typeof dependant.shuffle === "function";
  }

  var prototype_teardown = Viewmodel$teardown;

  function Viewmodel$teardown() {
  	var _this = this;

  	var unresolvedImplicitDependency;

  	// Clear entire cache - this has the desired side-effect
  	// of unwrapping adapted values (e.g. arrays)
  	Object.keys(this.cache).forEach(function (keypath) {
  		return _this.clearCache(keypath);
  	});

  	// Teardown any failed lookups - we don't need them to resolve any more
  	while (unresolvedImplicitDependency = this.unresolvedImplicitDependencies.pop()) {
  		unresolvedImplicitDependency.teardown();
  	}
  }

  var unregister = Viewmodel$unregister;

  function Viewmodel$unregister(keypath, dependant) {
  	var group = arguments[2] === undefined ? "default" : arguments[2];

  	var mapping, deps, index;

  	if (dependant.isStatic) {
  		return;
  	}

  	if (mapping = this.mappings[keypath.firstKey]) {
  		return mapping.unregister(keypath, dependant, group);
  	}

  	deps = this.deps[group][keypath.str];
  	index = deps.indexOf(dependant);

  	if (index === -1) {
  		throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");
  	}

  	deps.splice(index, 1);

  	if (keypath.isRoot) {
  		return;
  	}

  	unregister__updateDependantsMap(this, keypath, group);
  }

  function unregister__updateDependantsMap(viewmodel, keypath, group) {
  	var map, parent;

  	// update dependants map
  	while (!keypath.isRoot) {
  		map = viewmodel.depsMap[group];
  		parent = map[keypath.parent.str];

  		parent["_" + keypath.str] -= 1;

  		if (!parent["_" + keypath.str]) {
  			// remove from parent deps map
  			removeFromArray(parent, keypath);
  			parent["_" + keypath.str] = undefined;
  		}

  		keypath = keypath.parent;
  	}
  }

  var Viewmodel = function (options) {
  	var adapt = options.adapt;
  	var data = options.data;
  	var ractive = options.ractive;
  	var computed = options.computed;
  	var mappings = options.mappings;
  	var key;
  	var mapping;

  	// TODO is it possible to remove this reference?
  	this.ractive = ractive;

  	this.adaptors = adapt;
  	this.onchange = options.onchange;

  	this.cache = {}; // we need to be able to use hasOwnProperty, so can't inherit from null
  	this.cacheMap = create(null);

  	this.deps = {
  		computed: create(null),
  		"default": create(null)
  	};
  	this.depsMap = {
  		computed: create(null),
  		"default": create(null)
  	};

  	this.patternObservers = [];

  	this.specials = create(null);

  	this.wrapped = create(null);
  	this.computations = create(null);

  	this.captureGroups = [];
  	this.unresolvedImplicitDependencies = [];

  	this.changes = [];
  	this.implicitChanges = {};
  	this.noCascade = {};

  	this.data = data;

  	// set up explicit mappings
  	this.mappings = create(null);
  	for (key in mappings) {
  		this.map(getKeypath(key), mappings[key]);
  	}

  	if (data) {
  		// if data exists locally, but is missing on the parent,
  		// we transfer ownership to the parent
  		for (key in data) {
  			if ((mapping = this.mappings[key]) && mapping.getValue() === undefined) {
  				mapping.setValue(data[key]);
  			}
  		}
  	}

  	for (key in computed) {
  		if (mappings && key in mappings) {
  			fatal("Cannot map to a computed property ('%s')", key);
  		}

  		this.compute(getKeypath(key), computed[key]);
  	}

  	this.ready = true;
  };

  Viewmodel.prototype = {
  	adapt: prototype_adapt,
  	applyChanges: applyChanges,
  	capture: capture,
  	clearCache: clearCache,
  	compute: compute,
  	get: viewmodel_prototype_get,
  	init: viewmodel_prototype_init,
  	map: prototype_map,
  	mark: mark,
  	merge: merge,
  	register: register,
  	release: release,
  	reset: reset,
  	set: prototype_set,
  	smartUpdate: smartUpdate,
  	teardown: prototype_teardown,
  	unregister: unregister
  };

  var viewmodel_Viewmodel = Viewmodel;

  function HookQueue(event) {
  	this.hook = new hooks_Hook(event);
  	this.inProcess = {};
  	this.queue = {};
  }

  HookQueue.prototype = {

  	constructor: HookQueue,

  	begin: function (ractive) {
  		this.inProcess[ractive._guid] = true;
  	},

  	end: function (ractive) {

  		var parent = ractive.parent;

  		// If this is *isn't* a child of a component that's in process,
  		// it should call methods or fire at this point
  		if (!parent || !this.inProcess[parent._guid]) {
  			fire(this, ractive);
  		}
  		// elsewise, handoff to parent to fire when ready
  		else {
  			getChildQueue(this.queue, parent).push(ractive);
  		}

  		delete this.inProcess[ractive._guid];
  	}
  };

  function getChildQueue(queue, ractive) {
  	return queue[ractive._guid] || (queue[ractive._guid] = []);
  }

  function fire(hookQueue, ractive) {

  	var childQueue = getChildQueue(hookQueue.queue, ractive);

  	hookQueue.hook.fire(ractive);

  	// queue is "live" because components can end up being
  	// added while hooks fire on parents that modify data values.
  	while (childQueue.length) {
  		fire(hookQueue, childQueue.shift());
  	}

  	delete hookQueue.queue[ractive._guid];
  }

  var hooks_HookQueue = HookQueue;

  var helpers_getComputationSignatures = getComputationSignatures;

  var pattern = /\$\{([^\}]+)\}/g;
  function getComputationSignatures(ractive, computed) {
  	var signatures = {},
  	    key;

  	for (key in computed) {
  		signatures[key] = getComputationSignature(ractive, key, computed[key]);
  	}

  	return signatures;
  }

  function getComputationSignature(ractive, key, signature) {
  	var getter, setter;

  	if (typeof signature === "function") {
  		getter = helpers_getComputationSignatures__bind(signature, ractive);
  	}

  	if (typeof signature === "string") {
  		getter = createFunctionFromString(ractive, signature);
  	}

  	if (typeof signature === "object") {
  		if (typeof signature.get === "string") {
  			getter = createFunctionFromString(ractive, signature.get);
  		} else if (typeof signature.get === "function") {
  			getter = helpers_getComputationSignatures__bind(signature.get, ractive);
  		} else {
  			fatal("`%s` computation must have a `get()` method", key);
  		}

  		if (typeof signature.set === "function") {
  			setter = helpers_getComputationSignatures__bind(signature.set, ractive);
  		}
  	}

  	return { getter: getter, setter: setter };
  }

  function createFunctionFromString(ractive, str) {
  	var functionBody, hasThis, fn;

  	functionBody = "return (" + str.replace(pattern, function (match, keypath) {
  		hasThis = true;
  		return "__ractive.get(\"" + keypath + "\")";
  	}) + ");";

  	if (hasThis) {
  		functionBody = "var __ractive = this; " + functionBody;
  	}

  	fn = new Function(functionBody);
  	return hasThis ? fn.bind(ractive) : fn;
  }

  function helpers_getComputationSignatures__bind(fn, context) {
  	return /this/.test(fn.toString()) ? fn.bind(context) : fn;
  }

  var constructHook = new hooks_Hook("construct");
  var configHook = new hooks_Hook("config");
  var initHook = new hooks_HookQueue("init");
  var initialise__uid = 0;

  var initialise__registryNames = ["adaptors", "components", "decorators", "easing", "events", "interpolators", "partials", "transitions"];

  var initialise = initialiseRactiveInstance;

  function initialiseRactiveInstance(ractive) {
  	var userOptions = arguments[1] === undefined ? {} : arguments[1];
  	var options = arguments[2] === undefined ? {} : arguments[2];

  	var el, viewmodel;

  	if (_Ractive.DEBUG) {
  		welcome();
  	}

  	initialiseProperties(ractive, options);

  	// TODO remove this, eventually
  	defineProperty(ractive, "data", { get: deprecateRactiveData });

  	// TODO don't allow `onconstruct` with `new Ractive()`, there's no need for it
  	constructHook.fire(ractive, userOptions);

  	// Add registries
  	initialise__registryNames.forEach(function (name) {
  		ractive[name] = utils_object__extend(create(ractive.constructor[name] || null), userOptions[name]);
  	});

  	// Create a viewmodel
  	viewmodel = new viewmodel_Viewmodel({
  		adapt: getAdaptors(ractive, ractive.adapt, userOptions),
  		data: custom_data.init(ractive.constructor, ractive, userOptions),
  		computed: helpers_getComputationSignatures(ractive, utils_object__extend(create(ractive.constructor.prototype.computed), userOptions.computed)),
  		mappings: options.mappings,
  		ractive: ractive,
  		onchange: function () {
  			return global_runloop.addRactive(ractive);
  		}
  	});

  	ractive.viewmodel = viewmodel;

  	// This can't happen earlier, because computed properties may call `ractive.get()`, etc
  	viewmodel.init();

  	// init config from Parent and options
  	config_config.init(ractive.constructor, ractive, userOptions);

  	configHook.fire(ractive);
  	initHook.begin(ractive);

  	// // If this is a component with a function `data` property, call the function
  	// // with `ractive` as context (unless the child was also a function)
  	// if ( typeof ractive.constructor.prototype.data === 'function' && typeof userOptions.data !== 'function' ) {
  	// 	viewmodel.reset( ractive.constructor.prototype.data.call( ractive ) || fatal( '`data` functions must return a data object' ) );
  	// }

  	// Render virtual DOM
  	if (ractive.template) {
  		var cssIds = undefined;

  		if (options.cssIds || ractive.cssId) {
  			cssIds = options.cssIds ? options.cssIds.slice() : [];

  			if (ractive.cssId) {
  				cssIds.push(ractive.cssId);
  			}
  		}

  		ractive.fragment = new virtualdom_Fragment({
  			template: ractive.template,
  			root: ractive,
  			owner: ractive, // saves doing `if ( this.parent ) { /*...*/ }` later on
  			cssIds: cssIds
  		});
  	}

  	initHook.end(ractive);

  	// render automatically ( if `el` is specified )
  	if (el = getElement(ractive.el)) {
  		var promise = ractive.render(el, ractive.append);

  		if (_Ractive.DEBUG_PROMISES) {
  			promise["catch"](function (err) {
  				warnOnceIfDebug("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;");
  				warnIfDebug("An error happened during rendering", { ractive: ractive });
  				err.stack && logIfDebug(err.stack);

  				throw err;
  			});
  		}
  	}
  }

  function getAdaptors(ractive, protoAdapt, userOptions) {
  	var adapt, magic, modifyArrays;

  	protoAdapt = protoAdapt.map(lookup);
  	adapt = ensureArray(userOptions.adapt).map(lookup);

  	adapt = initialise__combine(protoAdapt, adapt);

  	magic = "magic" in userOptions ? userOptions.magic : ractive.magic;
  	modifyArrays = "modifyArrays" in userOptions ? userOptions.modifyArrays : ractive.modifyArrays;

  	if (magic) {
  		if (!environment__magic) {
  			throw new Error("Getters and setters (magic mode) are not supported in this browser");
  		}

  		if (modifyArrays) {
  			adapt.push(magicArray);
  		}

  		adapt.push(adaptors_magic);
  	}

  	if (modifyArrays) {
  		adapt.push(array_index);
  	}

  	return adapt;

  	function lookup(adaptor) {
  		if (typeof adaptor === "string") {
  			adaptor = findInViewHierarchy("adaptors", ractive, adaptor);

  			if (!adaptor) {
  				fatal(missingPlugin(adaptor, "adaptor"));
  			}
  		}

  		return adaptor;
  	}
  }

  function initialise__combine(a, b) {
  	var c = a.slice(),
  	    i = b.length;

  	while (i--) {
  		if (! ~c.indexOf(b[i])) {
  			c.push(b[i]);
  		}
  	}

  	return c;
  }

  function initialiseProperties(ractive, options) {
  	// Generate a unique identifier, for places where you'd use a weak map if it
  	// existed
  	ractive._guid = "r-" + initialise__uid++;

  	// events
  	ractive._subs = create(null);

  	// storage for item configuration from instantiation to reset,
  	// like dynamic functions or original values
  	ractive._config = {};

  	// two-way bindings
  	ractive._twowayBindings = create(null);

  	// animations (so we can stop any in progress at teardown)
  	ractive._animations = [];

  	// nodes registry
  	ractive.nodes = {};

  	// live queries
  	ractive._liveQueries = [];
  	ractive._liveComponentQueries = [];

  	// bound data functions
  	ractive._boundFunctions = [];

  	// observers
  	ractive._observers = [];

  	// properties specific to inline components
  	if (options.component) {
  		ractive.parent = options.parent;
  		ractive.container = options.container || null;
  		ractive.root = ractive.parent.root;

  		ractive.component = options.component;
  		options.component.instance = ractive;

  		// for hackability, this could be an open option
  		// for any ractive instance, but for now, just
  		// for components and just for ractive...
  		ractive._inlinePartials = options.inlinePartials;
  	} else {
  		ractive.root = ractive;
  		ractive.parent = ractive.container = null;
  	}
  }

  function deprecateRactiveData() {
  	throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead");
  }

  function ComplexParameter(component, template, callback) {
  	this.parentFragment = component.parentFragment;
  	this.callback = callback;

  	this.fragment = new virtualdom_Fragment({
  		template: template,
  		root: component.root,
  		owner: this
  	});

  	this.update();
  }

  var initialise_ComplexParameter = ComplexParameter;

  ComplexParameter.prototype = {
  	bubble: function () {
  		if (!this.dirty) {
  			this.dirty = true;
  			global_runloop.addView(this);
  		}
  	},

  	update: function () {
  		this.callback(this.fragment.getValue());
  		this.dirty = false;
  	},

  	rebind: function (oldKeypath, newKeypath) {
  		this.fragment.rebind(oldKeypath, newKeypath);
  	},

  	unbind: function () {
  		this.fragment.unbind();
  	}
  };

  var createInstance = function (component, Component, attributes, yieldTemplate, partials) {
  	var instance,
  	    parentFragment,
  	    ractive,
  	    fragment,
  	    container,
  	    inlinePartials = {},
  	    data = {},
  	    mappings = {},
  	    ready,
  	    resolvers = [];

  	parentFragment = component.parentFragment;
  	ractive = component.root;

  	partials = partials || {};
  	utils_object__extend(inlinePartials, partials);

  	// Make contents available as a {{>content}} partial
  	partials.content = yieldTemplate || [];

  	// set a default partial for yields with no name
  	inlinePartials[""] = partials.content;

  	if (Component.defaults.el) {
  		warnIfDebug("The <%s/> component has a default `el` property; it has been disregarded", component.name);
  	}

  	// find container
  	fragment = parentFragment;
  	while (fragment) {
  		if (fragment.owner.type === YIELDER) {
  			container = fragment.owner.container;
  			break;
  		}

  		fragment = fragment.parent;
  	}

  	// each attribute represents either a) data or b) a mapping
  	if (attributes) {
  		Object.keys(attributes).forEach(function (key) {
  			var attribute = attributes[key],
  			    parsed,
  			    resolver;

  			if (typeof attribute === "string") {
  				// it's static data
  				parsed = parseJSON(attribute);
  				data[key] = parsed ? parsed.value : attribute;
  			} else if (attribute === 0) {
  				// it had no '=', so we'll call it true
  				data[key] = true;
  			} else if (isArray(attribute)) {
  				// this represents dynamic data
  				if (isSingleInterpolator(attribute)) {
  					mappings[key] = {
  						origin: component.root.viewmodel,
  						keypath: undefined
  					};

  					resolver = createResolver(component, attribute[0], function (keypath) {
  						if (keypath.isSpecial) {
  							if (ready) {
  								instance.set(key, keypath.value); // TODO use viewmodel?
  							} else {
  								data[key] = keypath.value;

  								// TODO errr.... would be better if we didn't have to do this
  								delete mappings[key];
  							}
  						} else {
  							if (ready) {
  								instance.viewmodel.mappings[key].resolve(keypath);
  							} else {
  								// resolved immediately
  								mappings[key].keypath = keypath;
  							}
  						}
  					});
  				} else {
  					resolver = new initialise_ComplexParameter(component, attribute, function (value) {
  						if (ready) {
  							instance.set(key, value); // TODO use viewmodel?
  						} else {
  							data[key] = value;
  						}
  					});
  				}

  				resolvers.push(resolver);
  			} else {
  				throw new Error("erm wut");
  			}
  		});
  	}

  	instance = create(Component.prototype);

  	initialise(instance, {
  		el: null,
  		append: true,
  		data: data,
  		partials: partials,
  		magic: ractive.magic || Component.defaults.magic,
  		modifyArrays: ractive.modifyArrays,
  		// need to inherit runtime parent adaptors
  		adapt: ractive.adapt
  	}, {
  		parent: ractive,
  		component: component,
  		container: container,
  		mappings: mappings,
  		inlinePartials: inlinePartials,
  		cssIds: parentFragment.cssIds
  	});

  	ready = true;
  	component.resolvers = resolvers;

  	return instance;
  };

  function createResolver(component, template, callback) {
  	var resolver;

  	if (template.r) {
  		resolver = Resolvers_createReferenceResolver(component, template.r, callback);
  	} else if (template.x) {
  		resolver = new Resolvers_ExpressionResolver(component, component.parentFragment, template.x, callback);
  	} else if (template.rx) {
  		resolver = new ReferenceExpressionResolver_ReferenceExpressionResolver(component, template.rx, callback);
  	}

  	return resolver;
  }

  function isSingleInterpolator(template) {
  	return template.length === 1 && template[0].t === INTERPOLATOR;
  }

  // TODO how should event arguments be handled? e.g.
  // <widget on-foo='bar:1,2,3'/>
  // The event 'bar' will be fired on the parent instance
  // when 'foo' fires on the child, but the 1,2,3 arguments
  // will be lost

  var initialise_propagateEvents = propagateEvents;

  function propagateEvents(component, eventsDescriptor) {
  	var eventName;

  	for (eventName in eventsDescriptor) {
  		if (eventsDescriptor.hasOwnProperty(eventName)) {
  			propagateEvent(component.instance, component.root, eventName, eventsDescriptor[eventName]);
  		}
  	}
  }

  function propagateEvent(childInstance, parentInstance, eventName, proxyEventName) {
  	if (typeof proxyEventName !== "string") {
  		fatal("Components currently only support simple events - you cannot include arguments. Sorry!");
  	}

  	childInstance.on(eventName, function () {
  		var event, args;

  		// semi-weak test, but what else? tag the event obj ._isEvent ?
  		if (arguments.length && arguments[0] && arguments[0].node) {
  			event = Array.prototype.shift.call(arguments);
  		}

  		args = Array.prototype.slice.call(arguments);

  		shared_fireEvent(parentInstance, proxyEventName, { event: event, args: args });

  		// cancel bubbling
  		return false;
  	});
  }

  var initialise_updateLiveQueries = function (component) {
  	var ancestor, query;

  	// If there's a live query for this component type, add it
  	ancestor = component.root;
  	while (ancestor) {
  		if (query = ancestor._liveComponentQueries["_" + component.name]) {
  			query.push(component.instance);
  		}

  		ancestor = ancestor.parent;
  	}
  };

  var Component_prototype_init = Component$init;
  function Component$init(options, Component) {
  	var parentFragment, root;

  	if (!Component) {
  		throw new Error("Component \"" + this.name + "\" not found");
  	}

  	parentFragment = this.parentFragment = options.parentFragment;
  	root = parentFragment.root;

  	this.root = root;
  	this.type = COMPONENT;
  	this.name = options.template.e;
  	this.index = options.index;
  	this.indexRefBindings = {};
  	this.yielders = {};
  	this.resolvers = [];

  	createInstance(this, Component, options.template.a, options.template.f, options.template.p);
  	initialise_propagateEvents(this, options.template.v);

  	// intro, outro and decorator directives have no effect
  	if (options.template.t0 || options.template.t1 || options.template.t2 || options.template.o) {
  		warnIfDebug("The \"intro\", \"outro\" and \"decorator\" directives have no effect on components", { ractive: this.instance });
  	}

  	initialise_updateLiveQueries(this);
  }

  var Component_prototype_rebind = Component$rebind;

  function Component$rebind(oldKeypath, newKeypath) {
  	var query;

  	this.resolvers.forEach(rebind);

  	for (var k in this.yielders) {
  		if (this.yielders[k][0]) {
  			rebind(this.yielders[k][0]);
  		}
  	}

  	if (query = this.root._liveComponentQueries["_" + this.name]) {
  		query._makeDirty();
  	}

  	function rebind(x) {
  		x.rebind(oldKeypath, newKeypath);
  	}
  }

  var Component_prototype_render = Component$render;

  function Component$render() {
  	var instance = this.instance;

  	instance.render(this.parentFragment.getNode());

  	this.rendered = true;
  	return instance.fragment.detach();
  }

  var Component_prototype_toString = Component$toString;

  function Component$toString() {
  	return this.instance.fragment.toString();
  }

  var Component_prototype_unbind = Component$unbind;

  var Component_prototype_unbind__teardownHook = new hooks_Hook("teardown");
  function Component$unbind() {
  	var instance = this.instance;

  	this.resolvers.forEach(methodCallers__unbind);

  	removeFromLiveComponentQueries(this);

  	instance._observers.forEach(cancel);

  	// teardown the instance
  	instance.fragment.unbind();
  	instance.viewmodel.teardown();

  	if (instance.fragment.rendered && instance.el.__ractive_instances__) {
  		removeFromArray(instance.el.__ractive_instances__, instance);
  	}

  	Component_prototype_unbind__teardownHook.fire(instance);
  }

  function removeFromLiveComponentQueries(component) {
  	var instance, query;

  	instance = component.root;

  	do {
  		if (query = instance._liveComponentQueries["_" + component.name]) {
  			query._remove(component);
  		}
  	} while (instance = instance.parent);
  }

  var Component_prototype_unrender = Component$unrender;

  function Component$unrender(shouldDestroy) {
  	this.shouldDestroy = shouldDestroy;
  	this.instance.unrender();
  }

  var Component = function (options, Constructor) {
  	this.init(options, Constructor);
  };

  Component.prototype = {
  	detach: Component_prototype_detach,
  	find: Component_prototype_find,
  	findAll: Component_prototype_findAll,
  	findAllComponents: Component_prototype_findAllComponents,
  	findComponent: Component_prototype_findComponent,
  	findNextNode: Component_prototype_findNextNode,
  	firstNode: Component_prototype_firstNode,
  	init: Component_prototype_init,
  	rebind: Component_prototype_rebind,
  	render: Component_prototype_render,
  	toString: Component_prototype_toString,
  	unbind: Component_prototype_unbind,
  	unrender: Component_prototype_unrender
  };

  var _Component = Component;

  var Comment = function (options) {
  	this.type = COMMENT;
  	this.value = options.template.c;
  };

  Comment.prototype = {
  	detach: shared_detach,

  	firstNode: function () {
  		return this.node;
  	},

  	render: function () {
  		if (!this.node) {
  			this.node = document.createComment(this.value);
  		}

  		return this.node;
  	},

  	toString: function () {
  		return "<!--" + this.value + "-->";
  	},

  	unrender: function (shouldDestroy) {
  		if (shouldDestroy) {
  			this.node.parentNode.removeChild(this.node);
  		}
  	}
  };

  var items_Comment = Comment;

  var Yielder = function (options) {
  	var container, component;

  	this.type = YIELDER;

  	this.container = container = options.parentFragment.root;
  	this.component = component = container.component;

  	this.container = container;
  	this.containerFragment = options.parentFragment;
  	this.parentFragment = component.parentFragment;

  	var name = this.name = options.template.n || "";

  	var template = container._inlinePartials[name];

  	if (!template) {
  		warnIfDebug("Could not find template for partial \"" + name + "\"", { ractive: options.root });
  		template = [];
  	}

  	this.fragment = new virtualdom_Fragment({
  		owner: this,
  		root: container.parent,
  		template: template,
  		pElement: this.containerFragment.pElement
  	});

  	// even though only one yielder is allowed, we need to have an array of them
  	// as it's possible to cause a yielder to be created before the last one
  	// was destroyed in the same turn of the runloop
  	if (!isArray(component.yielders[name])) {
  		component.yielders[name] = [this];
  	} else {
  		component.yielders[name].push(this);
  	}

  	global_runloop.scheduleTask(function () {
  		if (component.yielders[name].length > 1) {
  			throw new Error("A component template can only have one {{yield" + (name ? " " + name : "") + "}} declaration at a time");
  		}
  	});
  };

  Yielder.prototype = {
  	detach: function () {
  		return this.fragment.detach();
  	},

  	find: function (selector) {
  		return this.fragment.find(selector);
  	},

  	findAll: function (selector, query) {
  		return this.fragment.findAll(selector, query);
  	},

  	findComponent: function (selector) {
  		return this.fragment.findComponent(selector);
  	},

  	findAllComponents: function (selector, query) {
  		return this.fragment.findAllComponents(selector, query);
  	},

  	findNextNode: function () {
  		return this.containerFragment.findNextNode(this);
  	},

  	firstNode: function () {
  		return this.fragment.firstNode();
  	},

  	getValue: function (options) {
  		return this.fragment.getValue(options);
  	},

  	render: function () {
  		return this.fragment.render();
  	},

  	unbind: function () {
  		this.fragment.unbind();
  	},

  	unrender: function (shouldDestroy) {
  		this.fragment.unrender(shouldDestroy);
  		removeFromArray(this.component.yielders[this.name], this);
  	},

  	rebind: function (oldKeypath, newKeypath) {
  		this.fragment.rebind(oldKeypath, newKeypath);
  	},

  	toString: function () {
  		return this.fragment.toString();
  	}
  };

  var items_Yielder = Yielder;

  var Doctype = function (options) {
  	this.declaration = options.template.a;
  };

  Doctype.prototype = {
  	init: noop,
  	render: noop,
  	unrender: noop,
  	teardown: noop,
  	toString: function () {
  		return "<!DOCTYPE" + this.declaration + ">";
  	}
  };

  var items_Doctype = Doctype;

  var Fragment_prototype_init = Fragment$init;

  function Fragment$init(options) {
  	var _this = this;

  	this.owner = options.owner; // The item that owns this fragment - an element, section, partial, or attribute
  	this.parent = this.owner.parentFragment;

  	// inherited properties
  	this.root = options.root;
  	this.pElement = options.pElement;
  	this.context = options.context;
  	this.index = options.index;
  	this.key = options.key;
  	this.registeredIndexRefs = [];

  	// encapsulated styles should be inherited until they get applied by an element
  	this.cssIds = "cssIds" in options ? options.cssIds : this.parent ? this.parent.cssIds : null;

  	this.items = options.template.map(function (template, i) {
  		return createItem({
  			parentFragment: _this,
  			pElement: options.pElement,
  			template: template,
  			index: i
  		});
  	});

  	this.value = this.argsList = null;
  	this.dirtyArgs = this.dirtyValue = true;

  	this.bound = true;
  }

  function createItem(options) {
  	if (typeof options.template === "string") {
  		return new items_Text(options);
  	}

  	switch (options.template.t) {
  		case YIELDER:
  			return new items_Yielder(options);
  		case INTERPOLATOR:
  			return new items_Interpolator(options);
  		case SECTION:
  			return new _Section(options);
  		case TRIPLE:
  			return new _Triple(options);
  		case ELEMENT:
  			var constructor = undefined;
  			if (constructor = Component_getComponent(options.parentFragment.root, options.template.e)) {
  				return new _Component(options, constructor);
  			}
  			return new _Element(options);
  		case PARTIAL:
  			return new _Partial(options);
  		case COMMENT:
  			return new items_Comment(options);
  		case DOCTYPE:
  			return new items_Doctype(options);

  		default:
  			throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!");
  	}
  }

  var Fragment_prototype_rebind = Fragment$rebind;
  function Fragment$rebind(oldKeypath, newKeypath) {

  	// assign new context keypath if needed
  	if (!this.owner || this.owner.hasContext) {
  		assignNewKeypath(this, "context", oldKeypath, newKeypath);
  	}

  	this.items.forEach(function (item) {
  		if (item.rebind) {
  			item.rebind(oldKeypath, newKeypath);
  		}
  	});
  }

  var Fragment_prototype_render = Fragment$render;

  function Fragment$render() {
  	var result;

  	if (this.items.length === 1) {
  		result = this.items[0].render();
  	} else {
  		result = document.createDocumentFragment();

  		this.items.forEach(function (item) {
  			result.appendChild(item.render());
  		});
  	}

  	this.rendered = true;
  	return result;
  }

  var Fragment_prototype_toString = Fragment$toString;

  function Fragment$toString(escape) {
  	if (!this.items) {
  		return "";
  	}

  	return this.items.map(escape ? toEscapedString : Fragment_prototype_toString__toString).join("");
  }

  function Fragment_prototype_toString__toString(item) {
  	return item.toString();
  }

  function toEscapedString(item) {
  	return item.toString(true);
  }

  var Fragment_prototype_unbind = Fragment$unbind;

  function Fragment$unbind() {
  	if (!this.bound) {
  		return;
  	}

  	this.items.forEach(unbindItem);
  	this.bound = false;
  }

  function unbindItem(item) {
  	if (item.unbind) {
  		item.unbind();
  	}
  }

  var Fragment_prototype_unrender = Fragment$unrender;

  function Fragment$unrender(shouldDestroy) {
  	if (!this.rendered) {
  		throw new Error("Attempted to unrender a fragment that was not rendered");
  	}

  	this.items.forEach(function (i) {
  		return i.unrender(shouldDestroy);
  	});
  	this.rendered = false;
  }

  var Fragment = function (options) {
  	this.init(options);
  };

  Fragment.prototype = {
  	bubble: prototype_bubble,
  	detach: Fragment_prototype_detach,
  	find: Fragment_prototype_find,
  	findAll: Fragment_prototype_findAll,
  	findAllComponents: Fragment_prototype_findAllComponents,
  	findComponent: Fragment_prototype_findComponent,
  	findNextNode: prototype_findNextNode,
  	firstNode: prototype_firstNode,
  	getArgsList: getArgsList,
  	getNode: getNode,
  	getValue: prototype_getValue,
  	init: Fragment_prototype_init,
  	rebind: Fragment_prototype_rebind,
  	registerIndexRef: function (idx) {
  		var idxs = this.registeredIndexRefs;
  		if (idxs.indexOf(idx) === -1) {
  			idxs.push(idx);
  		}
  	},
  	render: Fragment_prototype_render,
  	toString: Fragment_prototype_toString,
  	unbind: Fragment_prototype_unbind,
  	unregisterIndexRef: function (idx) {
  		var idxs = this.registeredIndexRefs;
  		idxs.splice(idxs.indexOf(idx), 1);
  	},
  	unrender: Fragment_prototype_unrender
  };

  var virtualdom_Fragment = Fragment;

  var prototype_reset = Ractive$reset;
  var shouldRerender = ["template", "partials", "components", "decorators", "events"],
      resetHook = new hooks_Hook("reset");
  function Ractive$reset(data) {
  	var promise, wrapper, changes, i, rerender;

  	data = data || {};

  	if (typeof data !== "object") {
  		throw new Error("The reset method takes either no arguments, or an object containing new data");
  	}

  	// If the root object is wrapped, try and use the wrapper's reset value
  	if ((wrapper = this.viewmodel.wrapped[""]) && wrapper.reset) {
  		if (wrapper.reset(data) === false) {
  			// reset was rejected, we need to replace the object
  			this.viewmodel.reset(data);
  		}
  	} else {
  		this.viewmodel.reset(data);
  	}

  	// reset config items and track if need to rerender
  	changes = config_config.reset(this);

  	i = changes.length;
  	while (i--) {
  		if (shouldRerender.indexOf(changes[i]) > -1) {
  			rerender = true;
  			break;
  		}
  	}

  	if (rerender) {
  		var component = undefined;

  		this.viewmodel.mark(rootKeypath);

  		// Is this is a component, we need to set the `shouldDestroy`
  		// flag, otherwise it will assume by default that a parent node
  		// will be detached, and therefore it doesn't need to bother
  		// detaching its own nodes
  		if (component = this.component) {
  			component.shouldDestroy = true;
  		}

  		this.unrender();

  		if (component) {
  			component.shouldDestroy = false;
  		}

  		// If the template changed, we need to destroy the parallel DOM
  		// TODO if we're here, presumably it did?
  		if (this.fragment.template !== this.template) {
  			this.fragment.unbind();

  			this.fragment = new virtualdom_Fragment({
  				template: this.template,
  				root: this,
  				owner: this
  			});
  		}

  		promise = this.render(this.el, this.anchor);
  	} else {
  		promise = global_runloop.start(this, true);
  		this.viewmodel.mark(rootKeypath);
  		global_runloop.end();
  	}

  	resetHook.fire(this, data);

  	return promise;
  }

  var resetPartial = function (name, partial) {
  	var promise,
  	    collection = [];

  	function collect(source, dest, ractive) {
  		// if this is a component and it has its own partial, bail
  		if (ractive && ractive.partials[name]) return;

  		source.forEach(function (item) {
  			// queue to rerender if the item is a partial and the current name matches
  			if (item.type === PARTIAL && item.getPartialName() === name) {
  				dest.push(item);
  			}

  			// if it has a fragment, process its items
  			if (item.fragment) {
  				collect(item.fragment.items, dest, ractive);
  			}

  			// or if it has fragments
  			if (isArray(item.fragments)) {
  				collect(item.fragments, dest, ractive);
  			}

  			// or if it is itself a fragment, process its items
  			else if (isArray(item.items)) {
  				collect(item.items, dest, ractive);
  			}

  			// or if it is a component, step in and process its items
  			else if (item.type === COMPONENT && item.instance) {
  				collect(item.instance.fragment.items, dest, item.instance);
  			}

  			// if the item is an element, process its attributes too
  			if (item.type === ELEMENT) {
  				if (isArray(item.attributes)) {
  					collect(item.attributes, dest, ractive);
  				}

  				if (isArray(item.conditionalAttributes)) {
  					collect(item.conditionalAttributes, dest, ractive);
  				}
  			}
  		});
  	}

  	collect(this.fragment.items, collection);
  	this.partials[name] = partial;

  	promise = global_runloop.start(this, true);

  	collection.forEach(function (item) {
  		item.value = undefined;
  		item.setValue(name);
  	});

  	global_runloop.end();

  	return promise;
  };

  // TODO should resetTemplate be asynchronous? i.e. should it be a case
  // of outro, update template, intro? I reckon probably not, since that
  // could be achieved with unrender-resetTemplate-render. Also, it should
  // conceptually be similar to resetPartial, which couldn't be async

  var resetTemplate = Ractive$resetTemplate;
  function Ractive$resetTemplate(template) {
  	var transitionsEnabled, component;

  	template_template.init(null, this, { template: template });

  	transitionsEnabled = this.transitionsEnabled;
  	this.transitionsEnabled = false;

  	// Is this is a component, we need to set the `shouldDestroy`
  	// flag, otherwise it will assume by default that a parent node
  	// will be detached, and therefore it doesn't need to bother
  	// detaching its own nodes
  	if (component = this.component) {
  		component.shouldDestroy = true;
  	}

  	this.unrender();

  	if (component) {
  		component.shouldDestroy = false;
  	}

  	// remove existing fragment and create new one
  	this.fragment.unbind();
  	this.fragment = new virtualdom_Fragment({
  		template: this.template,
  		root: this,
  		owner: this
  	});

  	this.render(this.el, this.anchor);

  	this.transitionsEnabled = transitionsEnabled;
  }

  var reverse = makeArrayMethod("reverse");

  var Ractive_prototype_set = Ractive$set;

  function Ractive$set(keypath, value) {
  	var map, promise;

  	promise = global_runloop.start(this, true);

  	// Set multiple keypaths in one go
  	if (isObject(keypath)) {
  		map = keypath;

  		for (keypath in map) {
  			if (map.hasOwnProperty(keypath)) {
  				value = map[keypath];
  				set(this, keypath, value);
  			}
  		}
  	}

  	// Set a single keypath
  	else {
  		set(this, keypath, value);
  	}

  	global_runloop.end();

  	return promise;
  }

  function set(ractive, keypath, value) {
  	keypath = getKeypath(normalise(keypath));

  	if (keypath.isPattern) {
  		getMatchingKeypaths(ractive, keypath).forEach(function (keypath) {
  			ractive.viewmodel.set(keypath, value);
  		});
  	} else {
  		ractive.viewmodel.set(keypath, value);
  	}
  }

  var shift = makeArrayMethod("shift");

  var prototype_sort = makeArrayMethod("sort");

  var splice = makeArrayMethod("splice");

  var subtract = Ractive$subtract;
  function Ractive$subtract(keypath, d) {
  	return shared_add(this, keypath, d === undefined ? -1 : -d);
  }

  // Teardown. This goes through the root fragment and all its children, removing observers
  // and generally cleaning up after itself

  var Ractive_prototype_teardown = Ractive$teardown;

  var Ractive_prototype_teardown__teardownHook = new hooks_Hook("teardown");
  function Ractive$teardown() {
  	var promise;

  	this.fragment.unbind();
  	this.viewmodel.teardown();

  	this._observers.forEach(cancel);

  	if (this.fragment.rendered && this.el.__ractive_instances__) {
  		removeFromArray(this.el.__ractive_instances__, this);
  	}

  	this.shouldDestroy = true;
  	promise = this.fragment.rendered ? this.unrender() : utils_Promise.resolve();

  	Ractive_prototype_teardown__teardownHook.fire(this);

  	this._boundFunctions.forEach(deleteFunctionCopy);

  	return promise;
  }

  function deleteFunctionCopy(bound) {
  	delete bound.fn[bound.prop];
  }

  var toggle = Ractive$toggle;
  function Ractive$toggle(keypath) {
  	var _this = this;

  	if (typeof keypath !== "string") {
  		throw new TypeError(badArguments);
  	}

  	var changes = undefined;

  	if (/\*/.test(keypath)) {
  		changes = {};

  		getMatchingKeypaths(this, getKeypath(normalise(keypath))).forEach(function (keypath) {
  			changes[keypath.str] = !_this.viewmodel.get(keypath);
  		});

  		return this.set(changes);
  	}

  	return this.set(keypath, !this.get(keypath));
  }

  var toHTML = Ractive$toHTML;

  function Ractive$toHTML() {
  	return this.fragment.toString(true);
  }

  var Ractive_prototype_unrender = Ractive$unrender;
  var unrenderHook = new hooks_Hook("unrender");
  function Ractive$unrender() {
  	var promise, shouldDestroy;

  	if (!this.fragment.rendered) {
  		warnIfDebug("ractive.unrender() was called on a Ractive instance that was not rendered");
  		return utils_Promise.resolve();
  	}

  	promise = global_runloop.start(this, true);

  	// If this is a component, and the component isn't marked for destruction,
  	// don't detach nodes from the DOM unnecessarily
  	shouldDestroy = !this.component || this.component.shouldDestroy || this.shouldDestroy;

  	// Cancel any animations in progress
  	while (this._animations[0]) {
  		this._animations[0].stop(); // it will remove itself from the index
  	}

  	this.fragment.unrender(shouldDestroy);

  	removeFromArray(this.el.__ractive_instances__, this);

  	unrenderHook.fire(this);

  	global_runloop.end();
  	return promise;
  }

  var unshift = makeArrayMethod("unshift");

  var Ractive_prototype_update = Ractive$update;
  var updateHook = new hooks_Hook("update");
  function Ractive$update(keypath) {
  	var promise;

  	keypath = getKeypath(keypath) || rootKeypath;

  	promise = global_runloop.start(this, true);
  	this.viewmodel.mark(keypath);
  	global_runloop.end();

  	updateHook.fire(this, keypath);

  	return promise;
  }

  var prototype_updateModel = Ractive$updateModel;

  function Ractive$updateModel(keypath, cascade) {
  	var values, key, bindings;

  	if (typeof keypath === "string" && !cascade) {
  		bindings = this._twowayBindings[keypath];
  	} else {
  		bindings = [];

  		for (key in this._twowayBindings) {
  			if (!keypath || getKeypath(key).equalsOrStartsWith(keypath)) {
  				// TODO is this right?
  				bindings.push.apply(bindings, this._twowayBindings[key]);
  			}
  		}
  	}

  	values = consolidate(this, bindings);
  	return this.set(values);
  }

  function consolidate(ractive, bindings) {
  	var values = {},
  	    checkboxGroups = [];

  	bindings.forEach(function (b) {
  		var oldValue, newValue;

  		// special case - radio name bindings
  		if (b.radioName && !b.element.node.checked) {
  			return;
  		}

  		// special case - checkbox name bindings come in groups, so
  		// we want to get the value once at most
  		if (b.checkboxName) {
  			if (!checkboxGroups[b.keypath.str] && !b.changed()) {
  				checkboxGroups.push(b.keypath);
  				checkboxGroups[b.keypath.str] = b;
  			}

  			return;
  		}

  		oldValue = b.attribute.value;
  		newValue = b.getValue();

  		if (arrayContentsMatch(oldValue, newValue)) {
  			return;
  		}

  		if (!isEqual(oldValue, newValue)) {
  			values[b.keypath.str] = newValue;
  		}
  	});

  	// Handle groups of `<input type='checkbox' name='{{foo}}' ...>`
  	if (checkboxGroups.length) {
  		checkboxGroups.forEach(function (keypath) {
  			var binding, oldValue, newValue;

  			binding = checkboxGroups[keypath.str]; // one to represent the entire group
  			oldValue = binding.attribute.value;
  			newValue = binding.getValue();

  			if (!arrayContentsMatch(oldValue, newValue)) {
  				values[keypath.str] = newValue;
  			}
  		});
  	}

  	return values;
  }

  var prototype = {
  	add: prototype_add,
  	animate: prototype_animate,
  	detach: prototype_detach,
  	find: prototype_find,
  	findAll: prototype_findAll,
  	findAllComponents: prototype_findAllComponents,
  	findComponent: prototype_findComponent,
  	findContainer: findContainer,
  	findParent: findParent,
  	fire: prototype_fire,
  	get: prototype_get,
  	insert: insert,
  	merge: prototype_merge,
  	observe: observe,
  	observeOnce: observeOnce,
  	off: off,
  	on: on,
  	once: once,
  	pop: pop,
  	push: push,
  	render: prototype_render,
  	reset: prototype_reset,
  	resetPartial: resetPartial,
  	resetTemplate: resetTemplate,
  	reverse: reverse,
  	set: Ractive_prototype_set,
  	shift: shift,
  	sort: prototype_sort,
  	splice: splice,
  	subtract: subtract,
  	teardown: Ractive_prototype_teardown,
  	toggle: toggle,
  	toHTML: toHTML,
  	toHtml: toHTML,
  	unrender: Ractive_prototype_unrender,
  	unshift: unshift,
  	update: Ractive_prototype_update,
  	updateModel: prototype_updateModel
  };

  var wrapMethod = function (method, superMethod, force) {

  	if (force || needsSuper(method, superMethod)) {

  		return function () {

  			var hasSuper = ("_super" in this),
  			    _super = this._super,
  			    result;

  			this._super = superMethod;

  			result = method.apply(this, arguments);

  			if (hasSuper) {
  				this._super = _super;
  			}

  			return result;
  		};
  	} else {
  		return method;
  	}
  };

  function needsSuper(method, superMethod) {
  	return typeof superMethod === "function" && /_super/.test(method);
  }

  var unwrapExtended = unwrap;

  function unwrap(Child) {
  	var options = {};

  	while (Child) {
  		addRegistries(Child, options);
  		addOtherOptions(Child, options);

  		if (Child._Parent !== _Ractive) {
  			Child = Child._Parent;
  		} else {
  			Child = false;
  		}
  	}

  	return options;
  }

  function addRegistries(Child, options) {
  	config_registries.forEach(function (r) {
  		addRegistry(r.useDefaults ? Child.prototype : Child, options, r.name);
  	});
  }

  function addRegistry(target, options, name) {
  	var registry,
  	    keys = Object.keys(target[name]);

  	if (!keys.length) {
  		return;
  	}

  	if (!(registry = options[name])) {
  		registry = options[name] = {};
  	}

  	keys.filter(function (key) {
  		return !(key in registry);
  	}).forEach(function (key) {
  		return registry[key] = target[name][key];
  	});
  }

  function addOtherOptions(Child, options) {
  	Object.keys(Child.prototype).forEach(function (key) {
  		if (key === "computed") {
  			return;
  		}

  		var value = Child.prototype[key];

  		if (!(key in options)) {
  			options[key] = value._method ? value._method : value;
  		}

  		// is it a wrapped function?
  		else if (typeof options[key] === "function" && typeof value === "function" && options[key]._method) {

  			var result = undefined,
  			    needsSuper = value._method;

  			if (needsSuper) {
  				value = value._method;
  			}

  			// rewrap bound directly to parent fn
  			result = wrapMethod(options[key]._method, value);

  			if (needsSuper) {
  				result._method = result;
  			}

  			options[key] = result;
  		}
  	});
  }

  var _extend = _extend__extend;

  function _extend__extend() {
  	for (var _len = arguments.length, options = Array(_len), _key = 0; _key < _len; _key++) {
  		options[_key] = arguments[_key];
  	}

  	if (!options.length) {
  		return extendOne(this);
  	} else {
  		return options.reduce(extendOne, this);
  	}
  }

  function extendOne(Parent) {
  	var options = arguments[1] === undefined ? {} : arguments[1];

  	var Child, proto;

  	// if we're extending with another Ractive instance...
  	//
  	//   var Human = Ractive.extend(...), Spider = Ractive.extend(...);
  	//   var Spiderman = Human.extend( Spider );
  	//
  	// ...inherit prototype methods and default options as well
  	if (options.prototype instanceof _Ractive) {
  		options = unwrapExtended(options);
  	}

  	Child = function (options) {
  		if (!(this instanceof Child)) return new Child(options);
  		initialise(this, options);
  	};

  	proto = create(Parent.prototype);
  	proto.constructor = Child;

  	// Static properties
  	defineProperties(Child, {
  		// alias prototype as defaults
  		defaults: { value: proto },

  		// extendable
  		extend: { value: _extend__extend, writable: true, configurable: true },

  		// Parent - for IE8, can't use Object.getPrototypeOf
  		_Parent: { value: Parent }
  	});

  	// extend configuration
  	config_config.extend(Parent, proto, options);

  	custom_data.extend(Parent, proto, options);

  	if (options.computed) {
  		proto.computed = utils_object__extend(create(Parent.prototype.computed), options.computed);
  	}

  	Child.prototype = proto;

  	return Child;
  }

  var getNodeInfo = function (node) {
  	var info = {},
  	    priv,
  	    indices;

  	if (!node || !(priv = node._ractive)) {
  		return info;
  	}

  	info.ractive = priv.root;
  	info.keypath = priv.keypath.str;
  	info.index = {};

  	// find all index references and resolve them
  	if (indices = Resolvers_findIndexRefs(priv.proxy.parentFragment)) {
  		info.index = Resolvers_findIndexRefs.resolve(indices);
  	}

  	return info;
  };

  var Ractive, properties;

  // Main Ractive required object
  Ractive = function (options) {
  	if (!(this instanceof Ractive)) return new Ractive(options);
  	initialise(this, options);
  };

  // Ractive properties
  properties = {

  	// debug flag
  	DEBUG: { writable: true, value: true },
  	DEBUG_PROMISES: { writable: true, value: true },

  	// static methods:
  	extend: { value: _extend },
  	getNodeInfo: { value: getNodeInfo },
  	parse: { value: parse },

  	// Namespaced constructors
  	Promise: { value: utils_Promise },

  	// support
  	svg: { value: svg },
  	magic: { value: environment__magic },

  	// version
  	VERSION: { value: "0.7.3" },

  	// Plugins
  	adaptors: { writable: true, value: {} },
  	components: { writable: true, value: {} },
  	decorators: { writable: true, value: {} },
  	easing: { writable: true, value: static_easing },
  	events: { writable: true, value: {} },
  	interpolators: { writable: true, value: static_interpolators },
  	partials: { writable: true, value: {} },
  	transitions: { writable: true, value: {} }
  };

  // Ractive properties
  defineProperties(Ractive, properties);

  Ractive.prototype = utils_object__extend(prototype, config_defaults);

  Ractive.prototype.constructor = Ractive;

  // alias prototype as defaults
  Ractive.defaults = Ractive.prototype;

  // Ractive.js makes liberal use of things like Array.prototype.indexOf. In
  // older browsers, these are made available via a shim - here, we do a quick
  // pre-flight check to make sure that either a) we're not in a shit browser,
  // or b) we're using a Ractive-legacy.js build
  var FUNCTION = "function";

  if (typeof Date.now !== FUNCTION || typeof String.prototype.trim !== FUNCTION || typeof Object.keys !== FUNCTION || typeof Array.prototype.indexOf !== FUNCTION || typeof Array.prototype.forEach !== FUNCTION || typeof Array.prototype.map !== FUNCTION || typeof Array.prototype.filter !== FUNCTION || typeof window !== "undefined" && typeof window.addEventListener !== FUNCTION) {
  	throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");
  }

  var _Ractive = Ractive;

  return _Ractive;

}));


},{}],343:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  oninit: function oninit() {
    var _this = this;

    this.observe('value', function (newkey, oldkey, keypath) {
      var _get = _this.get(),
          min = _get.min,
          max = _get.max;

      var value = Math.clamp(min, max, newkey);
      _this.animate('percentage', Math.round((value - min) / (max - min) * 100));
    });
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[13,1,293],"t":7,"e":"div","a":{"class":"bar"},"f":[{"p":[14,3,313],"t":7,"e":"div","a":{"class":["barFill ",{"t":2,"r":"state","p":[14,23,333]}],"style":["width: ",{"t":2,"r":"percentage","p":[14,48,358]},"%"]}}," ",{"p":[15,3,384],"t":7,"e":"span","a":{"class":"barText"},"f":[{"t":16,"p":[15,25,406]}]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],344:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

var _constants = require('util/constants');

var _byond = require('util/byond');

component.exports = {
  computed: {
    clickable: function clickable() {
      if (this.get('enabled') && (!this.get('state') || this.get('state') == "toggle")) {
        return true;
      }
      return false;
    },
    enabled: function enabled() {
      if (this.get('config.status') === _constants.UI_INTERACTIVE) {
        return true;
      }
      return false;
    },
    styles: function styles() {
      var extra = '';
      if (this.get('class')) extra += ' ' + this.get('class');
      if (this.get('tooltip-side')) extra = ' tooltip-' + this.get('tooltip-side');
      if (this.get('grid')) extra += ' gridable';
      var state = this.get('state');
      var style = this.get('style');
      var active_class = this.get('enabled') ? 'active' : 'inactive';
      if (!state) {
        return active_class + ' normal ' + style + ' ' + extra;
      } else {
        return active_class + ' ' + state + ' ' + extra;
      }
    }
  },
  oninit: function oninit() {
    var _this = this;

    this.on('press', function (event) {
      var _get = _this.get(),
          action = _get.action,
          params = _get.params;

      (0, _byond.act)(_this.get('config.ref'), action, params);
      event.node.blur();
    });
  },

  data: {
    iconStackToHTML: function iconStackToHTML(icon_stack) {
      //turns a string such as 'square-o 2x, twitter 1x' into fully valid fontawesome syntax+HTML
      var resultHTML = '';
      var icons = icon_stack.split(',');
      if (icons.length) {
        resultHTML += '<span class=\"fa-stack\">';
        for (var _iterator = icons, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {
          var _ref;

          if (_isArray) {
            if (_i >= _iterator.length) break;
            _ref = _iterator[_i++];
          } else {
            _i = _iterator.next();
            if (_i.done) break;
            _ref = _i.value;
          }

          var iconinfo = _ref;

          var regex = /([\w\-]+)\s*(\dx)/g;
          var components = regex.exec(iconinfo);
          var icon = components[1]; //0 is the entire string
          var size = components[2];
          resultHTML += '<i class=\"fa fa-' + icon + ' fa-stack-' + size + '\"></i>';
        }
      }
      if (resultHTML) {
        resultHTML += '</span>';
      }
      return resultHTML;
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[67,1,1917],"t":7,"e":"span","a":{"class":["button ",{"t":2,"r":"styles","p":[67,21,1937]}],"unselectable":"on","data-tooltip":[{"t":2,"r":"tooltip","p":[70,17,2019]}]},"m":[{"t":4,"f":["tabindex='0'"],"r":"clickable","p":[69,3,1971]}],"v":{"mouseover-mousemove":"hover","mouseleave":"unhover","click-enter":{"n":[{"t":4,"f":["press"],"r":"clickable","p":[73,19,2109]}],"d":[]}},"f":[{"t":4,"f":[{"p":[75,5,2155],"t":7,"e":"i","a":{"class":["fa fa-",{"t":2,"r":"icon","p":[75,21,2171]}]}}],"n":50,"r":"icon","p":[74,3,2138]}," ",{"t":4,"f":[{"t":3,"x":{"r":["iconStackToHTML","icon_stack"],"s":"_0(_1)"},"p":[78,6,2222]}],"n":50,"r":"icon_stack","p":[77,3,2198]}," ",{"t":16,"p":[80,3,2268]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342,"util/byond":478,"util/constants":479}],345:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"div","a":{"class":"display"},"f":[{"t":4,"f":[{"p":[3,5,42],"t":7,"e":"header","f":[{"p":[4,7,57],"t":7,"e":"h3","f":[{"t":2,"r":"title","p":[4,11,61]}]}," ",{"t":4,"f":[{"p":[6,9,105],"t":7,"e":"div","a":{"class":"buttonRight"},"f":[{"t":16,"n":"button","p":[6,34,130]}]}],"n":50,"r":"button","p":[5,7,82]}]}],"n":50,"r":"title","p":[2,3,24]}," ",{"p":[10,3,193],"t":7,"e":"article","f":[{"t":16,"p":[11,5,207]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],346:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  oninit: function oninit() {
    var _this = this;

    this.on('clear', function () {
      _this.set('value', '');
      _this.find('input').focus();
    });
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[12,1,170],"t":7,"e":"input","a":{"type":"text","value":[{"t":2,"r":"value","p":[12,27,196]}],"placeholder":[{"t":2,"r":"placeholder","p":[12,51,220]}]}}," ",{"p":[13,1,240],"t":7,"e":"ui-button","a":{"icon":"refresh"},"v":{"press":"clear"}}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],347:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  data: {
    graph: require('paths-js/smooth-line'),
    xaccessor: function xaccessor(point) {
      return point.x;
    },
    yaccessor: function yaccessor(point) {
      return point.y;
    }
  },
  computed: {
    size: function size() {
      var points = this.get('points');
      return points[0].length;
    },
    scale: function scale() {
      var points = this.get('points');
      return Math.max.apply(Math, Array.map(points, function (a) {
        return Math.max.apply(Math, Array.map(a, function (p) {
          return p.y;
        }));
      }));
    },
    xaxis: function xaxis() {
      var xinc = this.get('xinc');
      var size = this.get('size');
      return Array.from(Array(size).keys()).filter(function (num) {
        return num && num % xinc == 0;
      });
    },
    yaxis: function yaxis() {
      var yinc = this.get('yinc');
      var scale = this.get('scale');
      return Array.from(Array(yinc).keys()).map(function (num) {
        return Math.round(scale * (++num / 100) * 10);
      });
    }
  },
  oninit: function oninit() {
    var _this = this;

    this.on({
      enter: function enter(event) {
        this.set('selected', event.index.count);
      },
      exit: function exit(event) {
        this.set('selected');
      }
    });
    window.addEventListener('resize', function (event) {
      _this.set('width', _this.el.clientWidth);
    });
  },
  onrender: function onrender() {
    this.set('width', this.el.clientWidth);
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[47,1,1269],"t":7,"e":"svg","a":{"class":"linegraph","width":"100%","height":[{"t":2,"x":{"r":["height"],"s":"_0+10"},"p":[47,45,1313]}]},"f":[{"p":[48,3,1334],"t":7,"e":"g","a":{"transform":"translate(0, 5)"},"f":[{"t":4,"f":[{"t":4,"f":[{"p":[51,9,1504],"t":7,"e":"line","a":{"x1":[{"t":2,"x":{"r":["xscale","."],"s":"_0(_1)"},"p":[51,19,1514]}],"x2":[{"t":2,"x":{"r":["xscale","."],"s":"_0(_1)"},"p":[51,38,1533]}],"y1":"0","y2":[{"t":2,"r":"height","p":[51,64,1559]}],"stroke":"darkgray"}}," ",{"t":4,"f":[{"p":[53,11,1635],"t":7,"e":"text","a":{"x":[{"t":2,"x":{"r":["xscale","."],"s":"_0(_1)"},"p":[53,20,1644]}],"y":[{"t":2,"x":{"r":["height"],"s":"_0-5"},"p":[53,38,1662]}],"text-anchor":"middle","fill":"white"},"f":[{"t":2,"x":{"r":["size",".","xfactor"],"s":"(_0-_1)*_2"},"p":[53,88,1712]}," ",{"t":2,"r":"xunit","p":[53,113,1737]}]}],"n":50,"x":{"r":["@index"],"s":"_0%2==0"},"p":[52,9,1600]}],"n":52,"r":"xaxis","p":[50,7,1479]}," ",{"t":4,"f":[{"p":[57,9,1820],"t":7,"e":"line","a":{"x1":"0","x2":[{"t":2,"r":"width","p":[57,26,1837]}],"y1":[{"t":2,"x":{"r":["yscale","."],"s":"_0(_1)"},"p":[57,41,1852]}],"y2":[{"t":2,"x":{"r":["yscale","."],"s":"_0(_1)"},"p":[57,60,1871]}],"stroke":"darkgray"}}," ",{"p":[58,9,1915],"t":7,"e":"text","a":{"x":"0","y":[{"t":2,"x":{"r":["yscale","."],"s":"_0(_1)-5"},"p":[58,24,1930]}],"text-anchor":"begin","fill":"white"},"f":[{"t":2,"x":{"r":[".","yfactor"],"s":"_0*_1"},"p":[58,76,1982]}," ",{"t":2,"r":"yunit","p":[58,92,1998]}]}],"n":52,"r":"yaxis","p":[56,7,1795]}," ",{"t":4,"f":[{"p":[61,9,2071],"t":7,"e":"path","a":{"d":[{"t":2,"x":{"r":["area.path"],"s":"_0.print()"},"p":[61,18,2080]}],"fill":[{"t":2,"rx":{"r":"colors","m":[{"t":30,"n":"curve"}]},"p":[61,47,2109]}],"opacity":"0.1"}}],"n":52,"i":"curve","r":"curves","p":[60,7,2039]}," ",{"t":4,"f":[{"p":[64,9,2200],"t":7,"e":"path","a":{"d":[{"t":2,"x":{"r":["line.path"],"s":"_0.print()"},"p":[64,18,2209]}],"stroke":[{"t":2,"rx":{"r":"colors","m":[{"t":30,"n":"curve"}]},"p":[64,49,2240]}],"fill":"none"}}],"n":52,"i":"curve","r":"curves","p":[63,7,2168]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[68,11,2375],"t":7,"e":"circle","a":{"transform":["translate(",{"t":2,"r":".","p":[68,40,2404]},")"],"r":[{"t":2,"x":{"r":["selected","count"],"s":"_0==_1?10:4"},"p":[68,51,2415]}],"fill":[{"t":2,"rx":{"r":"colors","m":[{"t":30,"n":"curve"}]},"p":[68,89,2453]}]},"v":{"mouseenter":"enter","mouseleave":"exit"}}],"n":52,"i":"count","x":{"r":["line.path"],"s":"_0.points()"},"p":[67,9,2329]}],"n":52,"i":"curve","r":"curves","p":[66,7,2297]}," ",{"t":4,"f":[{"t":4,"f":[{"t":4,"f":[{"p":[74,13,2678],"t":7,"e":"text","a":{"transform":["translate(",{"t":2,"r":".","p":[74,40,2705]},") ",{"t":2,"x":{"r":["count","size"],"s":"_0<=_1/2?\"translate(15, 4)\":\"translate(-15, 4)\""},"p":[74,47,2712]}],"text-anchor":[{"t":2,"x":{"r":["count","size"],"s":"_0<=_1/2?\"start\":\"end\""},"p":[74,126,2791]}],"fill":"white"},"f":[{"t":2,"x":{"r":["count","item","yfactor"],"s":"_1[_0].y*_2"},"p":[75,15,2861]}," ",{"t":2,"r":"yunit","p":[75,43,2889]}," @ ",{"t":2,"x":{"r":["size","count","item","xfactor"],"s":"(_0-_2[_1].x)*_3"},"p":[75,55,2901]}," ",{"t":2,"r":"xunit","p":[75,92,2938]}]}],"n":50,"x":{"r":["selected","count"],"s":"_0==_1"},"p":[73,11,2638]}],"n":52,"i":"count","x":{"r":["line.path"],"s":"_0.points()"},"p":[72,9,2592]}],"n":52,"i":"curve","r":"curves","p":[71,7,2560]}," ",{"t":4,"f":[{"p":[81,9,3063],"t":7,"e":"g","a":{"transform":["translate(",{"t":2,"x":{"r":["width","curves.length","@index"],"s":"(_0/(_1+1))*(_2+1)"},"p":[81,33,3087]},", 10)"]},"f":[{"p":[82,11,3154],"t":7,"e":"circle","a":{"r":"4","fill":[{"t":2,"rx":{"r":"colors","m":[{"t":30,"n":"curve"}]},"p":[82,31,3174]}]}}," ",{"p":[83,11,3206],"t":7,"e":"text","a":{"x":"8","y":"4","fill":"white"},"f":[{"t":2,"rx":{"r":"legend","m":[{"t":30,"n":"curve"}]},"p":[83,42,3237]}]}]}],"n":52,"i":"curve","r":"curves","p":[80,7,3031]}],"x":{"r":["graph","points","xaccessor","yaccessor","width","height"],"s":"_0({data:_1,xaccessor:_2,yaccessor:_3,width:_4,height:_5})"},"p":[49,5,1371]}]}]}]};
module.exports = Ractive.extend(component.exports);

},{"paths-js/smooth-line":339,"ractive":342}],348:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"div","a":{"class":"notice"},"f":[{"t":16,"p":[2,3,23]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],349:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

var _byond = require('util/byond');

var _dragresize = require('util/dragresize');

component.exports = {
  oninit: function oninit() {
    var _this = this;

    var onresize = _dragresize.resize.bind(this);
    var onrelease = function onrelease() {
      return _this.set({ resize: false, x: null, y: null });
    };

    this.observe('config.fancy', function (newkey, oldkey, keypath) {
      (0, _byond.winset)(_this.get('config.window'), 'can-resize', !newkey);

      if (newkey) {
        document.addEventListener('mousemove', onresize);
        document.addEventListener('mouseup', onrelease);
      } else {
        document.removeEventListener('mousemove', onresize);
        document.removeEventListener('mouseup', onrelease);
      }
    });

    this.on('resize', function () {
      return _this.toggle('resize');
    });
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"t":4,"f":[{"p":[28,3,739],"t":7,"e":"div","a":{"class":"resize"},"v":{"mousedown":"resize"}}],"n":50,"r":"config.fancy","p":[27,1,716]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342,"util/byond":478,"util/dragresize":480}],350:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"section","a":{"class":[{"t":4,"f":["candystripe"],"r":"candystripe","p":[1,17,16]}]},"f":[{"t":4,"f":[{"p":[3,5,82],"t":7,"e":"span","a":{"class":"label","style":[{"t":4,"f":["color:",{"t":2,"r":"labelcolor","p":[3,53,130]}],"r":"labelcolor","p":[3,32,109]}]},"f":[{"t":2,"r":"label","p":[3,84,161]},":"]}],"n":50,"r":"label","p":[2,3,64]}," ",{"t":4,"f":[{"t":16,"p":[6,5,210]}],"n":50,"r":"nowrap","p":[5,3,191]},{"t":4,"n":51,"f":[{"p":[8,5,235],"t":7,"e":"div","a":{"class":"content","style":[{"t":4,"f":["float:right;"],"r":"right","p":[8,33,263]}]},"f":[{"t":16,"p":[9,7,304]}]}],"r":"nowrap"}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],351:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"div","a":{"class":"subdisplay"},"f":[{"t":4,"f":[{"p":[3,5,45],"t":7,"e":"header","f":[{"p":[4,7,60],"t":7,"e":"h4","f":[{"t":2,"r":"title","p":[4,11,64]}]}," ",{"t":4,"f":[{"t":16,"n":"button","p":[5,21,99]}],"n":50,"r":"button","p":[5,7,85]}]}],"n":50,"r":"title","p":[2,3,27]}," ",{"p":[8,3,149],"t":7,"e":"article","f":[{"t":16,"p":[9,5,163]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],352:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  oninit: function oninit() {
    var _this = this;

    this.set('active', this.findComponent('tab').get('name'));
    this.on('switch', function (event) {
      _this.set('active', event.node.textContent.trim()); // Hack but it works...
    });

    this.observe('active', function (newkey, oldkey, path) {
      for (var _iterator = _this.findAllComponents('tab'), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {
        var _ref;

        if (_isArray) {
          if (_i >= _iterator.length) break;
          _ref = _iterator[_i++];
        } else {
          _i = _iterator.next();
          if (_i.done) break;
          _ref = _i.value;
        }

        var tab = _ref;

        tab.set('shown', tab.get('name') === newkey);
      }
    });
  }
};
})(component);
component.exports.template = {"v":3,"t":[" "," ",{"p":[20,1,524],"t":7,"e":"header","f":[{"t":4,"f":[{"p":[22,5,556],"t":7,"e":"ui-button","a":{"pane":[{"t":2,"r":".","p":[22,22,573]}]},"v":{"press":"switch"},"f":[{"t":2,"r":".","p":[22,47,598]}]}],"n":52,"r":"tabs","p":[21,3,536]}]}," ",{"p":[25,1,641],"t":7,"e":"ui-display","f":[{"t":8,"r":"content","p":[26,3,657]}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "tab": require("components/tabs/tab.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);

},{"components/tabs/tab.ract":353,"ractive":342}],353:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"t":16,"p":[2,3,17]}],"n":50,"r":"shown","p":[1,1,0]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],354:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

var _constants = require('util/constants');

var _byond = require('util/byond');

var _dragresize = require('util/dragresize');

component.exports = {
  computed: {
    visualStatus: function visualStatus() {
      switch (this.get('config.status')) {
        case _constants.UI_INTERACTIVE:
          return 'good';
        case _constants.UI_UPDATE:
          return 'average';
        case _constants.UI_DISABLED:
          return 'bad';
        default:
          return 'bad';
      }
    }
  },
  oninit: function oninit() {
    var _this = this;

    // Calculate offset between the "browser's screen space" and
    // "BYOND screen space".
    // This is necessary, because Windows 10 taskbar decreases the effective
    // height by about 40px. If taskbar is located at the top and you try
    // to drag a TGUI window, it rapidly propels itself to the bottom of
    // the screen and gets stuck.
    // See: https://github.com/tgstation/tgstation/issues/44038
    this.set('screenOffsetX', 0);
    this.set('screenOffsetY', 0);
    (0, _byond.winget)(this.get('config.window'), 'pos').then(function (pos) {
      _this.set('screenOffsetX', window.screenX - pos.x);
      _this.set('screenOffsetY', window.screenY - pos.y);
    });

    var ondrag = _dragresize.drag.bind(this);
    var onrelease = function onrelease(event) {
      return _this.set({ drag: false, x: null, y: null });
    };

    this.observe('config.fancy', function (newkey, oldkey, keypath) {
      (0, _byond.winset)(_this.get('config.window'), 'titlebar', !newkey && _this.get('config.titlebar'));

      if (newkey) {
        document.addEventListener('mousemove', ondrag);
        document.addEventListener('mouseup', onrelease);
      } else {
        document.removeEventListener('mousemove', ondrag);
        document.removeEventListener('mouseup', onrelease);
      }
    });

    this.on({
      drag: function drag() {
        this.toggle('drag');
      },
      close: function close() {
        (0, _byond.winset)(this.get('config.window'), 'is-visible', false);
        (0, _byond.runCommand)('uiclose ' + this.get('config.ref'));
      },
      minimize: function minimize() {
        (0, _byond.winset)(this.get('config.window'), 'is-minimized', true);
      }
    });
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"t":4,"f":[{"p":[65,3,2052],"t":7,"e":"header","a":{"class":"titlebar"},"v":{"mousedown":"drag"},"f":[{"p":[66,5,2102],"t":7,"e":"i","a":{"class":["statusicon fa fa-eye fa-2x ",{"t":2,"r":"visualStatus","p":[66,42,2139]}]}}," ",{"p":[67,5,2166],"t":7,"e":"span","a":{"class":"title"},"f":[{"t":16,"p":[67,25,2186]}]}," ",{"t":4,"f":[{"p":[69,7,2234],"t":7,"e":"i","a":{"class":"minimize fa fa-minus fa-2x"},"v":{"click":"minimize"}}," ",{"p":[70,7,2303],"t":7,"e":"i","a":{"class":"close fa fa-close fa-2x"},"v":{"click":"close"}}],"n":50,"r":"config.fancy","p":[68,5,2207]}]}],"n":50,"r":"config.titlebar","p":[64,1,2026]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342,"util/byond":478,"util/constants":479,"util/dragresize":480}],355:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

var versions = [11, 10, 9, 8];

component.exports = {
  data: {
    userAgent: navigator.userAgent
  },
  computed: {
    ie: function ie() {
      if (document.documentMode) return document.documentMode;
      for (var version in versions) {
        var div = document.createElement('div');
        div.innerHTML = '<!--[if IE ' + version + ']><span></span><![endif]-->';
        if (div.getElementsByTagName('span').length) return version;
      }
      return undefined;
    }
  },
  oninit: function oninit() {
    var _this = this;

    this.on('debug', function () {
      return _this.toggle('debug');
    });
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"t":4,"f":[{"p":[27,3,636],"t":7,"e":"ui-notice","f":[{"p":[28,5,652],"t":7,"e":"span","f":["You have an old (IE",{"t":2,"r":"ie","p":[28,30,677]},"), end-of-life (click 'EOL Info' for more information) version of Internet Explorer installed."]},{"p":[28,137,784],"t":7,"e":"br"}," ",{"p":[29,5,794],"t":7,"e":"span","f":["To upgrade, click 'Upgrade IE' to download IE11 from Microsoft."]},{"p":[29,81,870],"t":7,"e":"br"}," ",{"p":[30,5,880],"t":7,"e":"span","f":["If you are unable to upgrade directly, click 'IE VMs' to download a VM with IE11 or Edge from Microsoft."]},{"p":[30,122,997],"t":7,"e":"br"}," ",{"p":[31,5,1007],"t":7,"e":"span","f":["Otherwise, click 'No Frills' below to disable potentially incompatible features (and this message)."]}," ",{"p":[32,5,1124],"t":7,"e":"hr"}," ",{"p":[33,5,1134],"t":7,"e":"ui-button","a":{"icon":"close","action":"tgui:nofrills"},"f":["No Frills"]}," ",{"p":[34,5,1207],"t":7,"e":"ui-button","a":{"icon":"internet-explorer","action":"tgui:link","params":"{\"url\": \"http://windows.microsoft.com/en-us/internet-explorer/download-ie\"}"},"f":["Upgrade IE"]}," ",{"p":[36,5,1381],"t":7,"e":"ui-button","a":{"icon":"edge","action":"tgui:link","params":"{\"url\": \"https://dev.windows.com/en-us/microsoft-edge/tools/vms\"}"},"f":["IE VMs"]}," ",{"p":[38,5,1528],"t":7,"e":"ui-button","a":{"icon":"info","action":"tgui:link","params":"{\"url\": \"https://support.microsoft.com/en-us/lifecycle#gp/Microsoft-Internet-Explorer\"}"},"f":["EOL Info"]}," ",{"p":[40,5,1699],"t":7,"e":"ui-button","a":{"icon":"bug"},"v":{"press":"debug"},"f":["Debug Info"]}," ",{"t":4,"f":[{"p":[42,7,1785],"t":7,"e":"hr"}," ",{"p":[43,7,1797],"t":7,"e":"span","f":["Detected: IE",{"t":2,"r":"ie","p":[43,25,1815]}]},{"p":[43,38,1828],"t":7,"e":"br"}," ",{"p":[44,7,1840],"t":7,"e":"span","f":["User Agent: ",{"t":2,"r":"userAgent","p":[44,25,1858]}]}],"n":50,"r":"debug","p":[41,5,1765]}]}],"n":50,"x":{"r":["config.fancy","ie"],"s":"_0&&_1&&_1<11"},"p":[26,1,596]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],356:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
	data: {
		powerState: function powerState(status) {
			switch (status) {
				case 2:
					return 'good';
				case 1:
					return 'average';
				default:
					return 'bad';
			}
		},
		shockState: function shockState(status) {
			switch (status) {
				case 2:
					return 'good';
				case 1:
					return 'average';
				default:
					return 'bad';
			}
		}
	}
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[22,1,327],"t":7,"e":"ui-display","a":{"title":"Power Status"},"f":[{"p":[23,2,362],"t":7,"e":"ui-section","a":{"label":"Main"},"f":[{"p":[24,3,390],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["powerState","data.power.main"],"s":"_0(_1)"},"p":[24,16,403]}]},"f":[{"t":2,"x":{"r":["data.power.main"],"s":"_0?\"Online\":\"Offline\""},"p":[24,49,436]}]}," ",{"t":4,"f":["[ ",{"p":[26,6,542],"t":7,"e":"span","a":{"class":"bad"},"f":["Wires have been cut"]}," ]"],"n":50,"x":{"r":["data.wires.main_1","data.wires.main_2"],"s":"!_0||!_1"},"p":[25,3,488]},{"t":4,"n":51,"f":[{"t":4,"f":["[ ",{"t":2,"r":"data.power.main_timeleft","p":[29,7,646]}," seconds left ]"],"n":50,"x":{"r":["data.power.main_timeleft"],"s":"_0>0"},"p":[28,4,603]}],"x":{"r":["data.wires.main_1","data.wires.main_2"],"s":"!_0||!_1"}}," ",{"p":[32,3,713],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[33,4,742],"t":7,"e":"ui-button","a":{"icon":"lightbulb-o","action":"disrupt-main","state":[{"t":2,"x":{"r":["data.power.main"],"s":"_0?null:\"disabled\""},"p":[33,63,801]}]},"f":["Disrupt"]}]}]}," ",{"p":[36,2,887],"t":7,"e":"ui-section","a":{"label":"Backup"},"f":[{"p":[37,3,917],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["powerState","data.power.backup"],"s":"_0(_1)"},"p":[37,16,930]}]},"f":[{"t":2,"x":{"r":["data.power.backup"],"s":"_0?\"Online\":\"Offline\""},"p":[37,51,965]}]}," ",{"t":4,"f":["[ ",{"p":[39,6,1077],"t":7,"e":"span","a":{"class":"bad"},"f":["Wires have been cut"]}," ]"],"n":50,"x":{"r":["data.wires.backup_1","data.wires.backup_2"],"s":"!_0||!_1"},"p":[38,3,1019]},{"t":4,"n":51,"f":[{"t":4,"f":["[ ",{"t":2,"r":"data.power.backup_timeleft","p":[42,7,1183]}," seconds left ]"],"n":50,"x":{"r":["data.power.backup_timeleft"],"s":"_0>0"},"p":[41,4,1138]}],"x":{"r":["data.wires.backup_1","data.wires.backup_2"],"s":"!_0||!_1"}}," ",{"p":[45,3,1252],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[46,4,1281],"t":7,"e":"ui-button","a":{"icon":"lightbulb-o","action":"disrupt-backup","state":[{"t":2,"x":{"r":["data.power.backup"],"s":"_0?null:\"disabled\""},"p":[46,65,1342]}]},"f":["Disrupt"]}]}]}," ",{"p":[49,2,1430],"t":7,"e":"ui-section","a":{"label":"Electrify"},"f":[{"p":[50,3,1463],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["shockState","data.shock"],"s":"_0(_1)"},"p":[50,16,1476]}]},"f":[{"t":2,"x":{"r":["data.shock"],"s":"_0==2?\"Safe\":\"Electrified\""},"p":[50,44,1504]}]}," ",{"t":4,"f":["[ ",{"p":[52,6,1589],"t":7,"e":"span","a":{"class":"bad"},"f":["Wires have been cut"]}," ]"],"n":50,"x":{"r":["data.wires.shock"],"s":"!_0"},"p":[51,3,1558]},{"t":4,"n":51,"f":[{"t":4,"f":["[ ",{"p":[55,7,1688],"t":7,"e":"span","a":{"class":"bad"},"f":[{"t":2,"r":"data.shock_timeleft","p":[55,25,1706]}," seconds left"]}," ]"],"n":50,"x":{"r":["data.shock_timeleft"],"s":"_0>0"},"p":[54,4,1650]}," ",{"t":4,"f":["[ ",{"p":[58,7,1806],"t":7,"e":"span","a":{"class":"bad"},"f":["Permanent"]}," ]"],"n":50,"x":{"r":["data.shock_timeleft"],"s":"_0==-1"},"p":[57,4,1766]}],"x":{"r":["data.wires.shock"],"s":"!_0"}}," ",{"p":[61,3,1866],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[62,4,1895],"t":7,"e":"ui-button","a":{"icon":"wrench","action":"shock-restore","state":[{"t":2,"x":{"r":["data.wires.shock","data.shock"],"s":"_0&&_1==0?null:\"disabled\""},"p":[62,59,1950]}]},"f":["Restore"]}," ",{"p":[63,4,2032],"t":7,"e":"ui-button","a":{"icon":"bolt","action":"shock-temp","state":[{"t":2,"x":{"r":["data.wires.shock"],"s":"!_0"},"p":[63,54,2082]}]},"f":["Set (Temporary)"]}," ",{"p":[64,4,2136],"t":7,"e":"ui-button","a":{"icon":"bolt","action":"shock-perm","state":[{"t":2,"x":{"r":["data.wires.shock"],"s":"!_0"},"p":[64,53,2185]}]},"f":["Set (Permanent)"]}]}]}]}," ",{"p":[68,1,2274],"t":7,"e":"ui-display","a":{"title":"Access & Door Control"},"f":[{"p":[69,2,2318],"t":7,"e":"ui-section","a":{"label":"ID Scan"},"f":[{"t":4,"f":["[ ",{"p":[71,6,2385],"t":7,"e":"span","a":{"class":"bad"},"f":["Wires have been cut"]}," ]"],"n":50,"x":{"r":["data.wires.id_scanner"],"s":"!_0"},"p":[70,3,2349]}," ",{"p":[73,3,2444],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[74,4,2473],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.wires.id_scanner"],"s":"!_0"},"p":[74,22,2491]}],"icon":"power-off","action":"idscan-on","style":[{"t":2,"x":{"r":["data.id_scanner"],"s":"_0?\"selected\":\"\""},"p":[74,93,2562]}]},"f":["Enabled"]}," ",{"p":[75,4,2624],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.wires.id_scanner"],"s":"!_0"},"p":[75,22,2642]}],"icon":"close","action":"idscan-off","style":[{"t":2,"x":{"r":["data.id_scanner"],"s":"_0?\"\":\"selected\""},"p":[75,90,2710]}]},"f":["Disabled"]}]}]}," ",{"p":[78,2,2795],"t":7,"e":"ui-section","a":{"label":"Emergency Access"},"f":[{"p":[79,3,2835],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[80,4,2864],"t":7,"e":"ui-button","a":{"icon":"power-off","action":"emergency-on","style":[{"t":2,"x":{"r":["data.emergency"],"s":"_0?\"selected\":\"\""},"p":[80,61,2921]}]},"f":["Enabled"]}," ",{"p":[81,4,2982],"t":7,"e":"ui-button","a":{"icon":"close","action":"emergency-off","style":[{"t":2,"x":{"r":["data.emergency"],"s":"_0?\"\":\"selected\""},"p":[81,58,3036]}]},"f":["Disabled"]}]}]}," ",{"p":[84,2,3120],"t":7,"e":"br"}," ",{"p":[85,2,3128],"t":7,"e":"ui-section","a":{"label":"Door bolts"},"f":[{"t":4,"f":["[ ",{"p":[87,6,3193],"t":7,"e":"span","a":{"class":"bad"},"f":["Wires have been cut"]}," ]"],"n":50,"x":{"r":["data.wires.bolts"],"s":"!_0"},"p":[86,3,3162]}," ",{"p":[89,3,3252],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[90,4,3281],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.wires.bolts"],"s":"!_0"},"p":[90,22,3299]}],"icon":"unlock","action":"bolt-raise","style":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"\":\"selected\""},"p":[90,85,3362]}]},"f":["Raised"]}," ",{"p":[91,4,3419],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.wires.bolts"],"s":"!_0"},"p":[91,22,3437]}],"icon":"lock","action":"bolt-drop","style":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"selected\":\"\""},"p":[91,82,3497]}]},"f":["Dropped"]}]}]}," ",{"p":[94,2,3577],"t":7,"e":"ui-section","a":{"label":"Door bolt lights"},"f":[{"t":4,"f":["[ ",{"p":[96,6,3649],"t":7,"e":"span","a":{"class":"bad"},"f":["Wires have been cut"]}," ]"],"n":50,"x":{"r":["data.wires.lights"],"s":"!_0"},"p":[95,3,3617]}," ",{"p":[98,3,3708],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[99,4,3737],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.wires.lights"],"s":"!_0"},"p":[99,22,3755]}],"icon":"power-off","action":"light-on","style":[{"t":2,"x":{"r":["data.lights"],"s":"_0?\"selected\":\"\""},"p":[99,88,3821]}]},"f":["Enabled"]}," ",{"p":[100,4,3879],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.wires.lights"],"s":"!_0"},"p":[100,22,3897]}],"icon":"close","action":"light-off","style":[{"t":2,"x":{"r":["data.lights"],"s":"_0?\"\":\"selected\""},"p":[100,85,3960]}]},"f":["Disabled"]}]}]}," ",{"p":[103,2,4041],"t":7,"e":"ui-section","a":{"label":"Door force sensors"},"f":[{"t":4,"f":["[ ",{"p":[105,6,4113],"t":7,"e":"span","a":{"class":"bad"},"f":["Wires have been cut"]}," ]"],"n":50,"x":{"r":["data.wires.safe"],"s":"!_0"},"p":[104,3,4083]}," ",{"p":[107,3,4172],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[108,4,4201],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.wires.safe"],"s":"!_0"},"p":[108,22,4219]}],"icon":"power-off","action":"safe-on","style":[{"t":2,"x":{"r":["data.safe"],"s":"_0?\"selected\":\"\""},"p":[108,85,4282]}]},"f":["Enabled"]}," ",{"p":[109,4,4338],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.wires.safe"],"s":"!_0"},"p":[109,22,4356]}],"icon":"close","action":"safe-off","style":[{"t":2,"x":{"r":["data.safe"],"s":"_0?\"\":\"selected\""},"p":[109,82,4416]}]},"f":["Disabled"]}]}]}," ",{"p":[112,2,4495],"t":7,"e":"ui-section","a":{"label":"Door timing safety"},"f":[{"t":4,"f":["[ ",{"p":[114,6,4569],"t":7,"e":"span","a":{"class":"bad"},"f":["Wires have been cut"]}," ]"],"n":50,"x":{"r":["data.wires.timing"],"s":"!_0"},"p":[113,3,4537]}," ",{"p":[116,3,4628],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[117,4,4657],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.wires.timing"],"s":"!_0"},"p":[117,22,4675]}],"icon":"power-off","action":"speed-on","style":[{"t":2,"x":{"r":["data.speed"],"s":"_0?\"selected\":\"\""},"p":[117,88,4741]}]},"f":["Enabled"]}," ",{"p":[118,4,4798],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.wires.timing"],"s":"!_0"},"p":[118,22,4816]}],"icon":"close","action":"speed-off","style":[{"t":2,"x":{"r":["data.speed"],"s":"_0?\"\":\"selected\""},"p":[118,85,4879]}]},"f":["Disabled"]}]}]}," ",{"p":[121,2,4959],"t":7,"e":"br"}," ",{"p":[122,2,4967],"t":7,"e":"ui-section","a":{"label":"Door control"},"f":[{"t":4,"f":["[ ",{"p":[124,6,5043],"t":7,"e":"span","a":{"class":"bad"},"f":["Door is ",{"t":2,"x":{"r":["data.locked","data.welded"],"s":"(_0?\"bolted\":\"\")+(_0&&_1?\" and \":\"\")+(_1?\"welded\":\"\")"},"p":[124,32,5069]}]}," ]"],"n":50,"x":{"r":["data.locked","data.welded"],"s":"_0||_1"},"p":[123,3,5003]}," ",{"p":[126,3,5202],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[127,4,5231],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.locked","data.welded","data.opened"],"s":"(_0||_1)||(_2&&\"disabled\")"},"p":[127,22,5249]}],"icon":"sign-out","action":"open-close"},"f":["Open door"]}," ",{"p":[128,4,5375],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.locked","data.welded","data.opened"],"s":"(_0||_1)||(!_2&&\"disabled\")"},"p":[128,22,5393]}],"icon":"sign-in","action":"open-close"},"f":["Close door"]}]}]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],357:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" "," "," "," "," ",{"p":[7,1,261],"t":7,"e":"ui-notice","f":[{"t":4,"f":[{"p":[9,5,304],"t":7,"e":"ui-section","a":{"label":"Interface Lock"},"f":[{"p":[10,7,346],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"lock\":\"unlock\""},"p":[10,24,363]}],"action":"lock"},"f":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"Engaged\":\"Disengaged\""},"p":[10,75,414]}]}]}],"n":50,"r":"data.siliconUser","p":[8,3,275]},{"t":4,"n":51,"f":[{"p":[13,5,502],"t":7,"e":"span","f":["Swipe an ID card to ",{"t":2,"x":{"r":["data.locked"],"s":"_0?\"unlock\":\"lock\""},"p":[13,31,528]}," this interface."]}],"r":"data.siliconUser"}]}," ",{"p":[16,1,610],"t":7,"e":"status"}," ",{"t":4,"f":[{"t":4,"f":[{"p":[19,7,701],"t":7,"e":"ui-display","a":{"title":"Air Controls"},"f":[{"p":[20,9,743],"t":7,"e":"ui-section","f":[{"p":[21,11,766],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.atmos_alarm"],"s":"_0?\"exclamation-triangle\":\"exclamation\""},"p":[21,28,783]}],"style":[{"t":2,"x":{"r":["data.atmos_alarm"],"s":"_0?\"caution\":null"},"p":[21,98,853]}],"action":[{"t":2,"x":{"r":["data.atmos_alarm"],"s":"_0?\"reset\":\"alarm\""},"p":[22,23,916]}]},"f":["Area Atmosphere Alarm"]}]}," ",{"p":[24,9,1022],"t":7,"e":"ui-section","f":[{"p":[25,11,1045],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.mode"],"s":"_0==3?\"exclamation-triangle\":\"exclamation\""},"p":[25,28,1062]}],"style":[{"t":2,"x":{"r":["data.mode"],"s":"_0==3?\"danger\":null"},"p":[25,96,1130]}],"action":"mode","params":["{\"mode\": ",{"t":2,"x":{"r":["data.mode"],"s":"_0==3?1:3"},"p":[26,44,1211]},"}"]},"f":["Panic Siphon"]}]}," ",{"p":[28,9,1295],"t":7,"e":"br"}," ",{"p":[29,9,1309],"t":7,"e":"ui-section","f":[{"p":[30,11,1332],"t":7,"e":"ui-button","a":{"icon":"sign-out","action":"tgui:view","params":"{\"screen\": \"vents\"}"},"f":["Vent Controls"]}]}," ",{"p":[32,9,1463],"t":7,"e":"ui-section","f":[{"p":[33,11,1486],"t":7,"e":"ui-button","a":{"icon":"filter","action":"tgui:view","params":"{\"screen\": \"scrubbers\"}"},"f":["Scrubber Controls"]}]}," ",{"p":[35,9,1623],"t":7,"e":"ui-section","f":[{"p":[36,11,1646],"t":7,"e":"ui-button","a":{"icon":"cog","action":"tgui:view","params":"{\"screen\": \"modes\"}"},"f":["Operating Mode"]}]}," ",{"p":[38,9,1773],"t":7,"e":"ui-section","f":[{"p":[39,11,1796],"t":7,"e":"ui-button","a":{"icon":"bar-chart","action":"tgui:view","params":"{\"screen\": \"thresholds\"}"},"f":["Alarm Thresholds"]}]}]}],"n":50,"x":{"r":["config.screen"],"s":"_0==\"home\""},"p":[18,3,663]},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["config.screen"],"s":"_0==\"vents\""},"f":[{"p":[43,5,1990],"t":7,"e":"vents"}]},{"t":4,"n":50,"x":{"r":["config.screen"],"s":"(!(_0==\"vents\"))&&(_0==\"scrubbers\")"},"f":[" ",{"p":[45,5,2045],"t":7,"e":"scrubbers"}]},{"t":4,"n":50,"x":{"r":["config.screen"],"s":"(!(_0==\"vents\"))&&((!(_0==\"scrubbers\"))&&(_0==\"modes\"))"},"f":[" ",{"p":[47,5,2100],"t":7,"e":"modes"}]},{"t":4,"n":50,"x":{"r":["config.screen"],"s":"(!(_0==\"vents\"))&&((!(_0==\"scrubbers\"))&&((!(_0==\"modes\"))&&(_0==\"thresholds\")))"},"f":[" ",{"p":[49,5,2156],"t":7,"e":"thresholds"}]}],"x":{"r":["config.screen"],"s":"_0==\"home\""}}],"n":50,"x":{"r":["data.locked","data.siliconUser"],"s":"!_0||_1"},"p":[17,1,620]}]};
component.exports.components = component.exports.components || {};
var components = {
  "vents": require("./airalarm/vents.ract"),
  "modes": require("./airalarm/modes.ract"),
  "thresholds": require("./airalarm/thresholds.ract"),
  "status": require("./airalarm/status.ract"),
  "scrubbers": require("./airalarm/scrubbers.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./airalarm/modes.ract":359,"./airalarm/scrubbers.ract":360,"./airalarm/status.ract":361,"./airalarm/thresholds.ract":362,"./airalarm/vents.ract":363,"ractive":342}],358:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-button","a":{"icon":"arrow-left","action":"tgui:view","params":"{\"screen\": \"home\"}"},"f":["Back"]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],359:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":{"button":[{"p":[5,5,111],"t":7,"e":"back"}]},"t":7,"e":"ui-display","a":{"title":"Operating Modes","button":0},"f":[" ",{"t":4,"f":[{"p":[8,5,161],"t":7,"e":"ui-section","f":[{"p":[9,7,180],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["selected"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[9,24,197]}],"state":[{"t":2,"x":{"r":["selected","danger"],"s":"_0?_1?\"danger\":\"selected\":null"},"p":[10,16,258]}],"action":"mode","params":["{\"mode\": ",{"t":2,"r":"mode","p":[11,40,351]},"}"]},"f":[{"t":2,"r":"name","p":[11,51,362]}]}]}],"n":52,"r":"data.modes","p":[7,3,136]}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "back": require("./back.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./back.ract":358,"ractive":342}],360:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" "," ",{"p":{"button":[{"p":[6,5,180],"t":7,"e":"back"}]},"t":7,"e":"ui-display","a":{"title":"Scrubber Controls","button":0},"f":[" ",{"t":4,"f":[{"p":[9,5,234],"t":7,"e":"ui-subdisplay","a":{"title":[{"t":2,"r":"long_name","p":[9,27,256]}]},"f":[{"p":[10,7,278],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[11,9,313],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["power"],"s":"_0?\"power-off\":\"close\""},"p":[11,26,330]}],"style":[{"t":2,"x":{"r":["power"],"s":"_0?\"selected\":null"},"p":[11,68,372]}],"action":"power","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[12,46,448]},"\", \"val\": ",{"t":2,"x":{"r":["power"],"s":"+!_0"},"p":[12,66,468]},"}"]},"f":[{"t":2,"x":{"r":["power"],"s":"_0?\"On\":\"Off\""},"p":[12,80,482]}]}]}," ",{"p":[14,7,545],"t":7,"e":"ui-section","a":{"label":"Mode"},"f":[{"p":[15,9,579],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["scrubbing"],"s":"_0?\"filter\":\"sign-in\""},"p":[15,26,596]}],"style":[{"t":2,"x":{"r":["scrubbing"],"s":"_0?null:\"danger\""},"p":[15,71,641]}],"action":"scrubbing","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[16,50,723]},"\", \"val\": ",{"t":2,"x":{"r":["scrubbing"],"s":"+!_0"},"p":[16,70,743]},"}"]},"f":[{"t":2,"x":{"r":["scrubbing"],"s":"_0?\"Scrubbing\":\"Siphoning\""},"p":[16,88,761]}]}]}," ",{"p":[18,7,841],"t":7,"e":"ui-section","a":{"label":"Range"},"f":[{"p":[19,9,876],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["widenet"],"s":"_0?\"expand\":\"compress\""},"p":[19,26,893]}],"style":[{"t":2,"x":{"r":["widenet"],"s":"_0?\"selected\":null"},"p":[19,70,937]}],"action":"widenet","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[20,48,1017]},"\", \"val\": ",{"t":2,"x":{"r":["widenet"],"s":"+!_0"},"p":[20,68,1037]},"}"]},"f":[{"t":2,"x":{"r":["widenet"],"s":"_0?\"Expanded\":\"Normal\""},"p":[20,84,1053]}]}]}," ",{"p":[22,7,1127],"t":7,"e":"ui-section","a":{"label":"Filters"},"f":[{"p":[23,9,1164],"t":7,"e":"filters"}]}]}],"n":52,"r":"data.scrubbers","p":[8,3,205]},{"t":4,"n":51,"f":[{"p":[27,5,1231],"t":7,"e":"span","a":{"class":"bad"},"f":["Error: No scrubbers connected."]}],"r":"data.scrubbers"}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "filters": require("../scrubbing_types.ract"),
  "back": require("./back.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"../scrubbing_types.ract":454,"./back.ract":358,"ractive":342}],361:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Air Status"},"f":[{"t":4,"f":[{"t":4,"f":[{"p":[4,7,107],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[4,26,126]}]},"f":[{"p":[5,6,142],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["danger_level"],"s":"_0==2?\"bad\":_0==1?\"average\":\"good\""},"p":[5,19,155]}]},"f":[{"t":2,"x":{"r":["value"],"s":"Math.fixed(_0,2)"},"p":[6,5,232]},{"t":2,"r":"unit","p":[6,29,256]}]}]}],"n":52,"r":"adata.environment_data","p":[3,5,68]}," ",{"p":[10,5,313],"t":7,"e":"ui-section","a":{"label":"Local Status"},"f":[{"p":[11,7,353],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.danger_level"],"s":"_0==2?\"bad bold\":_0==1?\"average bold\":\"good\""},"p":[11,20,366]}]},"f":[{"t":2,"x":{"r":["data.danger_level"],"s":"_0==2?\"Danger (Internals Required)\":_0==1?\"Caution\":\"Optimal\""},"p":[12,6,464]}]}]}," ",{"p":[15,5,605],"t":7,"e":"ui-section","a":{"label":"Area Status"},"f":[{"p":[16,7,644],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.atmos_alarm","data.fire_alarm"],"s":"_0||_1?\"bad bold\":\"good\""},"p":[16,20,657]}]},"f":[{"t":2,"x":{"r":["data.atmos_alarm","fire_alarm"],"s":"_0?\"Atmosphere Alarm\":_1?\"Fire Alarm\":\"Nominal\""},"p":[17,8,728]}]}]}],"n":50,"r":"data.environment_data","p":[2,3,34]},{"t":4,"n":51,"f":[{"p":[21,5,856],"t":7,"e":"ui-section","a":{"label":"Warning"},"f":[{"p":[22,7,891],"t":7,"e":"span","a":{"class":"bad bold"},"f":["Cannot obtain air sample for analysis."]}]}],"r":"data.environment_data"}," ",{"t":4,"f":[{"p":[26,5,1015],"t":7,"e":"ui-section","a":{"label":"Warning"},"f":[{"p":[27,7,1050],"t":7,"e":"span","a":{"class":"bad bold"},"f":["Safety measures offline. Device may exhibit abnormal behavior."]}]}],"n":50,"r":"data.emagged","p":[25,3,990]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],362:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.css = "  th, td {\n    padding-right: 16px;\n    text-align: left;\n  }";
component.exports.template = {"v":3,"t":[" ",{"p":{"button":[{"p":[5,5,112],"t":7,"e":"back"}]},"t":7,"e":"ui-display","a":{"title":"Alarm Thresholds","button":0},"f":[" ",{"p":[7,3,137],"t":7,"e":"table","f":[{"p":[8,5,149],"t":7,"e":"thead","f":[{"p":[8,12,156],"t":7,"e":"tr","f":[{"p":[9,7,167],"t":7,"e":"th"}," ",{"p":[10,7,183],"t":7,"e":"th","f":[{"p":[10,11,187],"t":7,"e":"span","a":{"class":"bad"},"f":["min2"]}]}," ",{"p":[11,7,228],"t":7,"e":"th","f":[{"p":[11,11,232],"t":7,"e":"span","a":{"class":"average"},"f":["min1"]}]}," ",{"p":[12,7,277],"t":7,"e":"th","f":[{"p":[12,11,281],"t":7,"e":"span","a":{"class":"average"},"f":["max1"]}]}," ",{"p":[13,7,326],"t":7,"e":"th","f":[{"p":[13,11,330],"t":7,"e":"span","a":{"class":"bad"},"f":["max2"]}]}]}]}," ",{"p":[15,5,387],"t":7,"e":"tbody","f":[{"t":4,"f":[{"p":[16,32,426],"t":7,"e":"tr","f":[{"p":[17,9,439],"t":7,"e":"th","f":[{"t":3,"r":"name","p":[17,13,443]}]}," ",{"t":4,"f":[{"p":[18,27,485],"t":7,"e":"td","f":[{"p":[19,11,500],"t":7,"e":"ui-button","a":{"action":"threshold","params":["{\"env\": \"",{"t":2,"r":"env","p":[19,58,547]},"\", \"var\": \"",{"t":2,"r":"val","p":[19,76,565]},"\"}"]},"f":[{"t":2,"x":{"r":["selected"],"s":"Math.fixed(_0,2)"},"p":[19,87,576]}]}]}],"n":52,"r":"settings","p":[18,9,467]}]}],"n":52,"r":"data.thresholds","p":[16,7,401]}]}," ",{"p":[23,3,675],"t":7,"e":"table","f":[]}]}]}," "]};
component.exports.components = component.exports.components || {};
var components = {
  "back": require("./back.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./back.ract":358,"ractive":342}],363:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":{"button":[{"p":[5,5,109],"t":7,"e":"back"}]},"t":7,"e":"ui-display","a":{"title":"Vent Controls","button":0},"f":[" ",{"t":4,"f":[{"p":[8,5,159],"t":7,"e":"ui-subdisplay","a":{"title":[{"t":2,"r":"long_name","p":[8,27,181]}]},"f":[{"p":[9,7,203],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[10,9,238],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["power"],"s":"_0?\"power-off\":\"close\""},"p":[10,26,255]}],"style":[{"t":2,"x":{"r":["power"],"s":"_0?\"selected\":null"},"p":[10,68,297]}],"action":"power","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[11,46,373]},"\", \"val\": ",{"t":2,"x":{"r":["power"],"s":"+!_0"},"p":[11,66,393]},"}"]},"f":[{"t":2,"x":{"r":["power"],"s":"_0?\"On\":\"Off\""},"p":[11,80,407]}]}]}," ",{"p":[13,7,470],"t":7,"e":"ui-section","a":{"label":"Mode"},"f":[{"p":[14,9,504],"t":7,"e":"span","f":[{"t":2,"x":{"r":["direction"],"s":"_0==\"release\"?\"Pressurizing\":\"Siphoning\""},"p":[14,15,510]}]}]}," ",{"p":[16,7,601],"t":7,"e":"ui-section","a":{"label":"Pressure Regulator"},"f":[{"p":[17,9,649],"t":7,"e":"ui-button","a":{"icon":"sign-in","style":[{"t":2,"x":{"r":["incheck"],"s":"_0?\"selected\":null"},"p":[17,42,682]}],"action":"incheck","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[18,48,762]},"\", \"val\": ",{"t":2,"r":"checks","p":[18,68,782]},"}"]},"f":["Internal"]}," ",{"p":[19,9,824],"t":7,"e":"ui-button","a":{"icon":"sign-out","style":[{"t":2,"x":{"r":["excheck"],"s":"_0?\"selected\":null"},"p":[19,43,858]}],"action":"excheck","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[20,48,938]},"\", \"val\": ",{"t":2,"r":"checks","p":[20,68,958]},"}"]},"f":["External"]}]}," ",{"t":4,"f":[{"p":[23,9,1042],"t":7,"e":"ui-section","a":{"label":"Internal Target Pressure"},"f":[{"p":[24,11,1098],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_internal_pressure","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[25,33,1186]},"\"}"]},"f":[{"t":2,"x":{"r":["internal"],"s":"Math.fixed(_0)"},"p":[25,47,1200]}]}," ",{"p":[26,11,1247],"t":7,"e":"ui-button","a":{"icon":"refresh","state":[{"t":2,"x":{"r":["intdefault"],"s":"_0?\"disabled\":null"},"p":[26,44,1280]}],"action":"reset_internal_pressure","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[27,33,1381]},"\"}"]},"f":["Reset"]}]}],"n":50,"r":"incheck","p":[22,7,1018]}," ",{"t":4,"f":[{"p":[31,11,1481],"t":7,"e":"ui-section","a":{"label":"External Target Pressure"},"f":[{"p":[32,13,1539],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_external_pressure","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[33,35,1629]},"\"}"]},"f":[{"t":2,"x":{"r":["external"],"s":"Math.fixed(_0)"},"p":[33,49,1643]}]}," ",{"p":[34,13,1692],"t":7,"e":"ui-button","a":{"icon":"refresh","state":[{"t":2,"x":{"r":["extdefault"],"s":"_0?\"disabled\":null"},"p":[34,46,1725]}],"action":"reset_external_pressure","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[35,35,1828]},"\"}"]},"f":["Reset"]}]}],"n":50,"r":"excheck","p":[30,7,1455]}]}],"n":52,"r":"data.vents","p":[7,3,134]},{"t":4,"n":51,"f":[{"p":[40,5,1934],"t":7,"e":"span","a":{"class":"bad"},"f":["Error: No vents connected."]}],"r":"data.vents"}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "back": require("./back.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./back.ract":358,"ractive":342}],364:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.css = "  table {\n    width: 100%;\n    border-spacing: 2px;\n  }\n  th {\n    text-align: left;\n  }\n  td {\n    vertical-align: top;\n  }\n  td .button {\n    margin-top: 4px\n  }";
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,3,15],"t":7,"e":"ui-section","f":[{"p":[3,5,32],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.oneAccess"],"s":"_0?\"unlock\":\"lock\""},"p":[3,22,49]}],"action":"one_access"},"f":[{"t":2,"x":{"r":["data.oneAccess"],"s":"_0?\"One\":\"All\""},"p":[3,82,109]}," Required"]}," ",{"p":[4,5,169],"t":7,"e":"ui-button","a":{"icon":"refresh","action":"clear"},"f":["Clear"]}]}," ",{"p":[6,3,246],"t":7,"e":"hr"}," ",{"p":[7,3,254],"t":7,"e":"table","f":[{"p":[8,3,264],"t":7,"e":"thead","f":[{"p":[9,4,275],"t":7,"e":"tr","f":[{"t":4,"f":[{"p":[10,5,306],"t":7,"e":"th","f":[{"p":[10,9,310],"t":7,"e":"span","a":{"class":"highlight bold"},"f":[{"t":2,"r":"name","p":[10,38,339]}]}]}],"n":52,"r":"data.regions","p":[9,8,279]}]}]}," ",{"p":[13,3,391],"t":7,"e":"tbody","f":[{"p":[14,4,402],"t":7,"e":"tr","f":[{"t":4,"f":[{"p":[15,5,433],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[16,11,466],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["req"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[16,28,483]}],"style":[{"t":2,"x":{"r":["req"],"s":"_0?\"selected\":null"},"p":[16,76,531]}],"action":"set","params":["{\"access\": \"",{"t":2,"r":"id","p":[17,46,605]},"\"}"]},"f":[{"t":2,"r":"name","p":[17,56,615]}]}," ",{"p":[18,9,644],"t":7,"e":"br"}],"n":52,"r":"accesses","p":[15,9,437]}]}],"n":52,"r":"data.regions","p":[14,8,406]}]}]}]}," ",{"p":[23,2,709],"t":7,"e":"hr"}," ",{"p":[24,2,716],"t":7,"e":"span","a":{"class":"highlight bold"},"f":["Unrestricted Access:"]}," ",{"p":[25,2,774],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.unres_direction"],"s":"_0&1?\"check-square-o\":\"square-o\""},"p":[25,19,791]}],"style":[{"t":2,"x":{"r":["data.unres_direction"],"s":"_0&1?\"selected\":null"},"p":[25,88,860]}],"action":"direc_set","params":"{\"unres_direction\": \"1\"}"},"f":["North"]}," ",{"p":[26,2,982],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.unres_direction"],"s":"_0&4?\"check-square-o\":\"square-o\""},"p":[26,19,999]}],"style":[{"t":2,"x":{"r":["data.unres_direction"],"s":"_0&4?\"selected\":null"},"p":[26,88,1068]}],"action":"direc_set","params":"{\"unres_direction\": \"4\"}"},"f":["East"]}," ",{"p":[27,2,1189],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.unres_direction"],"s":"_0&2?\"check-square-o\":\"square-o\""},"p":[27,19,1206]}],"style":[{"t":2,"x":{"r":["data.unres_direction"],"s":"_0&2?\"selected\":null"},"p":[27,88,1275]}],"action":"direc_set","params":"{\"unres_direction\": \"2\"}"},"f":["South"]}," ",{"p":[28,2,1397],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.unres_direction"],"s":"_0&8?\"check-square-o\":\"square-o\""},"p":[28,19,1414]}],"style":[{"t":2,"x":{"r":["data.unres_direction"],"s":"_0&8?\"selected\":null"},"p":[28,88,1483]}],"action":"direc_set","params":"{\"unres_direction\": \"8\"}"},"f":["West"]}]}," "]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],365:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  data: {
    powerState: function powerState(status) {
      switch (status) {
        case 2:
          return 'good';
        case 1:
          return 'average';
        default:
          return 'bad';
      }
    }
  },
  computed: {
    malfAction: function malfAction() {
      switch (this.get('data.malfStatus')) {
        case 1:
          return 'hack';
        case 2:
          return 'occupy';
        case 3:
          return 'deoccupy';
      }
    },
    malfButton: function malfButton() {
      switch (this.get('data.malfStatus')) {
        case 1:
          return 'Override Programming';
        case 2:
        case 4:
          return 'Shunt Core Process';
        case 3:
          return 'Return to Main Core';
      }
    },
    malfIcon: function malfIcon() {
      switch (this.get('data.malfStatus')) {
        case 1:
          return 'terminal';
        case 2:
        case 4:
          return 'caret-square-o-down';
        case 3:
          return 'caret-square-o-left';
      }
    },
    powerCellStatusState: function powerCellStatusState() {
      var status = this.get('data.powerCellStatus');
      if (status > 50) return 'good';else if (status > 25) return 'average';else return 'bad';
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"t":4,"f":[{"p":[46,2,1161],"t":7,"e":"ui-notice","f":[{"p":[47,3,1175],"t":7,"e":"b","f":[{"p":[47,6,1178],"t":7,"e":"h3","f":["SYSTEM FAILURE"]}]}," ",{"p":[48,3,1208],"t":7,"e":"i","f":["I/O regulators malfunction detected! Waiting for system reboot..."]},{"p":[48,75,1280],"t":7,"e":"br"}," Automatic reboot in ",{"t":2,"r":"data.failTime","p":[49,23,1307]}," seconds... ",{"p":[50,3,1338],"t":7,"e":"ui-button","a":{"icon":"refresh","action":"reboot"},"f":["Reboot Now"]},{"p":[50,67,1402],"t":7,"e":"br"},{"p":[50,71,1406],"t":7,"e":"br"},{"p":[50,75,1410],"t":7,"e":"br"}]}],"n":50,"r":"data.failTime","p":[45,1,1138]},{"t":4,"n":51,"f":[{"p":[53,2,1439],"t":7,"e":"ui-notice","f":[{"t":4,"f":[{"p":[55,3,1481],"t":7,"e":"ui-section","a":{"label":"Interface Lock"},"f":[{"p":[56,5,1521],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"lock\":\"unlock\""},"p":[56,22,1538]}],"action":"lock"},"f":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"Engaged\":\"Disengaged\""},"p":[56,73,1589]}]}]}],"n":50,"r":"data.siliconUser","p":[54,4,1454]},{"t":4,"n":51,"f":[{"p":[59,3,1674],"t":7,"e":"span","f":["Swipe an ID card to ",{"t":2,"x":{"r":["data.locked"],"s":"_0?\"unlock\":\"lock\""},"p":[59,29,1700]}," this interface."]}],"r":"data.siliconUser"}]}," ",{"p":[62,2,1785],"t":7,"e":"ui-display","a":{"title":"Power Status"},"f":[{"p":[63,4,1822],"t":7,"e":"ui-section","a":{"label":"Main Breaker"},"f":[{"t":4,"f":[{"p":[65,5,1903],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.isOperating"],"s":"_0?\"good\":\"bad\""},"p":[65,18,1916]}]},"f":[{"t":2,"x":{"r":["data.isOperating"],"s":"_0?\"On\":\"Off\""},"p":[65,57,1955]}]}],"n":50,"x":{"r":["data.locked","data.siliconUser"],"s":"_0&&!_1"},"p":[64,3,1858]},{"t":4,"n":51,"f":[{"p":[67,5,2013],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.isOperating"],"s":"_0?\"power-off\":\"close\""},"p":[67,22,2030]}],"style":[{"t":2,"x":{"r":["data.isOperating"],"s":"_0?\"selected\":null"},"p":[67,75,2083]}],"action":"breaker"},"f":[{"t":2,"x":{"r":["data.isOperating"],"s":"_0?\"On\":\"Off\""},"p":[68,21,2145]}]}],"x":{"r":["data.locked","data.siliconUser"],"s":"_0&&!_1"}}]}," ",{"p":[71,4,2223],"t":7,"e":"ui-section","a":{"label":"External Power"},"f":[{"p":[72,3,2261],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["powerState","data.externalPower"],"s":"_0(_1)"},"p":[72,16,2274]}]},"f":[{"t":2,"x":{"r":["data.externalPower"],"s":"_0==2?\"Good\":_0==1?\"Low\":\"None\""},"p":[72,52,2310]}]}]}," ",{"p":[74,4,2417],"t":7,"e":"ui-section","a":{"label":"Power Cell"},"f":[{"t":4,"f":[{"p":[76,5,2492],"t":7,"e":"ui-bar","a":{"min":"0","max":"100","value":[{"t":2,"r":"data.powerCellStatus","p":[76,38,2525]}],"state":[{"t":2,"r":"powerCellStatusState","p":[76,71,2558]}]},"f":[{"t":2,"x":{"r":["adata.powerCellStatus"],"s":"Math.fixed(_0)"},"p":[76,97,2584]},"%"]}],"n":50,"x":{"r":["data.powerCellStatus"],"s":"_0!=null"},"p":[75,3,2451]},{"t":4,"n":51,"f":[{"p":[78,5,2647],"t":7,"e":"span","a":{"class":"bad"},"f":["Removed"]}],"x":{"r":["data.powerCellStatus"],"s":"_0!=null"}}]}," ",{"t":4,"f":[{"p":[82,3,2749],"t":7,"e":"ui-section","a":{"label":"Charge Mode"},"f":[{"t":4,"f":[{"p":[84,4,2830],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.chargeMode"],"s":"_0?\"good\":\"bad\""},"p":[84,17,2843]}]},"f":[{"t":2,"x":{"r":["data.chargeMode"],"s":"_0?\"Auto\":\"Off\""},"p":[84,55,2881]}]}],"n":50,"x":{"r":["data.locked","data.siliconUser"],"s":"_0&&!_1"},"p":[83,5,2786]},{"t":4,"n":51,"f":[{"p":[86,4,2941],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.chargeMode"],"s":"_0?\"refresh\":\"close\""},"p":[86,21,2958]}],"style":[{"t":2,"x":{"r":["data.chargeMode"],"s":"_0?\"selected\":null"},"p":[86,71,3008]}],"action":"charge"},"f":[{"t":2,"x":{"r":["data.chargeMode"],"s":"_0?\"Auto\":\"Off\""},"p":[87,22,3070]}]}],"x":{"r":["data.locked","data.siliconUser"],"s":"_0&&!_1"}}," [",{"p":[90,6,3147],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["powerState","data.chargingStatus"],"s":"_0(_1)"},"p":[90,19,3160]}]},"f":[{"t":2,"x":{"r":["data.chargingStatus"],"s":"_0==2?\"Fully Charged\":_0==1?\"Charging\":\"Not Charging\""},"p":[90,56,3197]}]},"]"]}],"n":50,"x":{"r":["data.powerCellStatus"],"s":"_0!=null"},"p":[81,4,2710]}]}," ",{"p":[94,2,3352],"t":7,"e":"ui-display","a":{"title":"Power Channels"},"f":[{"t":4,"f":[{"p":[96,3,3422],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"title","p":[96,22,3441]}],"nowrap":0},"f":[{"p":[97,5,3464],"t":7,"e":"div","a":{"class":"content"},"f":[{"t":2,"rx":{"r":"adata.powerChannels","m":[{"t":30,"n":"@index"},"powerLoad"]},"p":[97,26,3485]}]}," ",{"p":[98,5,3537],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[98,26,3558],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["status"],"s":"_0>=2?\"good\":\"bad\""},"p":[98,39,3571]}]},"f":[{"t":2,"x":{"r":["status"],"s":"_0>=2?\"On\":\"Off\""},"p":[98,73,3605]}]}]}," ",{"p":[99,5,3653],"t":7,"e":"div","a":{"class":"content"},"f":["[",{"p":[99,27,3675],"t":7,"e":"span","f":[{"t":2,"x":{"r":["status"],"s":"_0==1||_0==3?\"Auto\":\"Manual\""},"p":[99,33,3681]}]},"]"]}," ",{"p":[100,5,3750],"t":7,"e":"div","a":{"class":"content","style":"float:right"},"f":[{"t":4,"f":[{"p":[102,6,3841],"t":7,"e":"ui-button","a":{"icon":"refresh","state":[{"t":2,"x":{"r":["status"],"s":"_0==1||_0==3?\"selected\":null"},"p":[102,39,3874]}],"action":"channel","params":[{"t":2,"r":"topicParams.auto","p":[103,30,3955]}]},"f":["Auto"]}," ",{"p":[104,6,3999],"t":7,"e":"ui-button","a":{"icon":"power-off","state":[{"t":2,"x":{"r":["status"],"s":"_0==2?\"selected\":null"},"p":[104,41,4034]}],"action":"channel","params":[{"t":2,"r":"topicParams.on","p":[105,13,4100]}]},"f":["On"]}," ",{"p":[106,6,4140],"t":7,"e":"ui-button","a":{"icon":"close","state":[{"t":2,"x":{"r":["status"],"s":"_0==0?\"selected\":null"},"p":[106,37,4171]}],"action":"channel","params":[{"t":2,"r":"topicParams.off","p":[107,13,4237]}]},"f":["Off"]}],"n":50,"x":{"r":["data.locked","data.siliconUser"],"s":"!_0||_1"},"p":[101,4,3795]}]}]}],"n":52,"r":"data.powerChannels","p":[95,4,3391]}," ",{"p":[112,4,4328],"t":7,"e":"ui-section","a":{"label":"Total Load"},"f":[{"p":[113,3,4362],"t":7,"e":"span","a":{"class":"bold"},"f":[{"t":2,"r":"adata.totalLoad","p":[113,22,4381]}]}]}]}," ",{"t":4,"f":[{"p":[117,4,4469],"t":7,"e":"ui-display","a":{"title":"System Overrides"},"f":[{"p":[118,3,4509],"t":7,"e":"ui-button","a":{"icon":"lightbulb-o","action":"overload"},"f":["Overload"]}," ",{"t":4,"f":[{"p":[120,5,4608],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"r":"malfIcon","p":[120,22,4625]}],"state":[{"t":2,"x":{"r":["data.malfStatus"],"s":"_0==4?\"disabled\":null"},"p":[120,43,4646]}],"action":[{"t":2,"r":"malfAction","p":[120,97,4700]}]},"f":[{"t":2,"r":"malfButton","p":[120,113,4716]}]}],"n":50,"r":"data.malfStatus","p":[119,3,4580]}]}],"n":50,"r":"data.siliconUser","p":[116,2,4441]}," ",{"p":[124,2,4780],"t":7,"e":"ui-notice","f":[{"p":[125,4,4795],"t":7,"e":"ui-section","a":{"label":"Emergency Light Fallback"},"f":[{"t":4,"f":[{"p":[127,8,4894],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.emergencyLights"],"s":"_0?\"Enabled\":\"Disabled\""},"p":[127,14,4900]}]}],"n":50,"x":{"r":["data.locked","data.siliconUser"],"s":"_0&&!_1"},"p":[126,6,4846]},{"t":4,"n":51,"f":[{"p":[129,8,4978],"t":7,"e":"ui-button","a":{"icon":"lightbulb-o","action":"emergency_lighting"},"f":[{"t":2,"x":{"r":["data.emergencyLights"],"s":"_0?\"Enabled\":\"Disabled\""},"p":[129,66,5036]}]}],"x":{"r":["data.locked","data.siliconUser"],"s":"_0&&!_1"}}]}]}," ",{"p":[133,2,5143],"t":7,"e":"ui-notice","f":[{"p":[134,4,5158],"t":7,"e":"ui-section","a":{"label":"Night Shift Lighting"},"f":[{"t":4,"f":[{"p":[136,8,5253],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.nightshiftLights"],"s":"_0?\"Enabled\":\"Disabled\""},"p":[136,14,5259]}]}],"n":50,"x":{"r":["data.locked","data.siliconUser"],"s":"_0&&!_1"},"p":[135,6,5205]},{"t":4,"n":51,"f":[{"p":[138,8,5338],"t":7,"e":"ui-button","a":{"icon":"lightbulb-o","action":"toggle_nightshift"},"f":[{"t":2,"x":{"r":["data.nightshiftLights"],"s":"_0?\"Enabled\":\"Disabled\""},"p":[138,65,5395]}]}],"x":{"r":["data.locked","data.siliconUser"],"s":"_0&&!_1"}}]}]}," ",{"p":[142,2,5503],"t":7,"e":"ui-notice","f":[{"p":[143,4,5518],"t":7,"e":"ui-section","a":{"label":"Cover Lock"},"f":[{"t":4,"f":[{"p":[145,5,5597],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.coverLocked"],"s":"_0?\"Engaged\":\"Disengaged\""},"p":[145,11,5603]}]}],"n":50,"x":{"r":["data.locked","data.siliconUser"],"s":"_0&&!_1"},"p":[144,3,5552]},{"t":4,"n":51,"f":[{"p":[147,5,5673],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.coverLocked"],"s":"_0?\"lock\":\"unlock\""},"p":[147,22,5690]}],"action":"cover"},"f":[{"t":2,"x":{"r":["data.coverLocked"],"s":"_0?\"Engaged\":\"Disengaged\""},"p":[147,79,5747]}]}],"x":{"r":["data.locked","data.siliconUser"],"s":"_0&&!_1"}}]}]}],"r":"data.failTime"}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],366:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Alarms"},"f":[{"p":[2,3,31],"t":7,"e":"ul","f":[{"t":4,"f":[{"p":[4,7,72],"t":7,"e":"li","f":[{"p":[4,11,76],"t":7,"e":"ui-button","a":{"icon":"close","style":"danger","action":"clear","params":["{\"zone\": \"",{"t":2,"r":".","p":[4,83,148]},"\"}"]},"f":[{"t":2,"r":".","p":[4,92,157]}]}]}],"n":52,"r":"data.priority","p":[3,5,41]},{"t":4,"n":51,"f":[{"p":[6,7,201],"t":7,"e":"li","f":[{"p":[6,11,205],"t":7,"e":"span","a":{"class":"good"},"f":["No Priority Alerts"]}]}],"r":"data.priority"}," ",{"t":4,"f":[{"p":[9,7,303],"t":7,"e":"li","f":[{"p":[9,11,307],"t":7,"e":"ui-button","a":{"icon":"close","style":"caution","action":"clear","params":["{\"zone\": \"",{"t":2,"r":".","p":[9,84,380]},"\"}"]},"f":[{"t":2,"r":".","p":[9,93,389]}]}]}],"n":52,"r":"data.minor","p":[8,5,275]},{"t":4,"n":51,"f":[{"p":[11,7,433],"t":7,"e":"li","f":[{"p":[11,11,437],"t":7,"e":"span","a":{"class":"good"},"f":["No Minor Alerts"]}]}],"r":"data.minor"}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],367:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":[{"t":2,"x":{"r":["data.tank","data.sensors.0.long_name"],"s":"_0?_1:null"},"p":[1,20,19]}]},"f":[{"t":4,"f":[{"p":[3,5,102],"t":7,"e":"ui-subdisplay","a":{"title":[{"t":2,"x":{"r":["data.tank","long_name"],"s":"!_0?_1:null"},"p":[3,27,124]}]},"f":[{"p":[4,7,167],"t":7,"e":"ui-section","a":{"label":"Pressure"},"f":[{"p":[5,3,200],"t":7,"e":"span","f":[{"t":2,"x":{"r":["pressure"],"s":"Math.fixed(_0,2)"},"p":[5,9,206]}," kPa"]}]}," ",{"t":4,"f":[{"p":[8,9,302],"t":7,"e":"ui-section","a":{"label":"Temperature"},"f":[{"p":[9,11,346],"t":7,"e":"span","f":[{"t":2,"x":{"r":["temperature"],"s":"Math.fixed(_0,2)"},"p":[9,17,352]}," K"]}]}],"n":50,"r":"temperature","p":[7,7,273]}," ",{"t":4,"f":[{"p":[13,9,462],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"id","p":[13,28,481]}]},"f":[{"p":[14,5,495],"t":7,"e":"span","f":[{"t":2,"x":{"r":["."],"s":"Math.fixed(_0,2)"},"p":[14,11,501]},"%"]}]}],"n":52,"i":"id","r":"gases","p":[12,4,434]}]}],"n":52,"r":"adata.sensors","p":[2,3,73]}]}," ",{"t":4,"f":[{"p":{"button":[{"p":[23,5,704],"t":7,"e":"ui-button","a":{"icon":"refresh","action":"reconnect"},"f":["Reconnect"]}]},"t":7,"e":"ui-display","a":{"title":"Controls","button":0},"f":[" ",{"p":[25,5,792],"t":7,"e":"ui-section","a":{"label":"Input Injector"},"f":[{"p":[26,7,835],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.inputting"],"s":"_0?\"power-off\":\"close\""},"p":[26,24,852]}],"style":[{"t":2,"x":{"r":["data.inputting"],"s":"_0?\"selected\":null"},"p":[26,75,903]}],"action":"input"},"f":[{"t":2,"x":{"r":["data.inputting"],"s":"_0?\"Injecting\":\"Off\""},"p":[27,9,968]}]}]}," ",{"p":[29,5,1044],"t":7,"e":"ui-section","a":{"label":"Input Rate"},"f":[{"p":[30,7,1083],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"rate"},"f":[{"t":2,"x":{"r":["adata.inputRate"],"s":"Math.round(_0)"},"p":[30,46,1122]}," L/s"]}]}," ",{"p":[32,5,1194],"t":7,"e":"ui-section","a":{"label":"Output Regulator"},"f":[{"p":[33,7,1239],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.outputting"],"s":"_0?\"power-off\":\"close\""},"p":[33,24,1256]}],"style":[{"t":2,"x":{"r":["data.outputting"],"s":"_0?\"selected\":null"},"p":[33,76,1308]}],"action":"output"},"f":[{"t":2,"x":{"r":["data.outputting"],"s":"_0?\"Open\":\"Closed\""},"p":[34,9,1375]}]}]}," ",{"p":[36,5,1450],"t":7,"e":"ui-section","a":{"label":"Output Pressure"},"f":[{"p":[37,7,1494],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"pressure"},"f":[{"t":2,"x":{"r":["adata.outputPressure"],"s":"Math.round(_0)"},"p":[37,50,1537]}," kPa"]}]}]}],"n":50,"r":"data.tank","p":[20,1,618]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],368:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,3,15],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[3,5,46],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"power-off\":\"close\""},"p":[3,22,63]}],"style":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"selected\":null"},"p":[3,66,107]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"On\":\"Off\""},"p":[4,22,161]}]}]}," ",{"p":[6,3,218],"t":7,"e":"ui-section","a":{"label":"Transfer Rate"},"f":[{"p":[7,5,257],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"rate","params":"{\"rate\": \"input\"}"},"f":["Set"]}," ",{"p":[8,5,343],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.rate","data.max_rate"],"s":"_0==_1?\"disabled\":null"},"p":[8,35,373]}],"action":"rate","params":"{\"rate\": \"max\"}"},"f":["Max"]}," ",{"p":[9,5,484],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.rate"],"s":"Math.round(_0)"},"p":[9,11,490]}," L/s"]}]}," ",{"p":[11,3,546],"t":7,"e":"ui-section","a":{"label":"Filter"},"f":[{"t":4,"f":[{"p":[13,7,612],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["selected"],"s":"_0?\"selected\":null"},"p":[13,25,630]}],"action":"filter","params":["{\"mode\": ",{"t":2,"r":"id","p":[14,42,705]},"}"]},"f":[{"t":2,"r":"name","p":[14,51,714]}]}],"n":52,"r":"data.filter_types","p":[12,5,578]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],369:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,3,15],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[3,5,46],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"power-off\":\"close\""},"p":[3,22,63]}],"style":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"selected\":null"},"p":[3,66,107]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"On\":\"Off\""},"p":[4,22,161]}]}]}," ",{"p":[6,3,218],"t":7,"e":"ui-section","a":{"label":"Output Pressure"},"f":[{"p":[7,5,259],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"pressure","params":"{\"pressure\": \"input\"}"},"f":["Set"]}," ",{"p":[8,5,353],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.set_pressure","data.max_pressure"],"s":"_0==_1?\"disabled\":null"},"p":[8,35,383]}],"action":"pressure","params":"{\"pressure\": \"max\"}"},"f":["Max"]}," ",{"p":[9,5,514],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.set_pressure"],"s":"Math.round(_0)"},"p":[9,11,520]}," kPa"]}]}," ",{"p":[11,3,584],"t":7,"e":"ui-section","a":{"label":"Node 1"},"f":[{"p":[12,5,616],"t":7,"e":"ui-button","a":{"icon":"fast-backward","state":[{"t":2,"x":{"r":["data.node1_concentration"],"s":"_0==0?\"disabled\":null"},"p":[12,44,655]}],"action":"node1","params":"{\"concentration\": -0.1}"}}," ",{"p":[14,5,770],"t":7,"e":"ui-button","a":{"icon":"backward","state":[{"t":2,"x":{"r":["data.node1_concentration"],"s":"_0==0?\"disabled\":null"},"p":[14,39,804]}],"action":"node1","params":"{\"concentration\": -0.01}"}}," ",{"p":[16,5,920],"t":7,"e":"ui-button","a":{"icon":"forward","state":[{"t":2,"x":{"r":["data.node1_concentration"],"s":"_0==100?\"disabled\":null"},"p":[16,38,953]}],"action":"node1","params":"{\"concentration\": 0.01}"}}," ",{"p":[18,5,1070],"t":7,"e":"ui-button","a":{"icon":"fast-forward","state":[{"t":2,"x":{"r":["data.node1_concentration"],"s":"_0==100?\"disabled\":null"},"p":[18,43,1108]}],"action":"node1","params":"{\"concentration\": 0.1}"}}," ",{"p":[20,5,1224],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.node1_concentration"],"s":"Math.round(_0)"},"p":[20,11,1230]},"%"]}]}," ",{"p":[22,3,1298],"t":7,"e":"ui-section","a":{"label":"Node 2"},"f":[{"p":[23,5,1330],"t":7,"e":"ui-button","a":{"icon":"fast-backward","state":[{"t":2,"x":{"r":["data.node2_concentration"],"s":"_0==0?\"disabled\":null"},"p":[23,44,1369]}],"action":"node2","params":"{\"concentration\": -0.1}"}}," ",{"p":[25,5,1484],"t":7,"e":"ui-button","a":{"icon":"backward","state":[{"t":2,"x":{"r":["data.node2_concentration"],"s":"_0==0?\"disabled\":null"},"p":[25,39,1518]}],"action":"node2","params":"{\"concentration\": -0.01}"}}," ",{"p":[27,5,1634],"t":7,"e":"ui-button","a":{"icon":"forward","state":[{"t":2,"x":{"r":["data.node2_concentration"],"s":"_0==100?\"disabled\":null"},"p":[27,38,1667]}],"action":"node2","params":"{\"concentration\": 0.01}"}}," ",{"p":[29,5,1784],"t":7,"e":"ui-button","a":{"icon":"fast-forward","state":[{"t":2,"x":{"r":["data.node2_concentration"],"s":"_0==100?\"disabled\":null"},"p":[29,43,1822]}],"action":"node2","params":"{\"concentration\": 0.1}"}}," ",{"p":[31,5,1938],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.node2_concentration"],"s":"Math.round(_0)"},"p":[31,11,1944]},"%"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],370:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,3,15],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[3,5,46],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"power-off\":\"close\""},"p":[3,22,63]}],"style":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"selected\":null"},"p":[3,66,107]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"On\":\"Off\""},"p":[4,22,161]}]}]}," ",{"t":4,"f":[{"p":[7,5,244],"t":7,"e":"ui-section","a":{"label":"Transfer Rate"},"f":[{"p":[8,7,285],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"rate","params":"{\"rate\": \"input\"}"},"f":["Set"]}," ",{"p":[9,7,373],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.rate","data.max_rate"],"s":"_0==_1?\"disabled\":null"},"p":[9,37,403]}],"action":"rate","params":"{\"rate\": \"max\"}"},"f":["Max"]}," ",{"p":[10,7,516],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.rate"],"s":"Math.round(_0)"},"p":[10,13,522]}," L/s"]}]}],"n":50,"r":"data.max_rate","p":[6,3,218]},{"t":4,"n":51,"f":[{"p":[13,5,593],"t":7,"e":"ui-section","a":{"label":"Output Pressure"},"f":[{"p":[14,7,636],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"pressure","params":"{\"pressure\": \"input\"}"},"f":["Set"]}," ",{"p":[15,7,732],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.pressure","data.max_pressure"],"s":"_0==_1?\"disabled\":null"},"p":[15,37,762]}],"action":"pressure","params":"{\"pressure\": \"max\"}"},"f":["Max"]}," ",{"p":[16,7,891],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.pressure"],"s":"Math.round(_0)"},"p":[16,13,897]}," kPa"]}]}],"r":"data.max_rate"}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],371:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":{"button":[{"p":[3,3,70],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"rename"},"f":["Rename"]}]},"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"data.borg.name","p":[1,20,19]}],"button":0},"f":[" ",{"p":[5,2,145],"t":7,"e":"ui-section","a":{"label":"Status"},"f":[{"p":[6,4,176],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.borg.emagged"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[6,21,193]}],"style":[{"t":2,"x":{"r":["data.borg.emagged"],"s":"_0?\"selected\":null"},"p":[6,83,255]}],"action":"toggle_emagged"},"f":["Emagged"]}," ",{"p":[7,4,345],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.borg.lockdown"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[7,21,362]}],"style":[{"t":2,"x":{"r":["data.borg.lockdown"],"s":"_0?\"selected\":null"},"p":[7,84,425]}],"action":"toggle_lockdown"},"f":["Locked down"]}," ",{"p":[8,4,521],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.borg.scrambledcodes"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[8,21,538]}],"style":[{"t":2,"x":{"r":["data.borg.scrambledcodes"],"s":"_0?\"selected\":null"},"p":[8,90,607]}],"action":"toggle_scrambledcodes"},"f":["Scrambled codes"]}]}," ",{"p":[10,2,732],"t":7,"e":"ui-section","a":{"label":"Charge"},"f":[{"t":4,"f":[{"p":[12,4,792],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.cell.maxcharge","p":[12,25,813]}],"value":[{"t":2,"r":"data.cell.charge","p":[12,57,845]}]},"f":[{"t":2,"x":{"r":["data.cell.charge"],"s":"Math.round(_0)"},"p":[12,79,867]}," / ",{"t":2,"x":{"r":["data.cell.maxcharge"],"s":"Math.round(_0)"},"p":[12,114,902]}]}],"n":50,"x":{"r":["data.cell.missing"],"s":"!_0"},"p":[11,3,762]},{"t":4,"n":51,"f":[{"p":[14,4,961],"t":7,"e":"span","a":{"class":"warning"},"f":["Cell missing"]},{"p":[14,45,1002],"t":7,"e":"br"}],"x":{"r":["data.cell.missing"],"s":"!_0"}}," ",{"p":[16,3,1020],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_charge"},"f":["Set"]},{"p":[16,63,1080],"t":7,"e":"ui-button","a":{"icon":"eject","action":"change_cell"},"f":["Change"]},{"p":[16,126,1143],"t":7,"e":"ui-button","a":{"icon":"trash","class":"bad","action":"remove_cell"},"f":["Remove"]}]}," ",{"p":[18,2,1235],"t":7,"e":"ui-section","a":{"label":"Radio channels"},"f":[{"t":4,"f":[{"p":[20,4,1300],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["installed"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[20,21,1317]}],"style":[{"t":2,"x":{"r":["installed"],"s":"_0?\"selected\":null"},"p":[20,75,1371]}],"action":"toggle_radio","params":["{\"channel\": \"",{"t":2,"r":"name","p":[20,154,1450]},"\"}"]},"f":[{"t":2,"r":"name","p":[20,166,1462]}]}],"n":52,"r":"data.channels","p":[19,3,1273]}]}," ",{"p":[23,2,1511],"t":7,"e":"ui-section","a":{"label":"Module"},"f":[{"t":4,"f":[{"p":[25,4,1567],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.borg.active_module","type"],"s":"_0==_1?\"check-square-o\":\"square-o\""},"p":[25,21,1584]}],"style":[{"t":2,"x":{"r":["data.borg.active_module","type"],"s":"_0==_1?\"selected\":null"},"p":[25,97,1660]}],"action":"setmodule","params":["{\"module\": \"",{"t":2,"r":"type","p":[25,193,1756]},"\"}"]},"f":[{"t":2,"r":"name","p":[25,205,1768]}]}],"n":52,"r":"data.modules","p":[24,3,1541]}]}," ",{"p":[28,2,1817],"t":7,"e":"ui-section","a":{"label":"Upgrades"},"f":[{"t":4,"f":[{"p":[30,4,1876],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["installed"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[30,21,1893]}],"style":[{"t":2,"x":{"r":["installed"],"s":"_0?\"selected\":null"},"p":[30,75,1947]}],"action":"toggle_upgrade","params":["{\"upgrade\": \"",{"t":2,"r":"type","p":[30,155,2027]},"\"}"]},"f":[{"t":2,"r":"name","p":[30,167,2039]}]}],"n":52,"r":"data.upgrades","p":[29,3,1849]}]}," ",{"p":[33,2,2088],"t":7,"e":"ui-section","a":{"label":"Master AI"},"f":[{"t":4,"f":[{"p":[35,4,2143],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["connected"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[35,21,2160]}],"style":[{"t":2,"x":{"r":["connected"],"s":"_0?\"selected\":null"},"p":[35,75,2214]}],"action":"slavetoai","params":["{\"slavetoai\": \"",{"t":2,"r":"ref","p":[35,152,2291]},"\"}"]},"f":[{"t":2,"r":"name","p":[35,163,2302]}]}],"n":52,"r":"data.ais","p":[34,3,2121]}]}]}," ",{"p":{"button":[{"p":[41,3,2420],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.borg.lawupdate"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[41,20,2437]}],"style":[{"t":2,"x":{"r":["data.borg.lawupdate"],"s":"_0?\"selected\":null"},"p":[41,84,2501]}],"action":"toggle_lawupdate"},"f":["Lawsync"]}]},"t":7,"e":"ui-display","a":{"title":"Laws","button":0},"f":[" ",{"t":4,"f":[{"p":[44,3,2629],"t":7,"e":"p","f":[{"t":2,"r":".","p":[44,6,2632]}]}],"n":52,"r":"data.laws","p":[43,2,2607]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],372:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":{"button":[{"p":[3,5,65],"t":7,"e":"ui-button","a":{"icon":"clock-o","style":[{"t":2,"x":{"r":["data.timing"],"s":"_0?\"selected\":null"},"p":[3,38,98]}],"action":[{"t":2,"x":{"r":["data.timing"],"s":"_0?\"stop\":\"start\""},"p":[3,83,143]}]},"f":[{"t":2,"x":{"r":["data.timing"],"s":"_0?\"Stop\":\"Start\""},"p":[3,119,179]}]}," ",{"p":[4,5,230],"t":7,"e":"ui-button","a":{"icon":"lightbulb-o","action":"flash","style":[{"t":2,"x":{"r":["data.flash_charging"],"s":"_0?\"disabled\":null"},"p":[4,57,282]}]},"f":[{"t":2,"x":{"r":["data.flash_charging"],"s":"_0?\"Recharging\":\"Flash\""},"p":[4,102,327]}]}]},"t":7,"e":"ui-display","a":{"title":"Cell Timer","button":0},"f":[" ",{"p":[6,3,405],"t":7,"e":"ui-section","f":[{"p":[7,5,422],"t":7,"e":"ui-button","a":{"icon":"fast-backward","action":"time","params":"{\"adjust\": -600}"}}," ",{"p":[8,5,511],"t":7,"e":"ui-button","a":{"icon":"backward","action":"time","params":"{\"adjust\": -100}"}}," ",{"p":[9,5,595],"t":7,"e":"span","f":[{"t":2,"x":{"r":["text","data.minutes"],"s":"_0.zeroPad(_1,2)"},"p":[9,11,601]},":",{"t":2,"x":{"r":["text","data.seconds"],"s":"_0.zeroPad(_1,2)"},"p":[9,45,635]}]}," ",{"p":[10,5,680],"t":7,"e":"ui-button","a":{"icon":"forward","action":"time","params":"{\"adjust\": 100}"}}," ",{"p":[11,5,762],"t":7,"e":"ui-button","a":{"icon":"fast-forward","action":"time","params":"{\"adjust\": 600}"}}]}," ",{"p":[13,3,863],"t":7,"e":"ui-section","f":[{"p":[14,7,882],"t":7,"e":"ui-button","a":{"icon":"hourglass-start","action":"preset","params":"{\"preset\": \"short\"}"},"f":["Short"]}," ",{"p":[15,7,985],"t":7,"e":"ui-button","a":{"icon":"hourglass-start","action":"preset","params":"{\"preset\": \"medium\"}"},"f":["Medium"]}," ",{"p":[16,7,1090],"t":7,"e":"ui-button","a":{"icon":"hourglass-start","action":"preset","params":"{\"preset\": \"long\"}"},"f":["Long"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],373:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,3,22],"t":7,"e":"ui-notice","f":[{"t":2,"r":"data.notice","p":[3,5,38]}]}],"n":50,"r":"data.notice","p":[1,1,0]},{"p":[6,1,77],"t":7,"e":"ui-display","a":{"title":"Bluespace Artillery Control","button":0},"f":[{"t":4,"f":[{"p":[8,3,160],"t":7,"e":"ui-section","a":{"label":"Target"},"f":[{"p":[9,5,192],"t":7,"e":"ui-button","a":{"icon":"crosshairs","action":"recalibrate"},"f":[{"t":2,"r":"data.target","p":[9,55,242]}]}]}," ",{"p":[11,3,288],"t":7,"e":"ui-section","a":{"label":"Controls"},"f":[{"t":4,"f":[{"p":[13,3,344],"t":7,"e":"ui-notice","f":[{"p":[14,4,359],"t":7,"e":"span","f":["Bluespace Artillery firing protocols must be globally unlocked from two keycard authentication devices first!"]}]}],"n":50,"x":{"r":["data.unlocked"],"s":"!_0"},"p":[12,2,319]},{"t":4,"n":51,"f":[{"p":[17,3,509],"t":7,"e":"ui-button","a":{"icon":"warning","state":[{"t":2,"x":{"r":["data.ready"],"s":"_0?null:\"disabled\""},"p":[17,36,542]}],"action":"fire"},"f":["FIRE!"]}],"x":{"r":["data.unlocked"],"s":"!_0"}}]}],"n":50,"r":"data.connected","p":[7,3,135]}," ",{"t":4,"f":[{"p":[22,3,673],"t":7,"e":"ui-section","a":{"label":"Maintenance"},"f":[{"p":[23,7,712],"t":7,"e":"ui-button","a":{"icon":"wrench","action":"build"},"f":["Complete Deployment."]}]}],"n":50,"x":{"r":["data.connected"],"s":"!_0"},"p":[21,3,647]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],374:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-notice","f":[{"p":[2,3,14],"t":7,"e":"span","f":["The regulator ",{"t":2,"x":{"r":["data.hasHoldingTank"],"s":"_0?\"is\":\"is not\""},"p":[2,23,34]}," connected to a tank."]}]}," ",{"p":{"button":[{"p":[6,5,180],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"relabel"},"f":["Relabel"]}]},"t":7,"e":"ui-display","a":{"title":"Canister","button":0},"f":[" ",{"p":[8,3,259],"t":7,"e":"ui-section","a":{"label":"Pressure"},"f":[{"p":[9,5,293],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.tankPressure"],"s":"Math.round(_0)"},"p":[9,11,299]}," kPa"]}]}," ",{"p":[11,3,363],"t":7,"e":"ui-section","a":{"label":"Port"},"f":[{"p":[12,5,393],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.portConnected"],"s":"_0?\"good\":\"average\""},"p":[12,18,406]}]},"f":[{"t":2,"x":{"r":["data.portConnected"],"s":"_0?\"Connected\":\"Not Connected\""},"p":[12,63,451]}]}]}," ",{"t":4,"f":[{"p":[15,3,559],"t":7,"e":"ui-section","a":{"label":"Access"},"f":[{"p":[16,7,593],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.restricted"],"s":"_0?\"lock\":\"unlock\""},"p":[16,24,610]}],"style":[{"t":2,"x":{"r":[],"s":"\"caution\""},"p":[17,14,664]}],"action":"restricted"},"f":[{"t":2,"x":{"r":["data.restricted"],"s":"_0?\"Restricted to Engineering\":\"Public\""},"p":[18,27,705]}]}]}],"n":50,"r":"data.isPrototype","p":[14,3,531]}]}," ",{"p":[22,1,818],"t":7,"e":"ui-display","a":{"title":"Valve"},"f":[{"p":[23,3,847],"t":7,"e":"ui-section","a":{"label":"Release Pressure"},"f":[{"p":[24,5,889],"t":7,"e":"ui-bar","a":{"min":[{"t":2,"r":"data.minReleasePressure","p":[24,18,902]}],"max":[{"t":2,"r":"data.maxReleasePressure","p":[24,52,936]}],"value":[{"t":2,"r":"data.releasePressure","p":[25,14,978]}]},"f":[{"t":2,"x":{"r":["adata.releasePressure"],"s":"Math.round(_0)"},"p":[25,40,1004]}," kPa"]}]}," ",{"p":[27,3,1073],"t":7,"e":"ui-section","a":{"label":"Pressure Regulator"},"f":[{"p":[28,5,1117],"t":7,"e":"ui-button","a":{"icon":"refresh","state":[{"t":2,"x":{"r":["data.releasePressure","data.defaultReleasePressure"],"s":"_0!=_1?null:\"disabled\""},"p":[28,38,1150]}],"action":"pressure","params":"{\"pressure\": \"reset\"}"},"f":["Reset"]}," ",{"p":[30,5,1304],"t":7,"e":"ui-button","a":{"icon":"minus","state":[{"t":2,"x":{"r":["data.releasePressure","data.minReleasePressure"],"s":"_0>_1?null:\"disabled\""},"p":[30,36,1335]}],"action":"pressure","params":"{\"pressure\": \"min\"}"},"f":["Min"]}," ",{"p":[32,5,1480],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"pressure","params":"{\"pressure\": \"input\"}"},"f":["Set"]}," ",{"p":[33,5,1574],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.releasePressure","data.maxReleasePressure"],"s":"_0<_1?null:\"disabled\""},"p":[33,35,1604]}],"action":"pressure","params":"{\"pressure\": \"max\"}"},"f":["Max"]}]}," ",{"p":[36,3,1763],"t":7,"e":"ui-section","a":{"label":"Valve"},"f":[{"p":[37,5,1794],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.valveOpen"],"s":"_0?\"unlock\":\"lock\""},"p":[37,22,1811]}],"style":[{"t":2,"x":{"r":["data.valveOpen","data.hasHoldingTank"],"s":"_0?_1?\"caution\":\"danger\":null"},"p":[38,14,1864]}],"action":"valve"},"f":[{"t":2,"x":{"r":["data.valveOpen"],"s":"_0?\"Open\":\"Closed\""},"p":[39,22,1957]}]}]}]}," ",{"t":4,"f":[{"p":[42,1,2049],"t":7,"e":"ui-display","a":{"title":"Valve Toggle Timer"},"f":[{"t":4,"f":[{"p":[44,5,2112],"t":7,"e":"ui-section","a":{"label":"Adjust Timer"},"f":[{"p":[45,7,2152],"t":7,"e":"ui-button","a":{"icon":"refresh","state":[{"t":2,"x":{"r":["data.timer_is_not_default"],"s":"_0?null:\"disabled\""},"p":[45,40,2185]}],"action":"timer","params":"{\"change\": \"reset\"}"},"f":["Reset"]}," ",{"p":[47,7,2312],"t":7,"e":"ui-button","a":{"icon":"minus","state":[{"t":2,"x":{"r":["data.timer_is_not_min"],"s":"_0?null:\"disabled\""},"p":[47,38,2343]}],"action":"timer","params":"{\"change\": \"decrease\"}"},"f":["Decrease"]}," ",{"p":[49,7,2472],"t":7,"e":"ui-button","a":{"icon":"pencil","state":[{"t":2,"x":{"r":[],"s":"\"disabled\""},"p":[49,39,2504]}],"action":"timer","params":"{\"change\": \"input\"}"},"f":["Set"]}," ",{"p":[51,7,2587],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.timer_is_not_max"],"s":"_0?null:\"disabled\""},"p":[51,37,2617]}],"action":"timer","params":"{\"change\": \"increase\"}"},"f":["Increase"]}]}],"n":51,"r":"data.timing","p":[43,3,2091]}," ",{"p":[55,3,2779],"t":7,"e":"ui-section","a":{"label":"Timer"},"f":[{"p":[56,6,2811],"t":7,"e":"ui-button","a":{"icon":"clock-o","style":[{"t":2,"x":{"r":["data.timing"],"s":"_0?\"danger\":\"caution\""},"p":[56,39,2844]}],"action":"toggle_timer"},"f":[{"t":2,"x":{"r":["data.timing"],"s":"_0?\"On\":\"Off\""},"p":[57,30,2913]}]}," ",{"p":[59,2,2959],"t":7,"e":"ui-section","a":{"label":"Time until Valve Toggle"},"f":[{"p":[60,2,3005],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.timing","data.time_left","data.timer_set"],"s":"_0?_1:_2"},"p":[60,8,3011]}]}]}]}]}],"n":50,"r":"data.isPrototype","p":[41,1,2022]},{"p":{"button":[{"t":4,"f":[{"p":[69,7,3209],"t":7,"e":"ui-button","a":{"icon":"eject","style":[{"t":2,"x":{"r":["data.valveOpen"],"s":"_0?\"danger\":null"},"p":[69,38,3240]}],"action":"eject"},"f":["Eject"]}],"n":50,"r":"data.hasHoldingTank","p":[68,5,3175]}]},"t":7,"e":"ui-display","a":{"title":"Holding Tank","button":0},"f":[" ",{"t":4,"f":[{"p":[73,3,3370],"t":7,"e":"ui-section","a":{"label":"Label"},"f":[{"t":2,"r":"data.holdingTank.name","p":[74,4,3400]}]}," ",{"p":[76,3,3444],"t":7,"e":"ui-section","a":{"label":"Pressure"},"f":[{"t":2,"x":{"r":["adata.holdingTank.tankPressure"],"s":"Math.round(_0)"},"p":[77,4,3477]}," kPa"]}],"n":50,"r":"data.hasHoldingTank","p":[72,3,3340]},{"t":4,"n":51,"f":[{"p":[80,3,3556],"t":7,"e":"ui-section","f":[{"p":[81,4,3572],"t":7,"e":"span","a":{"class":"average"},"f":["No Holding Tank"]}]}],"r":"data.hasHoldingTank"}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],375:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  computed: {
    tabs: function tabs() {
      return Object.keys(this.get('data.supplies'));
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[11,1,158],"t":7,"e":"ui-display","a":{"title":"Cargo"},"f":[{"p":[12,3,188],"t":7,"e":"ui-section","a":{"label":"Shuttle"},"f":[{"t":4,"f":[{"p":[14,7,270],"t":7,"e":"ui-button","a":{"action":"send"},"f":[{"t":2,"r":"data.location","p":[14,32,295]}]}],"n":50,"x":{"r":["data.docked","data.requestonly"],"s":"_0&&!_1"},"p":[13,5,222]},{"t":4,"n":51,"f":[{"p":[16,7,346],"t":7,"e":"span","f":[{"t":2,"r":"data.location","p":[16,13,352]}]}],"x":{"r":["data.docked","data.requestonly"],"s":"_0&&!_1"}}]}," ",{"p":[19,3,410],"t":7,"e":"ui-section","a":{"label":"Credits"},"f":[{"p":[20,5,444],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.points"],"s":"Math.floor(_0)"},"p":[20,11,450]}]}]}," ",{"p":[22,3,506],"t":7,"e":"ui-section","a":{"label":"CentCom Message"},"f":[{"p":[23,7,550],"t":7,"e":"span","f":[{"t":2,"r":"data.message","p":[23,13,556]}]}]}," ",{"t":4,"f":[{"p":[26,5,644],"t":7,"e":"ui-section","a":{"label":"Loan"},"f":[{"t":4,"f":[{"p":[28,9,716],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.away","data.docked"],"s":"_0&&_1?null:\"disabled\""},"p":[29,17,744]}],"action":"loan"},"f":["Loan Shuttle"]}],"n":50,"x":{"r":["data.loan_dispatched"],"s":"!_0"},"p":[27,7,677]},{"t":4,"n":51,"f":[{"p":[32,9,868],"t":7,"e":"span","a":{"class":"bad"},"f":["Loaned to CentCom"]}],"x":{"r":["data.loan_dispatched"],"s":"!_0"}}]}],"n":50,"x":{"r":["data.loan","data.requestonly"],"s":"_0&&!_1"},"p":[25,3,600]}]}," ",{"t":4,"f":[{"p":{"button":[{"p":[40,7,1066],"t":7,"e":"ui-button","a":{"icon":"close","state":[{"t":2,"x":{"r":["data.cart.length"],"s":"_0?null:\"disabled\""},"p":[40,38,1097]}],"action":"clear"},"f":["Clear"]}]},"t":7,"e":"ui-display","a":{"title":"Cart","button":0},"f":[" ",{"t":4,"f":[{"p":[43,7,1222],"t":7,"e":"ui-section","a":{"candystripe":0,"nowrap":0},"f":[{"p":[44,9,1263],"t":7,"e":"div","a":{"class":"content"},"f":["#",{"t":2,"r":"id","p":[44,31,1285]}]}," ",{"p":[45,9,1307],"t":7,"e":"div","a":{"class":"content"},"f":[{"t":2,"r":"object","p":[45,30,1328]}]}," ",{"p":[46,9,1354],"t":7,"e":"div","a":{"class":"content"},"f":[{"t":2,"r":"cost","p":[46,30,1375]}," Credits"]}," ",{"p":[47,9,1407],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[48,11,1440],"t":7,"e":"ui-button","a":{"icon":"minus","action":"remove","params":["{\"id\": \"",{"t":2,"r":"id","p":[48,67,1496]},"\"}"]}}]}," ",{"t":4,"f":[{"p":[51,8,1554],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[51,29,1575],"t":7,"e":"b","f":["(Paid privately)"]}]}],"n":50,"r":"paid","p":[50,9,1533]}]}],"n":52,"r":"data.cart","p":[42,5,1195]},{"t":4,"n":51,"f":[{"p":[55,7,1662],"t":7,"e":"span","f":["Nothing in Cart"]}],"r":"data.cart"}]}],"n":50,"x":{"r":["data.requestonly"],"s":"!_0"},"p":[37,1,972]},{"p":{"button":[{"t":4,"f":[{"p":[62,7,1831],"t":7,"e":"ui-button","a":{"icon":"close","state":[{"t":2,"x":{"r":["data.requests.length"],"s":"_0?null:\"disabled\""},"p":[62,38,1862]}],"action":"denyall"},"f":["Clear"]}],"n":50,"x":{"r":["data.requestonly"],"s":"!_0"},"p":[61,5,1798]}]},"t":7,"e":"ui-display","a":{"title":"Requests","button":0},"f":[" ",{"t":4,"f":[{"p":[66,5,2004],"t":7,"e":"ui-section","a":{"candystripe":0,"nowrap":0},"f":[{"p":[67,7,2043],"t":7,"e":"div","a":{"class":"content"},"f":["#",{"t":2,"r":"id","p":[67,29,2065]}]}," ",{"p":[68,7,2085],"t":7,"e":"div","a":{"class":"content"},"f":[{"t":2,"r":"object","p":[68,28,2106]}]}," ",{"p":[69,7,2130],"t":7,"e":"div","a":{"class":"content"},"f":[{"t":2,"r":"cost","p":[69,28,2151]}," Credits"]}," ",{"p":[70,7,2181],"t":7,"e":"div","a":{"class":"content"},"f":["By ",{"t":2,"r":"orderer","p":[70,31,2205]}]}," ",{"p":[71,7,2230],"t":7,"e":"div","a":{"class":"content"},"f":["Comment: ",{"t":2,"r":"reason","p":[71,37,2260]}]}," ",{"t":4,"f":[{"p":[73,9,2319],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[74,11,2352],"t":7,"e":"ui-button","a":{"icon":"check","action":"approve","params":["{\"id\": \"",{"t":2,"r":"id","p":[74,68,2409]},"\"}"]}}," ",{"p":[75,11,2432],"t":7,"e":"ui-button","a":{"icon":"close","action":"deny","params":["{\"id\": \"",{"t":2,"r":"id","p":[75,65,2486]},"\"}"]}}]}],"n":50,"x":{"r":["data.requestonly"],"s":"!_0"},"p":[72,7,2284]}]}],"n":52,"r":"data.requests","p":[65,3,1975]},{"t":4,"n":51,"f":[{"p":[80,7,2569],"t":7,"e":"span","f":["No Requests"]}],"r":"data.requests"}]}," ",{"p":[83,1,2625],"t":7,"e":"ui-tabs","a":{"tabs":[{"t":2,"r":"tabs","p":[83,16,2640]}]},"f":[{"t":4,"f":[{"p":[85,5,2683],"t":7,"e":"tab","a":{"name":[{"t":2,"r":"name","p":[85,16,2694]}]},"f":[{"t":4,"f":[{"p":[87,9,2737],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[87,28,2756]}],"candystripe":0,"nowrap":0},"f":[{"t":4,"f":[{"p":[89,4,2814],"t":7,"e":"div","a":{"class":"content"},"f":["Small Item"]}],"n":50,"r":"small_item","p":[88,5,2791]},{"t":4,"n":51,"f":[{"p":[91,4,2870],"t":7,"e":"div","a":{"class":"content"},"f":[]}],"r":"small_item"}," ",{"t":4,"f":[{"p":[94,4,2936],"t":7,"e":"div","a":{"class":"content"},"f":["Restrictions Apply"]}],"n":50,"r":"access","p":[93,5,2917]},{"t":4,"n":51,"f":[{"p":[96,4,3000],"t":7,"e":"div","a":{"class":"content"},"f":[]}],"r":"access"}," ",{"p":[98,11,3053],"t":7,"e":"ui-button","a":{"tooltip":[{"t":2,"r":"desc","p":[98,31,3073]}],"tooltip-side":"left","action":"add","params":["{\"id\": \"",{"t":2,"r":"id","p":[98,90,3132]},"\",\"self_paid\": \"0\"}"]},"f":[{"t":2,"r":"cost","p":[98,117,3159]},"Credits"]}," ",{"p":[99,4,3191],"t":7,"e":"ui-button","a":{"tooltip":"Pay with your bank account instead of the cargo budget. Costs 10% extra for handling fees.","tooltip-side":"left","action":"add","params":["{\"id\": \"",{"t":2,"r":"id","p":[99,165,3352]},"\",\"self_paid\": \"1\"}"]},"f":["Buy Directly"]}]}],"n":52,"r":"packs","p":[86,7,2712]}]}],"n":52,"r":"data.supplies","p":[84,3,2654]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],376:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  computed: {
    tabs: function tabs() {
      return Object.keys(this.get('data.supplies'));
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[12,1,163],"t":7,"e":"ui-notice","f":[{"t":4,"f":[{"p":[14,5,207],"t":7,"e":"ui-section","a":{"label":"Interface Lock"},"f":[{"p":[15,7,249],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"lock\":\"unlock\""},"p":[15,24,266]}],"action":"lock"},"f":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"Engaged\":\"Disengaged\""},"p":[15,75,317]}]}]}],"n":50,"r":"data.siliconUser","p":[13,3,177]},{"t":4,"n":51,"f":[{"p":[18,5,405],"t":7,"e":"span","f":["Swipe a QM-Level ID card to ",{"t":2,"x":{"r":["data.locked"],"s":"_0?\"unlock\":\"lock\""},"p":[18,39,439]}," this interface."]}],"r":"data.siliconUser"}]}," ",{"t":4,"f":[{"p":[23,3,546],"t":7,"e":"ui-display","a":{"title":"Express Cargo Console"},"f":[{"p":[25,5,594],"t":7,"e":"ui-section","a":{"label":"Landing Location"},"f":[{"p":[26,7,638],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.usingBeacon"],"s":"_0?null:\"selected\""},"p":[26,25,656]}],"action":"LZCargo"},"f":["Cargo Bay"]}," ",{"p":[27,7,744],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.hasBeacon","data.usingBeacon"],"s":"_0?_1?\"selected\":null:\"disabled\""},"p":[27,25,762]}],"action":"LZBeacon"},"f":[{"t":2,"r":"data.beaconzone","p":[27,116,853]}," (",{"t":2,"r":"data.beaconName","p":[27,137,874]},")"]}," ",{"p":[28,7,913],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.canBuyBeacon"],"s":"_0?null:\"disabled\""},"p":[28,25,931]}],"action":"printBeacon"},"f":[{"t":2,"r":"data.printMsg","p":[28,90,996]}]}]}," ",{"p":[31,5,1049],"t":7,"e":"ui-section","a":{"label":"Credits"},"f":[{"p":[32,7,1084],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.points"],"s":"Math.floor(_0)"},"p":[32,13,1090]}]}]}," ",{"p":[35,5,1149],"t":7,"e":"ui-section","a":{"label":"Notice"},"f":[{"p":[36,7,1183],"t":7,"e":"span","f":[{"t":2,"r":"data.message","p":[36,13,1189]}]}]}]}," ",{"p":[39,3,1249],"t":7,"e":"ui-tabs","a":{"tabs":[{"t":2,"r":"tabs","p":[39,18,1264]}]},"f":[{"t":4,"f":[{"p":[41,7,1309],"t":7,"e":"tab","a":{"name":[{"t":2,"r":"name","p":[41,18,1320]}]},"f":[{"t":4,"f":[{"p":[43,11,1365],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[43,30,1384]}],"candystripe":0,"right":0},"f":[{"p":[44,13,1425],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.canBeacon"],"s":"_0?null:\"disabled\""},"p":[44,31,1443]}],"tooltip":[{"t":2,"r":"desc","p":[44,80,1492]}],"tooltip-side":"left","action":"add","params":["{\"id\": \"",{"t":2,"r":"id","p":[44,139,1551]},"\"}"]},"f":[{"t":2,"r":"cost","p":[44,149,1561]}," Credits ",{"t":2,"r":"data.beaconError","p":[44,166,1578]}]}]}],"n":52,"r":"packs","p":[42,9,1339]}]}],"n":52,"r":"data.supplies","p":[40,5,1279]}]}],"n":50,"x":{"r":["data.locked"],"s":"!_0"},"p":[22,1,522]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],377:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Cellular Emporium","button":0},"f":[{"p":[2,3,48],"t":7,"e":"ui-button","a":{"icon":"refresh","state":[{"t":2,"x":{"r":["data.can_readapt"],"s":"_0?null:\"disabled\""},"p":[2,36,81]}],"action":"readapt"},"f":["Readapt"]}," ",{"p":[4,3,166],"t":7,"e":"ui-section","a":{"label":"Genetic Points Remaining","right":0},"f":[{"t":2,"r":"data.genetic_points_remaining","p":[5,5,222]}]}]}," ",{"p":[8,1,286],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[10,3,326],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[10,22,345]}],"candystripe":0,"right":0},"f":[{"p":[11,5,378],"t":7,"e":"span","f":[{"t":2,"r":"desc","p":[11,11,384]}]}," ",{"p":[12,5,404],"t":7,"e":"span","f":[{"t":2,"r":"helptext","p":[12,11,410]}]}," ",{"p":[13,5,434],"t":7,"e":"span","f":["Cost: ",{"t":2,"r":"dna_cost","p":[13,17,446]}]}," ",{"p":[14,5,470],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["owned","can_purchase"],"s":"_0?\"selected\":_1?null:\"disabled\""},"p":[15,14,494]}],"action":"evolve","params":["{\"name\": \"",{"t":2,"r":"name","p":[17,25,599]},"\"}"]},"f":[{"t":2,"x":{"r":["owned"],"s":"_0?\"Evolved\":\"Evolve\""},"p":[18,7,618]}]}]}],"n":52,"r":"data.abilities","p":[9,1,299]},{"t":4,"f":[{"p":[23,3,716],"t":7,"e":"span","a":{"class":"warning"},"f":["No abilities available."]}],"n":51,"r":"data.abilities","p":[22,1,694]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],378:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-notice","f":[{"p":[2,5,16],"t":7,"e":"span","f":["To use this, simply spawn the atoms you want in one of the five Centcom Supplypod Bays. Items in the bay will then be launched inside your supplypod, one turf-full at a time! You can optionally use the following buttons to configure how the supplypod acts."]}]}," ",{"p":[5,1,300],"t":7,"e":"ui-display","a":{"title":"Centcom Pod Customization (to be used against helen weinstein)"},"f":[{"p":[8,5,390],"t":7,"e":"ui-section","a":{"label":"Which supplypod bay will you use?"},"f":[{"p":[9,6,450],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.bayNumber"],"s":"_0==1?\"selected\":null"},"p":[9,24,468]}],"action":"bay1"},"f":["Bay #1"]}," ",{"p":[10,6,552],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.bayNumber"],"s":"_0==2?\"selected\":null"},"p":[10,24,570]}],"action":"bay2"},"f":["Bay #2"]}," ",{"p":[11,6,654],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.bayNumber"],"s":"_0==3?\"selected\":null"},"p":[11,24,672]}],"action":"bay3"},"f":["Bay #3"]}," ",{"p":[12,6,755],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.bayNumber"],"s":"_0==4?\"selected\":null"},"p":[12,24,773]}],"action":"bay4"},"f":["Bay #4"]}," ",{"p":[13,6,856],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.bayNumber"],"s":"_0==5?\"selected\":null"},"p":[13,24,874]}],"action":"bay5","tooltip-side":"left","tooltip":"This bay is located on the western edge of CentCom. Its the glass room directly west of where ERT spawn, and south of the CentCom ferry. Useful for launching ERT/Deathsquads/etc. onto the station via drop pods."},"f":["ERT Bay"]}]}," ",{"p":[18,5,1219],"t":7,"e":"ui-section","a":{"label":"Teleport to:"},"f":[{"p":[19,9,1261],"t":7,"e":"ui-button","a":{"action":"teleportCentcom"},"f":[{"t":2,"r":"data.bay","p":[19,45,1297]}]}," ",{"p":[20,9,1330],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.oldArea"],"s":"_0?null:\"disabled\""},"p":[20,27,1348]}],"action":"teleportBack"},"f":[{"t":2,"x":{"r":["data.oldArea"],"s":"_0?_0:\"where you were\""},"p":[20,86,1407]}]}]}," ",{"p":[25,5,1495],"t":7,"e":"ui-section","a":{"label":"Launch the real atoms?"},"f":[{"p":[26,6,1545],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.launchClone"],"s":"_0?\"selected\":null"},"p":[26,24,1563]}],"action":"launchClone","tooltip-side":"left","tooltip":"Choosing this will create a duplicate of the item to be launched in Centcom, allowing you to send one type of item multiple times. Either way, the atoms are forceMoved into the supplypod after it lands (but before it opens)."},"f":["Launch Clones"]}]}," ",{"p":[29,5,1930],"t":7,"e":"ui-section","a":{"label":"Launch all at once?"},"f":[{"p":[30,9,1979],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.launchChoice"],"s":"_0==1?\"selected\":null"},"p":[30,27,1997]}],"action":"launchOrdered","tooltip-side":"left","tooltip":"Instead of launching everything in the bay at once, this will \"scan\" things (one turf-full at a time) in order, left to right and top to bottom. Refreshing will reset the \"scanner\" to the top-leftmost position."},"f":["Ordered"]}," ",{"p":[32,9,2345],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.launchChoice"],"s":"_0==2?\"selected\":null"},"p":[32,27,2363]}],"action":"launchRandom","tooltip-side":"left","tooltip":"Instead of launching everything in the bay at once, this will launch one random turf of items at a time."},"f":["Random"]}]}," ",{"p":[38,5,2619],"t":7,"e":"ui-section","a":{"label":"Add an explosion?"},"f":[{"p":[39,5,2662],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.explosionChoice"],"s":"_0==1?\"selected\":null"},"p":[39,23,2680]}],"action":"explosionCustom","tooltip-side":"left","tooltip":"This will cause an explosion of whatever size you like (including flame range) to occur as soon as the supplypod lands. Dont worry, supply-pods are explosion-proof!"},"f":["Custom Size"]}," ",{"p":[41,5,2983],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.explosionChoice"],"s":"_0==2?\"selected\":null"},"p":[41,23,3001]}],"action":"explosionBus","tooltip-side":"left","tooltip":"This will cause a maxcap explosion (dependent on server config) to occur as soon as the supplypod lands. Dont worry, supply-pods are explosion-proof!"},"f":["Adminbus"]}]}," ",{"p":[46,5,3299],"t":7,"e":"ui-section","a":{"label":"Extra damage?","(default":"None)"},"f":[{"p":[47,5,3355],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.damageChoice"],"s":"_0==1?\"selected\":null"},"p":[47,23,3373]}],"action":"damageCustom","tooltip-side":"left","tooltip":"Anyone caught under the pod when it lands will be dealt this amount of brute damage. Sucks to be them!"},"f":["Custom Damage"]}," ",{"p":[49,5,3611],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.damageChoice"],"s":"_0==2?\"selected\":null"},"p":[49,23,3629]}],"action":"damageGib","tooltip-side":"left","tooltip":"This will attempt to gib any mob caught under the pod when it lands, as well as dealing a nice 5000 brute damage. Ya know, just to be sure!"},"f":["Gib"]}]}," ",{"p":[54,5,3907],"t":7,"e":"ui-section","a":{"label":"Damaging effects?"},"f":[{"p":[55,5,3950],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectStun"],"s":"_0?\"selected\":null"},"p":[55,23,3968]}],"action":"effectStun","tooltip-side":"left","tooltip":"Anyone who is on the turf when the supplypod is launched will be stunned until the supplypod lands. They cant get away that easy!"},"f":["Stun"]}," ",{"p":[57,5,4215],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectLimb"],"s":"_0?\"selected\":null"},"p":[57,23,4233]}],"action":"effectLimb","tooltip-side":"left","tooltip":"This will cause anyone caught under the pod to lose a limb, excluding their head."},"f":["Delimb"]}," ",{"p":[59,5,4434],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectOrgans"],"s":"_0?\"selected\":null"},"p":[59,23,4452]}],"action":"effectOrgans","tooltip-side":"left","tooltip":"This will cause anyone caught under the pod to lose all their limbs and organs in a spectacular fashion."},"f":["Yeet Organs"]}]}," ",{"p":[64,5,4701],"t":7,"e":"ui-section","a":{"label":"Movement effects?"},"f":[{"p":[65,5,4744],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectBluespace"],"s":"_0?\"selected\":null"},"p":[65,23,4762]}],"action":"effectBluespace","tooltip-side":"left","tooltip":"Gives the supplypod an advanced Bluespace Recyling Device. After opening, the supplypod will be warped directly to the surface of a nearby NT-designated trash planet (/r/ss13)."},"f":["Bluespace"]}," ",{"p":[67,5,5071],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectStealth"],"s":"_0?\"selected\":null"},"p":[67,23,5089]}],"action":"effectStealth","tooltip-side":"left","tooltip":"This hides the red target icon from appearing when you launch the supplypod. Combos well with the \"Invisible\" style. Sneak attack, go!"},"f":["Stealth"]}," ",{"p":[69,5,5350],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectQuiet"],"s":"_0?\"selected\":null"},"p":[69,23,5368]}],"action":"effectQuiet","tooltip-side":"left","tooltip":"This will keep the supplypod from making any sounds, except for those specifically set by admins in the Sound section."},"f":["Quiet Landing"]}," ",{"p":[71,5,5615],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectReverse"],"s":"_0?\"selected\":null"},"p":[71,23,5633]}],"action":"effectReverse","tooltip-side":"left","tooltip":"This pod will not send any items. Instead, after landing, the supplypod will close (similar to a normal closet closing), and then launch back to the right centcom bay to drop off any new contents."},"f":["Reverse Mode"]}," ",{"p":[73,5,5961],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectMissile"],"s":"_0?\"selected\":null"},"p":[73,23,5979]}],"action":"effectMissile","tooltip-side":"left","tooltip":"This pod will not send any items. Instead, it will immediatley delete after landing (Similar visually to setting openDelay & departDelay to 0, but this looks nicer). Useful if you just wanna fuck some shit up. Combos well with the Missile style."},"f":["Missile Mode"]}," ",{"p":[75,5,6356],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectCircle"],"s":"_0?\"selected\":null"},"p":[75,23,6374]}],"action":"effectCircle","tooltip-side":"left","tooltip":"This will make the supplypod come in from any angle. Im not sure why this feature exists, but here it is."},"f":["Any Descent Angle"]}," ",{"p":[77,5,6614],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectBurst"],"s":"_0?\"selected\":null"},"p":[77,23,6632]}],"action":"effectBurst","tooltip-side":"left","tooltip":"This will make each click launch 5 supplypods inaccuratly around the target turf (a 3x3 area). Combos well with the Missle Mode if you dont want shit lying everywhere after."},"f":["Machine Gun Mode"]}," ",{"p":[79,5,6937],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectTarget"],"s":"_0?\"selected\":null"},"p":[79,23,6955]}],"action":"effectTarget","tooltip-side":"left","tooltip":"This will make the supplypod target a specific atom, instead of the mouses position. Smiting does this automatically!"},"f":["Specific Target"]}]}," ",{"p":[84,5,7221],"t":7,"e":"ui-section","a":{"label":"Change Name/Desc?"},"f":[{"p":[85,5,7264],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectName"],"s":"_0?\"selected\":null"},"p":[85,23,7282]}],"action":"effectName","tooltip-side":"left","tooltip":"Allows you to add a custom name and description."},"f":["Custom Name/Desc"]}," ",{"p":[87,5,7460],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.effectAnnounce"],"s":"_0?\"selected\":null"},"p":[87,23,7478]}],"action":"effectAnnounce","tooltip-side":"left","tooltip":"Alerts ghosts when a pod is launched. Useful if some dumb shit is aboutta come outta the pod."},"f":["Alert Ghosts"]}]}," ",{"p":[92,5,7721],"t":7,"e":"ui-section","a":{"label":"Sound?"},"f":[{"p":[93,5,7753],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.fallingSound"],"s":"_0?\"selected\":null"},"p":[93,23,7771]}],"action":"fallingSound","tooltip-side":"left","tooltip":"Choose a sound to play as the pod falls. Note that for this to work right you should know the exact length of the sound, in seconds."},"f":["Custom Falling Sound"]}," ",{"p":[95,5,8041],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.landingSound"],"s":"_0?\"selected\":null"},"p":[95,23,8059]}],"action":"landingSound","tooltip-side":"left","tooltip":"Choose a sound to play when the pod lands."},"f":["Custom Landing Sound"]}," ",{"p":[97,5,8239],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.openingSound"],"s":"_0?\"selected\":null"},"p":[97,23,8257]}],"action":"openingSound","tooltip-side":"left","tooltip":"Choose a sound to play when the pod opens."},"f":["Custom Opening Sound"]}," ",{"p":[99,5,8437],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.leavingSound"],"s":"_0?\"selected\":null"},"p":[99,23,8455]}],"action":"leavingSound","tooltip-side":"left","tooltip":"Choose a sound to play when the pod departs (whether that be delection in the case of a bluespace pod, or leaving for centcom for a reversing pod)."},"f":["Custom Leaving Sound"]}," ",{"p":[101,5,8740],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.soundVolume"],"s":"_0?\"selected\":null"},"p":[101,23,8758]}],"action":"soundVolume","tooltip-side":"left","tooltip":"Choose the volume for the sound to play at. Default values are between 1 and 100, but hey, do whatever. Im a tooltip, not a cop."},"f":["Admin Sound Volume"]}]}," ",{"p":[106,5,9036],"t":7,"e":"ui-section","a":{"label":"Delay timers?"},"f":[{"p":[107,5,9075],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.fallDuration"],"s":"_0!=4?\"selected\":null"},"p":[107,23,9093]}],"action":"fallDuration","tooltip-side":"left","tooltip":"Set how long the animation for the pod falling lasts. Create dramatic, slow falling pods!"},"f":["Custom Falling Duration"]}," ",{"p":[109,5,9328],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.landingDelay"],"s":"_0!=20?\"selected\":null"},"p":[109,23,9346]}],"action":"landingDelay","tooltip-side":"left","tooltip":"Choose the amount of time it takes for the supplypod to hit the station. By default this value is 0.5 seconds."},"f":["Custom Landing Time"]}," ",{"p":[111,9,9603],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.openingDelay"],"s":"_0!=30?\"selected\":null"},"p":[111,27,9621]}],"action":"openingDelay","tooltip-side":"left","tooltip":"Choose the amount of time it takes for the supplypod to open after landing. Useful for giving whatevers inside the pod a nice dramatic entrance! By default this value is 3 seconds."},"f":["Custom Opening Time"]}," ",{"p":[113,5,9944],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.departureDelay"],"s":"_0!=30?\"selected\":null"},"p":[113,23,9962]}],"action":"departureDelay","tooltip-side":"left","tooltip":"Choose the amount of time it takes for the supplypod to leave after landing. By default this value is 3 seconds."},"f":["Custom Leaving Time"]}]}," ",{"p":[118,5,10237],"t":7,"e":"ui-section","a":{"label":"Style?"},"f":[{"p":[119,5,10269],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==1?\"selected\":null"},"p":[119,23,10287]}],"action":"styleStandard","tooltip-side":"left","tooltip":"Changes the pods style from the default Centcom color scheme to your standard Nanotrasen black and orange. Same color scheme as the normal station-used supplypods."},"f":["Standard"]}," ",{"p":[121,5,10581],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==2?\"selected\":null"},"p":[121,23,10599]}],"action":"styleBluespace","tooltip-side":"left","tooltip":"Changes the pods style from the default Centcom color scheme to the same as the stations upgraded blue-and-white Bluespace Supplypods."},"f":["Advanced"]}," ",{"p":[123,5,10865],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==4?\"selected\":null"},"p":[123,23,10883]}],"action":"styleSyndie","tooltip-side":"left","tooltip":"Changes the pods style from the default Centcom color scheme to a menacing black and blood-red. Great for sending meme-ops in style!"},"f":["Syndicate"]}," ",{"p":[125,5,11145],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==5?\"selected\":null"},"p":[125,23,11163]}],"action":"styleBlue","tooltip-side":"left","tooltip":"Changes the pods style from the default Centcom color scheme to a menacing black and dark blue. Great for sending deathsquads in style!"},"f":["Deathsquad"]}," ",{"p":[127,5,11427],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==6?\"selected\":null"},"p":[127,23,11445]}],"action":"styleCult","tooltip-side":"left","tooltip":"Changes the pods style from the default Centcom style to a blood and rune covered cult pod!"},"f":["Cult Pod"]}," ",{"p":[129,5,11663],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==7?\"selected\":null"},"p":[129,23,11681]}],"action":"styleMissile","tooltip-side":"left","tooltip":"Changes the pods style from the default Centcom style to a large missile. Combos well with a missile mode, so the missile doesnt stick around after landing."},"f":["Missile"]}," ",{"p":[131,5,11966],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==8?\"selected\":null"},"p":[131,23,11984]}],"action":"styleSMissile","tooltip-side":"left","tooltip":"Changes the pods style from the default Centcom style to a large blood-red missile. Combos well with missile mode, so the missile doesnt stick around after landing."},"f":["Syndicate Missile"]}," ",{"p":[133,5,12288],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==9?\"selected\":null"},"p":[133,23,12306]}],"action":"styleBox","tooltip-side":"left","tooltip":"Changes the pods style from the default Centcom style to a large, dark-green military supply crate."},"f":["Supply Crate"]}," ",{"p":[135,5,12535],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==10?\"selected\":null"},"p":[135,23,12553]}],"action":"styleHONK","tooltip-side":"left","tooltip":"Changes the pods style from the default Centcom color scheme to a colorful, clown inspired look."},"f":["HONK"]}," ",{"p":[137,5,12773],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==11?\"selected\":null"},"p":[137,23,12791]}],"action":"styleFruit","tooltip-side":"left","tooltip":"for when an orange is angry"},"f":["Fruit~"]}," ",{"p":[139,5,12945],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==12?\"selected\":null"},"p":[139,23,12963]}],"action":"styleInvisible","tooltip-side":"left","tooltip":"Makes the supplypod invisible! Useful for when you want to use this feature with a gateway or something. Combos well with the \"Stealth\" and \"Quiet Landing\" effects."},"f":["Invisible"]}," ",{"p":[141,5,13260],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==13?\"selected\":null"},"p":[141,23,13278]}],"action":"styleGondola","tooltip-side":"left","tooltip":"this gondola can control when he wants to deliver his supplies if he has a smart enough mind, so offer up his body to ghosts for maximum enjoyment. (Make sure to turn off bluespace and set a arbitrarily high open-time if you do!)"},"f":["Gondola (alive)"]}," ",{"p":[143,5,13645],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.styleChoice"],"s":"_0==14?\"selected\":null"},"p":[143,23,13663]}],"action":"styleSeeThrough","tooltip-side":"left","tooltip":"By selecting this, the pod will instead look like whatevers inside it (as if it were the contents falling by themselves, without a pod). Useful for launching mechs at the station and standing tall as they soar in from the heavens."},"f":["Show Contents (See-Through Pod)!"]}]}]}," ",{"p":[148,1,14076],"t":7,"e":"ui-display","f":[{"p":[149,5,14093],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"data.numObjects","p":[149,24,14112]}," turfs in ",{"t":2,"r":"data.bay","p":[149,53,14141]}],"candystripe":0,"right":0},"f":[{"p":[150,9,14182],"t":7,"e":"ui-button","a":{"action":"refresh","tooltip-side":"left","tooltip":"Manually refreshes the possible things to launch in the pod bay."},"f":["Refresh Pod Bay"]}," ",{"p":[152,9,14349],"t":7,"e":"ui-button","a":{"style":[{"t":2,"x":{"r":["data.giveLauncher"],"s":"_0?\"selected\":null"},"p":[152,27,14367]}],"action":"giveLauncher","tooltip-side":"left","tooltip":"THE CODEX ASTARTES CALLS THIS MANEUVER: STEEL RAIN"},"f":["Enter Launch Mode"]}," ",{"p":[154,9,14559],"t":7,"e":"ui-button","a":{"style":"danger","action":"clearBay","tooltip-side":"left","tooltip":"This will delete all objs and mobs from the selected bay."},"f":["Clear Selected Bay"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],379:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Status"},"f":[{"p":[2,3,30],"t":7,"e":"ui-section","a":{"label":"Energy"},"f":[{"p":[3,5,62],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.maxEnergy","p":[3,26,83]}],"value":[{"t":2,"r":"data.energy","p":[3,53,110]}]},"f":[{"t":2,"x":{"r":["adata.energy"],"s":"Math.fixed(_0)"},"p":[3,70,127]}," Units"]}]}]}," ",{"p":[6,1,201],"t":7,"e":"ui-display","a":{"title":"Saved Recipes","button":0},"f":[{"p":[7,3,245],"t":7,"e":"ui-section","f":[{"p":[8,5,262],"t":7,"e":"ui-button","a":{"icon":"plus","action":"add_recipe"},"f":["Add Recipe"]}," ",{"p":[9,2,329],"t":7,"e":"ui-button","a":{"icon":"minus","action":"clear_recipes"},"f":["Clear Recipes"]}," ",{"t":4,"f":[{"p":[11,7,435],"t":7,"e":"ui-button","a":{"grid":0,"icon":"tint","action":"dispense_recipe","params":["{\"recipe\": \"",{"t":2,"r":"contents","p":[11,80,508]},"\"}"]},"f":[{"t":2,"r":"recipe_name","p":[11,96,524]}]}],"n":52,"r":"data.recipes","p":[10,5,406]}]}]}," ",{"p":{"button":[{"t":4,"f":[{"p":[18,7,702],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.amount","."],"s":"_0==_1?\"selected\":null"},"p":[18,37,732]}],"action":"amount","params":["{\"target\": ",{"t":2,"r":".","p":[18,114,809]},"}"]},"f":[{"t":2,"r":".","p":[18,122,817]}]}],"n":52,"r":"data.beakerTransferAmounts","p":[17,5,659]}]},"t":7,"e":"ui-display","a":{"title":"Dispense","button":0},"f":[" ",{"p":[21,3,866],"t":7,"e":"ui-section","f":[{"t":4,"f":[{"p":[23,7,914],"t":7,"e":"ui-button","a":{"grid":0,"icon":"tint","action":"dispense","params":["{\"reagent\": \"",{"t":2,"r":"id","p":[23,74,981]},"\"}"]},"f":[{"t":2,"r":"title","p":[23,84,991]}]}],"n":52,"r":"data.chemicals","p":[22,5,883]}]}]}," ",{"p":{"button":[{"t":4,"f":[{"p":[30,7,1161],"t":7,"e":"ui-button","a":{"icon":"minus","action":"remove","params":["{\"amount\": ",{"t":2,"r":".","p":[30,66,1220]},"}"]},"f":[{"t":2,"r":".","p":[30,74,1228]}]}],"n":52,"r":"data.beakerTransferAmounts","p":[29,5,1118]}," ",{"p":[32,5,1264],"t":7,"e":"ui-button","a":{"icon":"eject","state":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?null:\"disabled\""},"p":[32,36,1295]}],"action":"eject"},"f":["Eject"]}]},"t":7,"e":"ui-display","a":{"title":"Beaker","button":0},"f":[" ",{"p":[34,3,1390],"t":7,"e":"ui-section","a":{"label":"Contents"},"f":[{"t":4,"f":[{"p":[36,7,1458],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.beakerCurrentVolume"],"s":"Math.round(_0)"},"p":[36,13,1464]},"/",{"t":2,"r":"data.beakerMaxVolume","p":[36,55,1506]}," Units"]}," ",{"p":[37,7,1550],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[39,9,1601],"t":7,"e":"span","a":{"class":"highlight"},"t0":"fade","f":[{"t":2,"x":{"r":["volume"],"s":"Math.fixed(_0,2)"},"p":[39,52,1644]}," units of ",{"t":2,"r":"name","p":[39,87,1679]}]},{"p":[39,102,1694],"t":7,"e":"br"}],"n":52,"r":"adata.beakerContents","p":[38,7,1562]},{"t":4,"n":51,"f":[{"p":[41,9,1723],"t":7,"e":"span","a":{"class":"bad"},"f":["Beaker Empty"]}],"r":"adata.beakerContents"}],"n":50,"r":"data.isBeakerLoaded","p":[35,5,1424]},{"t":4,"n":51,"f":[{"p":[44,7,1796],"t":7,"e":"span","a":{"class":"average"},"f":["No Beaker"]}],"r":"data.isBeakerLoaded"}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],380:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Thermostat"},"f":[{"p":[2,3,34],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[3,5,65],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.isActive"],"s":"_0?\"power-off\":\"close\""},"p":[3,22,82]}],"style":[{"t":2,"x":{"r":["data.isActive"],"s":"_0?\"selected\":null"},"p":[4,10,134]}],"state":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?null:\"disabled\""},"p":[5,10,182]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.isActive"],"s":"_0?\"On\":\"Off\""},"p":[6,18,244]}]}]}," ",{"p":[8,3,307],"t":7,"e":"ui-section","a":{"label":"Target"},"f":[{"p":[9,4,338],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"temperature","params":"{\"target\": \"input\"}"},"f":[{"t":2,"x":{"r":["adata.targetTemp"],"s":"Math.round(_0)"},"p":[9,79,413]}," K"]}]}]}," ",{"p":{"button":[{"p":[14,5,551],"t":7,"e":"ui-button","a":{"icon":"eject","state":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?null:\"disabled\""},"p":[14,36,582]}],"action":"eject"},"f":["Eject"]}]},"t":7,"e":"ui-display","a":{"title":"Beaker","button":0},"f":[" ",{"p":[16,3,677],"t":7,"e":"ui-section","a":{"label":"Contents"},"f":[{"t":4,"f":[{"p":[18,7,745],"t":7,"e":"span","f":["Temperature: ",{"t":2,"x":{"r":["adata.currentTemp"],"s":"Math.round(_0)"},"p":[18,26,764]}," K"]}," ",{"p":[19,7,813],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[21,9,865],"t":7,"e":"span","a":{"class":"highlight"},"t0":"fade","f":[{"t":2,"x":{"r":["volume"],"s":"Math.fixed(_0,2)"},"p":[21,52,908]}," units of ",{"t":2,"r":"name","p":[21,87,943]}]},{"p":[21,102,958],"t":7,"e":"br"}],"n":52,"r":"adata.beakerContents","p":[20,7,826]},{"t":4,"n":51,"f":[{"p":[23,9,987],"t":7,"e":"span","a":{"class":"bad"},"f":["Beaker Empty"]}],"r":"adata.beakerContents"}],"n":50,"r":"data.isBeakerLoaded","p":[17,5,711]},{"t":4,"n":51,"f":[{"p":[26,7,1060],"t":7,"e":"span","a":{"class":"average"},"f":["No Beaker"]}],"r":"data.isBeakerLoaded"}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],381:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,2,31],"t":7,"e":"ui-display","a":{"title":"Beaker","button":0},"f":[{"p":[3,3,68],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?\"Eject\":\"close\""},"p":[3,20,85]}],"style":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?\"selected\":null"},"p":[4,11,140]}],"state":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?null:\"disabled\""},"p":[5,11,195]}],"action":"eject"},"f":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?\"Eject\":\"No beaker\""},"p":[7,5,262]}]}," ",{"p":[10,3,331],"t":7,"e":"ui-section","f":[{"t":4,"f":[{"t":4,"f":[{"p":[13,6,414],"t":7,"e":"ui-section","a":{"label":[{"t":2,"x":{"r":["volume"],"s":"Math.fixed(_0,2)"},"p":[13,25,433]}," units of ",{"t":2,"r":"name","p":[13,60,468]}],"nowrap":0},"f":[{"p":[14,7,492],"t":7,"e":"div","a":{"class":"content","style":"float:right"},"f":[{"p":[15,8,541],"t":7,"e":"ui-button","a":{"action":"transferToBuffer","params":["{\"id\": \"",{"t":2,"r":"id","p":[15,61,594]},"\", \"amount\": 1}"]},"f":["1"]}," ",{"p":[16,8,638],"t":7,"e":"ui-button","a":{"action":"transferToBuffer","params":["{\"id\": \"",{"t":2,"r":"id","p":[16,61,691]},"\", \"amount\": 5}"]},"f":["5"]}," ",{"p":[17,8,735],"t":7,"e":"ui-button","a":{"action":"transferToBuffer","params":["{\"id\": \"",{"t":2,"r":"id","p":[17,61,788]},"\", \"amount\": 10}"]},"f":["10"]}," ",{"p":[18,8,834],"t":7,"e":"ui-button","a":{"action":"transferToBuffer","params":["{\"id\": \"",{"t":2,"r":"id","p":[18,61,887]},"\", \"amount\": 1000}"]},"f":["All"]}," ",{"p":[19,8,936],"t":7,"e":"ui-button","a":{"action":"transferToBuffer","params":["{\"id\": \"",{"t":2,"r":"id","p":[19,61,989]},"\", \"amount\": -1}"]},"f":["Custom"]}," ",{"p":[20,8,1039],"t":7,"e":"ui-button","a":{"action":"analyze","params":["{\"id\": \"",{"t":2,"r":"id","p":[20,52,1083]},"\"}"]},"f":["Analyze"]}]}]}],"n":52,"r":"data.beakerContents","p":[12,5,379]},{"t":4,"n":51,"f":[{"p":[24,5,1161],"t":7,"e":"span","a":{"class":"bad"},"f":["Beaker Empty"]}],"r":"data.beakerContents"}],"n":50,"r":"data.isBeakerLoaded","p":[11,4,347]},{"t":4,"n":51,"f":[{"p":[27,5,1229],"t":7,"e":"span","a":{"class":"average"},"f":["No Beaker"]}],"r":"data.isBeakerLoaded"}]}]}," ",{"p":[32,2,1312],"t":7,"e":"ui-display","a":{"title":"Buffer"},"f":[{"p":[33,3,1342],"t":7,"e":"ui-button","a":{"action":"toggleMode","state":[{"t":2,"x":{"r":["data.mode"],"s":"_0?null:\"selected\""},"p":[33,41,1380]}]},"f":["Destroy"]}," ",{"p":[34,3,1437],"t":7,"e":"ui-button","a":{"action":"toggleMode","state":[{"t":2,"x":{"r":["data.mode"],"s":"_0?\"selected\":null"},"p":[34,41,1475]}]},"f":["Transfer to Beaker"]}," ",{"p":[35,3,1543],"t":7,"e":"ui-section","f":[{"t":4,"f":[{"p":[37,5,1593],"t":7,"e":"ui-section","a":{"label":[{"t":2,"x":{"r":["volume"],"s":"Math.fixed(_0,2)"},"p":[37,24,1612]}," units of ",{"t":2,"r":"name","p":[37,59,1647]}],"nowrap":0},"f":[{"p":[38,6,1670],"t":7,"e":"div","a":{"class":"content","style":"float:right"},"f":[{"p":[39,7,1718],"t":7,"e":"ui-button","a":{"action":"transferFromBuffer","params":["{\"id\": \"",{"t":2,"r":"id","p":[39,62,1773]},"\", \"amount\": 1}"]},"f":["1"]}," ",{"p":[40,7,1816],"t":7,"e":"ui-button","a":{"action":"transferFromBuffer","params":["{\"id\": \"",{"t":2,"r":"id","p":[40,62,1871]},"\", \"amount\": 5}"]},"f":["5"]}," ",{"p":[41,7,1914],"t":7,"e":"ui-button","a":{"action":"transferFromBuffer","params":["{\"id\": \"",{"t":2,"r":"id","p":[41,62,1969]},"\", \"amount\": 10}"]},"f":["10"]}," ",{"p":[42,7,2014],"t":7,"e":"ui-button","a":{"action":"transferFromBuffer","params":["{\"id\": \"",{"t":2,"r":"id","p":[42,62,2069]},"\", \"amount\": 1000}"]},"f":["All"]}," ",{"p":[43,7,2117],"t":7,"e":"ui-button","a":{"action":"transferFromBuffer","params":["{\"id\": \"",{"t":2,"r":"id","p":[43,62,2172]},"\", \"amount\": -1}"]},"f":["Custom"]}," ",{"p":[44,7,2221],"t":7,"e":"ui-button","a":{"action":"analyze","params":["{\"id\": \"",{"t":2,"r":"id","p":[44,51,2265]},"\"}"]},"f":["Analyze"]}]}]}],"n":52,"r":"data.bufferContents","p":[36,4,1559]}]}]}," ",{"t":4,"f":[{"p":[52,3,2393],"t":7,"e":"ui-display","a":{"title":"Pills, Bottles and Patches"},"f":[{"t":4,"f":[{"p":[54,5,2475],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["id","data.chosenPillStyle"],"s":"_0==_1?\"selected\":null"},"p":[54,23,2493]}],"action":"pillStyle","params":["{\"id\": \"",{"t":2,"r":"id","p":[54,108,2578]},"\"}"]},"f":[{"t":3,"r":"htmltag","p":[54,118,2588]}]}],"n":52,"r":"data.pillStyles","p":[53,4,2445]}," ",{"p":[56,4,2630],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[58,5,2674],"t":7,"e":"ui-button","a":{"action":"ejectp","state":[{"t":2,"x":{"r":["data.isPillBottleLoaded"],"s":"_0?null:\"disabled\""},"p":[58,39,2708]}]},"f":[{"t":2,"x":{"r":["data.isPillBottleLoaded"],"s":"_0?\"Eject\":\"No Pill bottle loaded\""},"p":[58,88,2757]}]}," ",{"p":[59,5,2837],"t":7,"e":"span","a":{"class":"content"},"f":[{"t":2,"r":"data.pillBotContent","p":[59,27,2859]},"/",{"t":2,"r":"data.pillBotMaxContent","p":[59,51,2883]}]}],"n":50,"r":"data.isPillBottleLoaded","p":[57,4,2638]},{"t":4,"n":51,"f":[{"p":[61,5,2933],"t":7,"e":"span","a":{"class":"average"},"f":["No Pillbottle"]}],"r":"data.isPillBottleLoaded"}," ",{"p":[63,4,2990],"t":7,"e":"br"}," ",{"p":[64,4,2999],"t":7,"e":"ui-button","a":{"action":"createPill","params":"{\"many\": 0}","state":[{"t":2,"x":{"r":["data.bufferContents"],"s":"_0?null:\"disabled\""},"p":[64,63,3058]}]},"f":["Create Pill (max 50µ)"]}," ",{"p":[65,4,3141],"t":7,"e":"br"}," ",{"p":[66,4,3150],"t":7,"e":"ui-button","a":{"action":"createPill","params":"{\"many\": 1}","state":[{"t":2,"x":{"r":["data.bufferContents"],"s":"_0?null:\"disabled\""},"p":[66,63,3209]}]},"f":["Create Multiple Pills"]}," ",{"p":[67,4,3292],"t":7,"e":"br"}," ",{"p":[68,4,3301],"t":7,"e":"br"}," ",{"p":[69,4,3310],"t":7,"e":"ui-button","a":{"action":"createPatch","params":"{\"many\": 0}","state":[{"t":2,"x":{"r":["data.bufferContents"],"s":"_0?null:\"disabled\""},"p":[69,64,3370]}]},"f":["Create Patch (max 40µ)"]}," ",{"p":[70,4,3454],"t":7,"e":"br"}," ",{"p":[71,4,3463],"t":7,"e":"ui-button","a":{"action":"createPatch","params":"{\"many\": 1}","state":[{"t":2,"x":{"r":["data.bufferContents"],"s":"_0?null:\"disabled\""},"p":[71,64,3523]}]},"f":["Create Multiple Patches"]}," ",{"p":[72,4,3608],"t":7,"e":"br"}," ",{"p":[73,4,3617],"t":7,"e":"br"}," ",{"p":[74,4,3626],"t":7,"e":"ui-button","a":{"action":"createBottle","params":"{\"many\": 0}","state":[{"t":2,"x":{"r":["data.bufferContents"],"s":"_0?null:\"disabled\""},"p":[74,65,3687]}]},"f":["Create Bottle (max 30µ)"]}," ",{"p":[75,4,3772],"t":7,"e":"br"}," ",{"p":[76,4,3781],"t":7,"e":"ui-button","a":{"action":"createBottle","params":"{\"many\": 1}","state":[{"t":2,"x":{"r":["data.bufferContents"],"s":"_0?null:\"disabled\""},"p":[76,65,3842]}]},"f":["Dispense Buffer to Bottles"]}]}],"n":50,"x":{"r":["data.condi"],"s":"!_0"},"p":[51,2,2371]},{"t":4,"n":51,"f":[{"p":[81,3,3959],"t":7,"e":"ui-display","a":{"title":"Condiments bottles and packs"},"f":[{"p":[82,4,4013],"t":7,"e":"ui-button","a":{"action":"createPill","params":"{\"many\": 0}","state":[{"t":2,"x":{"r":["data.bufferContents"],"s":"_0?null:\"disabled\""},"p":[82,63,4072]}]},"f":["Create Pack (max 10µ)"]}," ",{"p":[83,4,4155],"t":7,"e":"br"}," ",{"p":[84,4,4164],"t":7,"e":"br"}," ",{"p":[85,4,4173],"t":7,"e":"ui-button","a":{"action":"createBottle","params":"{\"many\": 0}","state":[{"t":2,"x":{"r":["data.bufferContents"],"s":"_0?null:\"disabled\""},"p":[85,65,4234]}]},"f":["Create Bottle (max 50µ)"]}]}],"x":{"r":["data.condi"],"s":"!_0"}}],"n":50,"x":{"r":["data.screen"],"s":"_0==\"home\""},"p":[1,1,0]},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["data.screen"],"s":"_0==\"analyze\""},"f":[{"p":[89,2,4378],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"data.analyzeVars.name","p":[89,20,4396]}]},"f":[{"p":[90,3,4426],"t":7,"e":"span","a":{"class":"highlight"},"f":["Description:"]}," ",{"p":[91,3,4473],"t":7,"e":"span","a":{"class":"content","style":"float:center"},"f":[{"t":2,"r":"data.analyzeVars.description","p":[91,46,4516]}]}," ",{"p":[92,3,4558],"t":7,"e":"br"}," ",{"p":[93,3,4566],"t":7,"e":"span","a":{"class":"highlight"},"f":["Color:"]}," ",{"p":[94,3,4607],"t":7,"e":"span","a":{"style":["color: ",{"t":2,"r":"data.analyzeVars.color","p":[94,23,4627]},"; background-color: ",{"t":2,"r":"data.analyzeVars.color","p":[94,69,4673]}]},"f":[{"t":2,"r":"data.analyzeVars.color","p":[94,97,4701]}]}," ",{"p":[95,3,4737],"t":7,"e":"br"}," ",{"p":[96,3,4745],"t":7,"e":"span","a":{"class":"highlight"},"f":["State:"]}," ",{"p":[97,3,4786],"t":7,"e":"span","a":{"class":"content"},"f":[{"t":2,"r":"data.analyzeVars.state","p":[97,25,4808]}]}," ",{"p":[98,3,4844],"t":7,"e":"br"}," ",{"p":[99,3,4852],"t":7,"e":"span","a":{"class":"highlight"},"f":["Metabolization Rate:"]}," ",{"p":[100,3,4907],"t":7,"e":"span","a":{"class":"content"},"f":[{"t":2,"r":"data.analyzeVars.metaRate","p":[100,25,4929]},"µ/minute"]}," ",{"p":[101,3,4976],"t":7,"e":"br"}," ",{"p":[102,3,4984],"t":7,"e":"span","a":{"class":"highlight"},"f":["Overdose Threshold:"]}," ",{"p":[103,3,5038],"t":7,"e":"span","a":{"class":"content"},"f":[{"t":2,"r":"data.analyzeVars.overD","p":[103,25,5060]}]}," ",{"p":[104,3,5096],"t":7,"e":"br"}," ",{"p":[105,3,5104],"t":7,"e":"span","a":{"class":"highlight"},"f":["Addiction Threshold:"]}," ",{"p":[106,3,5159],"t":7,"e":"span","a":{"class":"content"},"f":[{"t":2,"r":"data.analyzeVars.addicD","p":[106,25,5181]}]}," ",{"p":[107,3,5218],"t":7,"e":"br"}," ",{"p":[108,3,5226],"t":7,"e":"br"}," ",{"p":[109,3,5234],"t":7,"e":"ui-button","a":{"action":"goScreen","params":"{\"screen\": \"home\"}"},"f":["Back"]}]}]}],"x":{"r":["data.screen"],"s":"_0==\"home\""}}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],382:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Recipient Contents"},"f":[{"p":[2,2,41],"t":7,"e":"ui-section","f":[{"p":[3,3,56],"t":7,"e":"ui-button","a":{"icon":"eject","state":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?null:\"disabled\""},"p":[3,34,87]}],"action":"ejectBeaker"},"f":["Eject"]}," ",{"p":[4,3,173],"t":7,"e":"ui-button","a":{"icon":"circle","state":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?null:\"disabled\""},"p":[4,35,205]}],"action":"input"},"f":["Input"]}," ",{"p":[5,3,285],"t":7,"e":"ui-button","a":{"icon":"circle","state":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?null:\"disabled\""},"p":[5,35,317]}],"action":"amount"},"f":[{"t":2,"r":"data.amount","p":[5,96,378]},"U"]}," ",{"p":[6,3,409],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?\"disabled\":null"},"p":[6,33,439]}],"action":"makecup"},"f":["Create Beaker"]}]}]}," ",{"p":[9,1,556],"t":7,"e":"ui-display","a":{"title":"Recipient"},"f":[{"p":[10,2,588],"t":7,"e":"ui-section","a":{"label":"Contents"},"f":[{"t":4,"f":[{"p":[12,4,651],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.beakerCurrentVolume"],"s":"Math.round(_0)"},"p":[12,10,657]},"/",{"t":2,"r":"data.beakerMaxVolume","p":[12,52,699]}," Units"]}," ",{"t":4,"f":[{"p":[14,5,775],"t":7,"e":"span","a":{"class":"highlight"},"t0":"fade","f":[{"t":2,"x":{"r":["volume"],"s":"Math.fixed(_0,2)"},"p":[14,48,818]}," units of ",{"t":2,"r":"name","p":[14,83,853]}]},{"p":[14,98,868],"t":7,"e":"br"}],"n":52,"r":"adata.beakerContents","p":[13,4,740]},{"t":4,"n":51,"f":[{"p":[16,5,890],"t":7,"e":"span","a":{"class":"bad"},"f":["Recipient Empty"]}],"r":"adata.beakerContents"}],"n":50,"r":"data.isBeakerLoaded","p":[11,3,620]},{"t":4,"n":51,"f":[{"p":[19,4,958],"t":7,"e":"span","a":{"class":"average"},"f":["No Recipient"]}],"r":"data.isBeakerLoaded"}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],383:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,3,15],"t":7,"e":"ui-button","a":{"action":"toggle"},"f":[{"t":2,"x":{"r":["data.recollection"],"s":"_0?\"Recital\":\"Recollection\""},"p":[2,30,42]}]}]}," ",{"t":4,"f":[{"p":[5,3,145],"t":7,"e":"ui-display","f":[{"t":3,"r":"data.rec_text","p":[6,3,160]}," ",{"t":4,"f":[{"p":[8,4,224],"t":7,"e":"br"},{"p":[8,8,228],"t":7,"e":"ui-button","a":{"action":"rec_category","params":["{\"category\": \"",{"t":2,"r":"name","p":[8,63,283]},"\"}"]},"f":[{"t":3,"r":"name","p":[8,75,295]}," - ",{"t":3,"r":"desc","p":[8,88,308]}]}],"n":52,"r":"data.recollection_categories","p":[7,3,182]}," ",{"t":3,"r":"data.rec_section","p":[10,3,345]}," ",{"t":3,"r":"data.rec_binds","p":[11,3,370]}]}],"n":50,"r":"data.recollection","p":[4,1,117]},{"t":4,"n":51,"f":[{"p":[14,2,418],"t":7,"e":"ui-display","a":{"title":"Power","button":0},"f":[{"p":[15,4,455],"t":7,"e":"ui-section","f":[{"t":3,"r":"data.power","p":[16,6,473]}]}]}," ",{"p":[19,2,523],"t":7,"e":"ui-display","f":[{"p":[20,3,538],"t":7,"e":"ui-section","f":[{"p":[21,4,554],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.selected"],"s":"_0==\"Driver\"?\"selected\":null"},"p":[21,22,572]}],"action":"select","params":"{\"category\": \"Driver\"}"},"f":["Driver"]}," ",{"p":[22,4,694],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.selected"],"s":"_0==\"Script\"?\"selected\":null"},"p":[22,22,712]}],"action":"select","params":"{\"category\": \"Script\"}"},"f":["Scripts"]}," ",{"p":[23,4,835],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.selected"],"s":"_0==\"Application\"?\"selected\":null"},"p":[23,22,853]}],"action":"select","params":"{\"category\": \"Application\"}"},"f":["Applications"]}," ",{"p":[24,4,991],"t":7,"e":"br"},{"t":3,"r":"data.tier_info","p":[24,8,995]}]}," ",{"p":[26,3,1034],"t":7,"e":"ui-section","f":[{"t":3,"r":"data.scripturecolors","p":[27,4,1050]}]},{"p":[28,16,1092],"t":7,"e":"hr"}," ",{"p":[29,3,1099],"t":7,"e":"ui-section","f":[{"t":4,"f":[{"p":[31,4,1142],"t":7,"e":"div","f":[{"p":[31,9,1147],"t":7,"e":"ui-button","a":{"tooltip":[{"t":3,"r":"tip","p":[31,29,1167]}],"tooltip-side":"right","action":"recite","params":["{\"category\": \"",{"t":2,"r":"type","p":[31,99,1237]},"\"}"]},"f":["Recite ",{"t":3,"r":"required","p":[31,118,1256]}]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[34,6,1329],"t":7,"e":"ui-button","a":{"action":"bind","params":["{\"category\": \"",{"t":2,"r":"type","p":[34,53,1376]},"\"}"]},"f":["Unbind ",{"t":3,"r":"bound","p":[34,72,1395]}]}],"n":50,"r":"bound","p":[33,5,1310]},{"t":4,"n":51,"f":[{"p":[36,6,1437],"t":7,"e":"ui-button","a":{"action":"bind","params":["{\"category\": \"",{"t":2,"r":"type","p":[36,53,1484]},"\"}"]},"f":["Quickbind"]}],"r":"bound"}],"n":50,"r":"quickbind","p":[32,6,1288]}," ",{"t":3,"r":"name","p":[39,6,1548]}," ",{"t":3,"r":"descname","p":[39,17,1559]}," ",{"t":3,"r":"invokers","p":[39,32,1574]}]}],"n":52,"r":"data.scripture","p":[30,3,1114]}]}]}],"r":"data.recollection"}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],384:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Codex Gigas"},"f":[{"p":[2,2,34],"t":7,"e":"ui-section","f":[{"t":2,"r":"data.name","p":[3,3,49]}]}," ",{"p":[5,5,82],"t":7,"e":"ui-section","a":{"label":"Prefix"},"f":[{"p":[6,3,112],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==1?null:\"disabled\""},"p":[6,22,131]}],"action":"Dark "},"f":["Dark"]}," ",{"p":[7,3,215],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==1?null:\"disabled\""},"p":[7,22,234]}],"action":"Hellish "},"f":["Hellish"]}," ",{"p":[8,3,324],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==1?null:\"disabled\""},"p":[8,22,343]}],"action":"Fallen "},"f":["Fallen"]}," ",{"p":[9,3,431],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==1?null:\"disabled\""},"p":[9,22,450]}],"action":"Fiery "},"f":["Fiery"]}," ",{"p":[10,3,536],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==1?null:\"disabled\""},"p":[10,22,555]}],"action":"Sinful "},"f":["Sinful"]}," ",{"p":[11,3,643],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==1?null:\"disabled\""},"p":[11,22,662]}],"action":"Blood "},"f":["Blood"]}," ",{"p":[12,3,748],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==1?null:\"disabled\""},"p":[12,22,767]}],"action":"Fluffy "},"f":["Fluffy"]}]}," ",{"p":[14,5,875],"t":7,"e":"ui-section","a":{"label":"Title"},"f":[{"p":[15,3,904],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=2?null:\"disabled\""},"p":[15,22,923]}],"action":"Lord "},"f":["Lord"]}," ",{"p":[16,3,1007],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=2?null:\"disabled\""},"p":[16,22,1026]}],"action":"Prelate "},"f":["Prelate"]}," ",{"p":[17,3,1116],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=2?null:\"disabled\""},"p":[17,22,1135]}],"action":"Count "},"f":["Count"]}," ",{"p":[18,3,1221],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=2?null:\"disabled\""},"p":[18,22,1240]}],"action":"Viscount "},"f":["Viscount"]}," ",{"p":[19,3,1332],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=2?null:\"disabled\""},"p":[19,22,1351]}],"action":"Vizier "},"f":["Vizier"]}," ",{"p":[20,3,1439],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=2?null:\"disabled\""},"p":[20,22,1458]}],"action":"Elder "},"f":["Elder"]}," ",{"p":[21,3,1544],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=2?null:\"disabled\""},"p":[21,22,1563]}],"action":"Adept "},"f":["Adept"]}]}," ",{"p":[23,5,1669],"t":7,"e":"ui-section","a":{"label":"Name"},"f":[{"p":[24,3,1697],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[24,22,1716]}],"action":"hal"},"f":["hal"]}," ",{"p":[25,3,1797],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[25,22,1816]}],"action":"ve"},"f":["ve"]}," ",{"p":[26,3,1895],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[26,22,1914]}],"action":"odr"},"f":["odr"]}," ",{"p":[27,3,1995],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[27,22,2014]}],"action":"neit"},"f":["neit"]}," ",{"p":[28,3,2097],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[28,22,2116]}],"action":"ci"},"f":["ci"]}," ",{"p":[29,3,2195],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[29,22,2214]}],"action":"quon"},"f":["quon"]}," ",{"p":[30,3,2297],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[30,22,2316]}],"action":"mya"},"f":["mya"]}," ",{"p":[31,3,2397],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[31,22,2416]}],"action":"folth"},"f":["folth"]}," ",{"p":[32,3,2501],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[32,22,2520]}],"action":"wren"},"f":["wren"]}," ",{"p":[33,3,2603],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[33,22,2622]}],"action":"geyr"},"f":["geyr"]}," ",{"p":[34,3,2705],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[34,22,2724]}],"action":"hil"},"f":["hil"]}," ",{"p":[35,3,2805],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[35,22,2824]}],"action":"niet"},"f":["niet"]}," ",{"p":[36,3,2907],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[36,22,2926]}],"action":"twou"},"f":["twou"]}," ",{"p":[37,3,3009],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[37,22,3028]}],"action":"phi"},"f":["phi"]}," ",{"p":[38,3,3109],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0<=4?null:\"disabled\""},"p":[38,22,3128]}],"action":"coa"},"f":["coa"]}]}," ",{"p":[40,5,3229],"t":7,"e":"ui-section","a":{"label":"suffix"},"f":[{"p":[41,3,3259],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==4?null:\"disabled\""},"p":[41,22,3278]}],"action":" the Red"},"f":["the Red"]}," ",{"p":[42,3,3368],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==4?null:\"disabled\""},"p":[42,22,3387]}],"action":" the Soulless"},"f":["the Soulless"]}," ",{"p":[43,3,3487],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==4?null:\"disabled\""},"p":[43,22,3506]}],"action":" the Master"},"f":["the Master"]}," ",{"p":[44,3,3602],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==4?null:\"disabled\""},"p":[44,22,3621]}],"action":", the Lord of all things"},"f":["the Lord of all things"]}," ",{"p":[45,3,3742],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0==4?null:\"disabled\""},"p":[45,22,3761]}],"action":", Jr."},"f":["jr"]}]}," ",{"p":[47,5,3863],"t":7,"e":"ui-section","a":{"label":"submit"},"f":[{"p":[48,3,3894],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.currentSection"],"s":"_0>=4?null:\"disabled\""},"p":[48,21,3912]}],"action":"search"},"f":["search"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],385:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[2,1,1],"t":7,"e":"ui-button","a":{"icon":"circle","action":"clean_order"},"f":["Clear Order"]},{"p":[2,70,70],"t":7,"e":"br"},{"p":[2,74,74],"t":7,"e":"br"}," ",{"p":[3,1,79],"t":7,"e":"i","f":["Your new computer device you always dreamed of is just four steps away..."]},{"p":[3,81,159],"t":7,"e":"hr"}," ",{"t":4,"f":[" ",{"p":[5,1,219],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[6,2,239],"t":7,"e":"h2","f":["Step 1: Select your device type"]}," ",{"p":[7,2,281],"t":7,"e":"ui-button","a":{"icon":"calc","action":"pick_device","params":"{\"pick\" : \"1\"}"},"f":["Laptop"]}," ",{"p":[8,2,370],"t":7,"e":"ui-button","a":{"icon":"calc","action":"pick_device","params":"{\"pick\" : \"2\"}"},"f":["LTablet"]}]}],"n":50,"x":{"r":["data.state"],"s":"_0==0"},"p":[4,1,164]},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["data.state"],"s":"_0==1"},"f":[{"p":[11,1,492],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[12,2,512],"t":7,"e":"h2","f":["Step 2: Personalise your device"]}," ",{"p":[13,2,554],"t":7,"e":"table","f":[{"p":[14,3,564],"t":7,"e":"tr","f":[{"p":[15,4,572],"t":7,"e":"td","f":[{"p":[15,8,576],"t":7,"e":"b","f":["Current Price:"]}]},{"p":[16,4,601],"t":7,"e":"td","f":[{"t":2,"r":"data.totalprice","p":[16,8,605]},"C"]}]}," ",{"p":[18,3,636],"t":7,"e":"tr","f":[{"p":[19,4,645],"t":7,"e":"td","f":[{"p":[19,8,649],"t":7,"e":"b","f":["Battery:"]}]},{"p":[20,4,668],"t":7,"e":"td","f":[{"p":[20,8,672],"t":7,"e":"ui-button","a":{"action":"hw_battery","params":"{\"battery\" : \"1\"}","state":[{"t":2,"x":{"r":["data.hw_battery"],"s":"_0==1?\"selected\":null"},"p":[20,73,737]}]},"f":["Standard"]}]},{"p":[21,4,807],"t":7,"e":"td","f":[{"p":[21,8,811],"t":7,"e":"ui-button","a":{"action":"hw_battery","params":"{\"battery\" : \"2\"}","state":[{"t":2,"x":{"r":["data.hw_battery"],"s":"_0==2?\"selected\":null"},"p":[21,73,876]}]},"f":["Upgraded"]}]},{"p":[22,4,946],"t":7,"e":"td","f":[{"p":[22,8,950],"t":7,"e":"ui-button","a":{"action":"hw_battery","params":"{\"battery\" : \"3\"}","state":[{"t":2,"x":{"r":["data.hw_battery"],"s":"_0==3?\"selected\":null"},"p":[22,73,1015]}]},"f":["Advanced"]}]}]}," ",{"p":[24,3,1092],"t":7,"e":"tr","f":[{"p":[25,4,1100],"t":7,"e":"td","f":[{"p":[25,8,1104],"t":7,"e":"b","f":["Hard Drive:"]}]},{"p":[26,4,1126],"t":7,"e":"td","f":[{"p":[26,8,1130],"t":7,"e":"ui-button","a":{"action":"hw_disk","params":"{\"disk\" : \"1\"}","state":[{"t":2,"x":{"r":["data.hw_disk"],"s":"_0==1?\"selected\":null"},"p":[26,67,1189]}]},"f":["Standard"]}]},{"p":[27,4,1256],"t":7,"e":"td","f":[{"p":[27,8,1260],"t":7,"e":"ui-button","a":{"action":"hw_disk","params":"{\"disk\" : \"2\"}","state":[{"t":2,"x":{"r":["data.hw_disk"],"s":"_0==2?\"selected\":null"},"p":[27,67,1319]}]},"f":["Upgraded"]}]},{"p":[28,4,1386],"t":7,"e":"td","f":[{"p":[28,8,1390],"t":7,"e":"ui-button","a":{"action":"hw_disk","params":"{\"disk\" : \"3\"}","state":[{"t":2,"x":{"r":["data.hw_disk"],"s":"_0==3?\"selected\":null"},"p":[28,67,1449]}]},"f":["Advanced"]}]}]}," ",{"p":[30,3,1523],"t":7,"e":"tr","f":[{"p":[31,4,1531],"t":7,"e":"td","f":[{"p":[31,8,1535],"t":7,"e":"b","f":["Network Card:"]}]},{"p":[32,4,1559],"t":7,"e":"td","f":[{"p":[32,8,1563],"t":7,"e":"ui-button","a":{"action":"hw_netcard","params":"{\"netcard\" : \"0\"}","state":[{"t":2,"x":{"r":["data.hw_netcard"],"s":"_0==0?\"selected\":null"},"p":[32,73,1628]}]},"f":["None"]}]},{"p":[33,4,1694],"t":7,"e":"td","f":[{"p":[33,8,1698],"t":7,"e":"ui-button","a":{"action":"hw_netcard","params":"{\"netcard\" : \"1\"}","state":[{"t":2,"x":{"r":["data.hw_netcard"],"s":"_0==1?\"selected\":null"},"p":[33,73,1763]}]},"f":["Standard"]}]},{"p":[34,4,1833],"t":7,"e":"td","f":[{"p":[34,8,1837],"t":7,"e":"ui-button","a":{"action":"hw_netcard","params":"{\"netcard\" : \"2\"}","state":[{"t":2,"x":{"r":["data.hw_netcard"],"s":"_0==2?\"selected\":null"},"p":[34,73,1902]}]},"f":["Advanced"]}]}]}," ",{"p":[36,3,1979],"t":7,"e":"tr","f":[{"p":[37,4,1987],"t":7,"e":"td","f":[{"p":[37,8,1991],"t":7,"e":"b","f":["Nano Printer:"]}]},{"p":[38,4,2015],"t":7,"e":"td","f":[{"p":[38,8,2019],"t":7,"e":"ui-button","a":{"action":"hw_nanoprint","params":"{\"print\" : \"0\"}","state":[{"t":2,"x":{"r":["data.hw_nanoprint"],"s":"_0==0?\"selected\":null"},"p":[38,73,2084]}]},"f":["None"]}]},{"p":[39,4,2152],"t":7,"e":"td","f":[{"p":[39,8,2156],"t":7,"e":"ui-button","a":{"action":"hw_nanoprint","params":"{\"print\" : \"1\"}","state":[{"t":2,"x":{"r":["data.hw_nanoprint"],"s":"_0==1?\"selected\":null"},"p":[39,73,2221]}]},"f":["Standard"]}]}]}," ",{"p":[41,3,2300],"t":7,"e":"tr","f":[{"p":[42,4,2308],"t":7,"e":"td","f":[{"p":[42,8,2312],"t":7,"e":"b","f":["Card Reader:"]}]},{"p":[43,4,2335],"t":7,"e":"td","f":[{"p":[43,8,2339],"t":7,"e":"ui-button","a":{"action":"hw_card","params":"{\"card\" : \"0\"}","state":[{"t":2,"x":{"r":["data.hw_card"],"s":"_0==0?\"selected\":null"},"p":[43,67,2398]}]},"f":["None"]}]},{"p":[44,4,2461],"t":7,"e":"td","f":[{"p":[44,8,2465],"t":7,"e":"ui-button","a":{"action":"hw_card","params":"{\"card\" : \"1\"}","state":[{"t":2,"x":{"r":["data.hw_card"],"s":"_0==1?\"selected\":null"},"p":[44,67,2524]}]},"f":["Standard"]}]}]}]}," ",{"t":4,"f":[" ",{"p":[49,4,2658],"t":7,"e":"table","f":[{"p":[50,5,2670],"t":7,"e":"tr","f":[{"p":[51,6,2680],"t":7,"e":"td","f":[{"p":[51,10,2684],"t":7,"e":"b","f":["Processor Unit:"]}]},{"p":[52,6,2712],"t":7,"e":"td","f":[{"p":[52,10,2716],"t":7,"e":"ui-button","a":{"action":"hw_cpu","params":"{\"cpu\" : \"1\"}","state":[{"t":2,"x":{"r":["data.hw_cpu"],"s":"_0==1?\"selected\":null"},"p":[52,67,2773]}]},"f":["Standard"]}]},{"p":[53,6,2841],"t":7,"e":"td","f":[{"p":[53,10,2845],"t":7,"e":"ui-button","a":{"action":"hw_cpu","params":"{\"cpu\" : \"2\"}","state":[{"t":2,"x":{"r":["data.hw_cpu"],"s":"_0==2?\"selected\":null"},"p":[53,67,2902]}]},"f":["Advanced"]}]}]}," ",{"p":[55,5,2979],"t":7,"e":"tr","f":[{"p":[56,6,2989],"t":7,"e":"td","f":[{"p":[56,10,2993],"t":7,"e":"b","f":["Tesla Relay:"]}]},{"p":[57,6,3018],"t":7,"e":"td","f":[{"p":[57,10,3022],"t":7,"e":"ui-button","a":{"action":"hw_tesla","params":"{\"tesla\" : \"0\"}","state":[{"t":2,"x":{"r":["data.hw_tesla"],"s":"_0==0?\"selected\":null"},"p":[57,71,3083]}]},"f":["None"]}]},{"p":[58,6,3149],"t":7,"e":"td","f":[{"p":[58,10,3153],"t":7,"e":"ui-button","a":{"action":"hw_tesla","params":"{\"tesla\" : \"1\"}","state":[{"t":2,"x":{"r":["data.hw_tesla"],"s":"_0==1?\"selected\":null"},"p":[58,71,3214]}]},"f":["Standard"]}]}]}]}],"n":50,"x":{"r":["data.devtype"],"s":"_0!=2"},"p":[48,3,2612]}," ",{"p":[62,3,3313],"t":7,"e":"table","f":[{"p":[63,4,3324],"t":7,"e":"tr","f":[{"p":[64,5,3333],"t":7,"e":"td","f":[{"p":[64,9,3337],"t":7,"e":"b","f":["Confirm Order:"]}]},{"p":[65,5,3363],"t":7,"e":"td","f":[{"p":[65,9,3367],"t":7,"e":"ui-button","a":{"action":"confirm_order"},"f":["CONFIRM"]}]}]}]}," ",{"p":[69,2,3444],"t":7,"e":"hr"}," ",{"p":[70,2,3450],"t":7,"e":"b","f":["Battery"]}," allows your device to operate without external utility power source. Advanced batteries increase battery life.",{"p":[70,127,3575],"t":7,"e":"br"}," ",{"p":[71,2,3581],"t":7,"e":"b","f":["Hard Drive"]}," stores file on your device. Advanced drives can store more files, but use more power, shortening battery life.",{"p":[71,130,3709],"t":7,"e":"br"}," ",{"p":[72,2,3715],"t":7,"e":"b","f":["Network Card"]}," allows your device to wirelessly connect to stationwide NTNet network. Basic cards are limited to on-station use, while advanced cards can operate anywhere near the station, which includes the asteroid outposts.",{"p":[72,233,3946],"t":7,"e":"br"}," ",{"p":[73,2,3952],"t":7,"e":"b","f":["Processor Unit"]}," is critical for your device's functionality. It allows you to run programs from your hard drive. Advanced CPUs use more power, but allow you to run more programs on background at once.",{"p":[73,208,4158],"t":7,"e":"br"}," ",{"p":[74,2,4164],"t":7,"e":"b","f":["Tesla Relay"]}," is an advanced wireless power relay that allows your device to connect to nearby area power controller to provide alternative power source. This component is currently unavailable on tablet computers due to size restrictions.",{"p":[74,246,4408],"t":7,"e":"br"}," ",{"p":[75,2,4414],"t":7,"e":"b","f":["Nano Printer"]}," is device that allows for various paperwork manipulations, such as, scanning of documents or printing new ones. This device was certified EcoFriendlyPlus and is capable of recycling existing paper for printing purposes.",{"p":[75,241,4653],"t":7,"e":"br"}," ",{"p":[76,2,4659],"t":7,"e":"b","f":["Card Reader"]}," adds a slot that allows you to manipulate RFID cards. Please note that this is not necessary to allow the device to read your identification, it is just necessary to manipulate other cards."]}]},{"t":4,"n":50,"x":{"r":["data.state"],"s":"(!(_0==1))&&(_0==2)"},"f":[" ",{"p":[79,2,4903],"t":7,"e":"h2","f":["Step 3: Payment"]}," ",{"p":[80,2,4929],"t":7,"e":"b","f":["Your device is now ready for fabrication.."]},{"p":[80,51,4978],"t":7,"e":"br"}," ",{"p":[81,2,4984],"t":7,"e":"i","f":["Please ensure the required amount of credits are in the machine, then press purchase."]},{"p":[81,94,5076],"t":7,"e":"br"}," ",{"p":[82,2,5082],"t":7,"e":"i","f":["Current credits: ",{"p":[82,22,5102],"t":7,"e":"b","f":[{"t":2,"r":"data.credits","p":[82,25,5105]},"C"]}]},{"p":[82,50,5130],"t":7,"e":"br"}," ",{"p":[83,2,5136],"t":7,"e":"i","f":["Total price: ",{"p":[83,18,5152],"t":7,"e":"b","f":[{"t":2,"r":"data.totalprice","p":[83,21,5155]},"C"]}]},{"p":[83,49,5183],"t":7,"e":"br"},{"p":[83,53,5187],"t":7,"e":"br"}," ",{"p":[84,2,5193],"t":7,"e":"ui-button","a":{"action":"purchase","state":[{"t":2,"x":{"r":["data.credits","data.totalprice"],"s":"_0>=_1?null:\"disabled\""},"p":[84,38,5229]}]},"f":["PURCHASE"]}]},{"t":4,"n":50,"x":{"r":["data.state"],"s":"(!(_0==1))&&((!(_0==2))&&(_0==3))"},"f":[" ",{"p":[87,2,5337],"t":7,"e":"h2","f":["Step 4: Thank you for your purchase"]},{"p":[87,46,5381],"t":7,"e":"br"}," ",{"p":[88,2,5387],"t":7,"e":"b","f":["Should you experience any issues with your new device, contact your local network admin for assistance."]}]}],"x":{"r":["data.state"],"s":"_0==0"}}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],386:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,1,21],"t":7,"e":"ui-display","f":[{"p":[3,2,35],"t":7,"e":"ui-section","a":{"label":"Cap"},"f":[{"p":[4,3,62],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.is_capped"],"s":"_0?\"power-off\":\"close\""},"p":[4,20,79]}],"style":[{"t":2,"x":{"r":["data.is_capped"],"s":"_0?null:\"selected\""},"p":[4,71,130]}],"action":"toggle_cap"},"f":[{"t":2,"x":{"r":["data.is_capped"],"s":"_0?\"On\":\"Off\""},"p":[6,4,197]}]}]}]}],"n":50,"r":"data.has_cap","p":[1,1,0]},{"p":[10,1,279],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[14,2,406],"t":7,"e":"ui-section","f":[{"p":[15,3,421],"t":7,"e":"ui-button","a":{"action":"select_colour"},"f":["Select New Colour"]}]}],"n":50,"r":"data.can_change_colour","p":[13,1,374]}]}," ",{"p":[19,1,522],"t":7,"e":"ui-display","a":{"title":"Stencil"},"f":[{"t":4,"f":[{"p":[21,2,579],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[21,21,598]}]},"f":[{"t":4,"f":[{"p":[23,7,633],"t":7,"e":"ui-button","a":{"action":"select_stencil","params":["{\"item\":\"",{"t":2,"r":"item","p":[23,59,685]},"\"}"],"style":[{"t":2,"x":{"r":["item","data.selected_stencil"],"s":"_0==_1?\"selected\":null"},"p":[24,12,708]}]},"f":[{"t":2,"r":"item","p":[25,4,767]}]}],"n":52,"r":"items","p":[22,3,611]}]}],"n":52,"r":"data.drawables","p":[20,3,553]}]}," ",{"p":[31,1,844],"t":7,"e":"ui-display","a":{"title":"Text Mode"},"f":[{"p":[32,2,876],"t":7,"e":"ui-section","a":{"label":"Current Buffer"},"f":[{"t":2,"r":"text_buffer","p":[32,37,911]}]}," ",{"p":[34,2,943],"t":7,"e":"ui-section","f":[{"p":[34,14,955],"t":7,"e":"ui-button","a":{"action":"enter_text"},"f":["New Text"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],387:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
"use strict";

component.exports = {
	data: {
		isHead: function isHead(ijob) {
			return ijob % 10 == 0;
		},
		dept_class: function dept_class(ijob) {
			if (ijob == 0) {
				return "dept-cap";
			} // captain
			else if (ijob >= 10 && ijob < 20) {
					return "dept-sec";
				} // security
				else if (ijob >= 20 && ijob < 30) {
						return "dept-med";
					} // medical
					else if (ijob >= 30 && ijob < 40) {
							return "dept-sci";
						} // science
						else if (ijob >= 40 && ijob < 50) {
								return "dept-eng";
							} // engineering
							else if (ijob >= 50 && ijob < 60) {
									return "dept-cargo";
								} // cargo
								else if (ijob >= 200 && ijob < 230) {
										return "dept-cent";
									} // CentCom
									else {
											return "dept-other";
										} // other / unknown
		},
		health_state: function health_state(oxy, tox, burn, brute) {
			var avg_dam = oxy + tox + burn + brute;
			if (avg_dam <= 0) {
				return "health-5";
			} else if (avg_dam <= 25) {
				return "health-4";
			} else if (avg_dam <= 50) {
				return "health-3";
			} else if (avg_dam <= 75) {
				return "health-2";
			} else {
				return "health-0";
			}
		}
	}
};
})(component);
component.exports.css = "\t.health {\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t\tbackground-color: #FFF;\n\t\t\tborder: 1px solid #434343;\n\t\t\tposition: relative;\n\t\t\ttop: 2px;\n\t\t\tdisplay: inline-block;\n\t}\n\t.health-5 { background-color: #17d568; }\n\t.health-4 { background-color: #2ecc71; }\n\t.health-3 { background-color: #e67e22; }\n\t.health-2 { background-color: #ed5100; }\n\t.health-1 { background-color: #e74c3c; }\n\t.health-0 { background-color: #ed2814; }\n\n\t.dept-cap {color : #C06616;}\n\t.dept-sec {color : #E74C3C;}\n\t.dept-med {color : #3498DB;}\n\t.dept-sci {color : #9B59B6;}\n\t.dept-eng {color : #F1C40F;}\n\t.dept-cargo {color : #F39C12;}\n\t.dept-cent {color : #00C100;}\n\t.dept-other {color: #C38312;}\n\n\t.oxy { color : #3498db; }\n\t.toxin { color : #2ecc71; }\n\t.burn { color : #e67e22; }\n\t.brute { color : #e74c3c; }\n\n\ttable.crew{\n\t\tborder-collapse: collapse;\n\t}\n\n\ttable.crew td {\n\t\tpadding : 0px 10px;\n\t}";
component.exports.template = {"v":3,"t":[" ",{"p":[27,1,1004],"t":7,"e":"ui-display","f":[{"p":[28,2,1018],"t":7,"e":"ui-section","f":[{"p":[29,3,1033],"t":7,"e":"table","a":{"class":"crew"},"f":[{"p":[30,3,1056],"t":7,"e":"thead","f":[{"p":[31,3,1066],"t":7,"e":"tr","f":[{"p":[32,4,1074],"t":7,"e":"th","f":["Name"]}," ",{"p":[33,4,1091],"t":7,"e":"th","f":["Status"]}," ",{"p":[34,4,1110],"t":7,"e":"th","f":["Vitals"]}," ",{"p":[35,4,1129],"t":7,"e":"th","f":["Position"]}," ",{"t":4,"f":[{"p":[37,5,1180],"t":7,"e":"th","f":["Tracking"]}],"n":50,"r":"data.link_allowed","p":[36,4,1150]}]}]}," ",{"p":[41,3,1230],"t":7,"e":"tbody","f":[{"t":4,"f":[{"p":[43,4,1266],"t":7,"e":"tr","f":[{"p":[44,5,1275],"t":7,"e":"td","f":[{"p":[45,6,1285],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["isHead","ijob"],"s":"_0(_1)?\"bold \":\"\""},"p":[45,19,1298]},{"t":2,"x":{"r":["dept_class","ijob"],"s":"_0(_1)"},"p":[45,49,1328]}]},"f":[{"t":2,"r":"name","p":[46,7,1357]}," (",{"t":2,"r":"assignment","p":[46,17,1367]},") ",{"p":[47,6,1388],"t":7,"e":"span","f":[]}]}]}," ",{"p":[49,5,1409],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[51,7,1448],"t":7,"e":"span","a":{"class":["health ",{"t":2,"x":{"r":["health_state","oxydam","toxdam","burndam","brutedam"],"s":"_0(_1,_2,_3,_4)"},"p":[51,27,1468]}]}}],"n":50,"x":{"r":["oxydam"],"s":"_0!=null"},"p":[50,6,1419]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[54,8,1573],"t":7,"e":"span","a":{"class":"health health-5"}}],"n":50,"r":"life_status","p":[53,7,1546]},{"t":4,"n":51,"f":[{"p":[56,8,1633],"t":7,"e":"span","a":{"class":"health health-0"}}],"r":"life_status"}],"x":{"r":["oxydam"],"s":"_0!=null"}}]}," ",{"p":[60,5,1712],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[62,7,1751],"t":7,"e":"span","f":["( ",{"p":[64,8,1773],"t":7,"e":"span","a":{"class":"oxy"},"f":[{"t":2,"r":"oxydam","p":[64,26,1791]}]}," / ",{"p":[66,8,1825],"t":7,"e":"span","a":{"class":"toxin"},"f":[{"t":2,"r":"toxdam","p":[66,28,1845]}]}," / ",{"p":[68,8,1879],"t":7,"e":"span","a":{"class":"burn"},"f":[{"t":2,"r":"burndam","p":[68,27,1898]}]}," / ",{"p":[70,8,1933],"t":7,"e":"span","a":{"class":"brute"},"f":[{"t":2,"r":"brutedam","p":[70,28,1953]}]}," )"]}],"n":50,"x":{"r":["oxydam"],"s":"_0!=null"},"p":[61,6,1722]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[75,8,2042],"t":7,"e":"span","f":["Alive"]}],"n":50,"r":"life_status","p":[74,7,2015]},{"t":4,"n":51,"f":[{"p":[77,8,2083],"t":7,"e":"span","f":["Dead"]}],"r":"life_status"}],"x":{"r":["oxydam"],"s":"_0!=null"}}]}," ",{"p":[81,5,2142],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[83,6,2178],"t":7,"e":"span","f":[{"t":2,"r":"area","p":[83,12,2184]}]}],"n":50,"x":{"r":["pos_x"],"s":"_0!=null"},"p":[82,5,2151]},{"t":4,"n":51,"f":[{"p":[85,6,2218],"t":7,"e":"span","f":["N/A"]}],"x":{"r":["pos_x"],"s":"_0!=null"}}]}," ",{"t":4,"f":[{"p":[89,6,2293],"t":7,"e":"td","f":[{"p":[90,7,2304],"t":7,"e":"ui-button","a":{"action":"select_person","state":[{"t":2,"x":{"r":["can_track"],"s":"_0?null:\"disabled\""},"p":[90,48,2345]}],"params":["{\"name\":\"",{"t":2,"r":"name","p":[90,100,2397]},"\"}"]},"f":["Track"]}]}],"n":50,"r":"data.link_allowed","p":[88,5,2261]}]}],"n":52,"r":"data.sensors","p":[42,3,1240]}]}]}]}]}," "]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],388:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Occupant"},"f":[{"p":[2,3,32],"t":7,"e":"ui-section","a":{"label":"Occupant"},"f":[{"p":[3,3,64],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.occupant.name"],"s":"_0?_0:\"No Occupant\""},"p":[3,9,70]}]}]}," ",{"t":4,"f":[{"p":[6,5,184],"t":7,"e":"ui-section","a":{"label":"State"},"f":[{"p":[7,7,217],"t":7,"e":"span","a":{"class":[{"t":2,"r":"data.occupant.statstate","p":[7,20,230]}]},"f":[{"t":2,"r":"data.occupant.stat","p":[7,49,259]}]}]}," ",{"p":[9,4,309],"t":7,"e":"ui-section","a":{"label":"Temperature"},"f":[{"p":[10,6,347],"t":7,"e":"span","a":{"class":[{"t":2,"r":"data.occupant.temperaturestatus","p":[10,19,360]}]},"f":[{"t":2,"r":"data.occupant.bodyTemperature","p":[10,56,397]}," K"]}]}," ",{"p":[12,5,461],"t":7,"e":"ui-section","a":{"label":"Health"},"f":[{"p":[13,7,495],"t":7,"e":"ui-bar","a":{"min":[{"t":2,"r":"data.occupant.minHealth","p":[13,20,508]}],"max":[{"t":2,"r":"data.occupant.maxHealth","p":[13,54,542]}],"value":[{"t":2,"r":"data.occupant.health","p":[13,90,578]}],"state":[{"t":2,"x":{"r":["data.occupant.health"],"s":"_0>=0?\"good\":\"average\""},"p":[14,16,619]}]},"f":[{"t":2,"r":"data.occupant.health","p":[14,68,671]}]}]}," ",{"t":4,"f":[{"p":[17,7,892],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"label","p":[17,26,911]}]},"f":[{"p":[18,9,931],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.occupant.maxHealth","p":[18,30,952]}],"value":[{"t":2,"rx":{"r":"data.occupant","m":[{"t":30,"n":"type"}]},"p":[18,66,988]}],"state":"bad"},"f":[{"t":2,"rx":{"r":"data.occupant","m":[{"t":30,"n":"type"}]},"p":[18,103,1025]}]}]}],"n":52,"x":{"r":[],"s":"[{label:\"Brute\",type:\"bruteLoss\"},{label:\"Respiratory\",type:\"oxyLoss\"},{label:\"Toxin\",type:\"toxLoss\"},{label:\"Burn\",type:\"fireLoss\"}]"},"p":[16,5,727]}],"n":50,"r":"data.hasOccupant","p":[5,3,155]}]}," ",{"p":[23,1,1116],"t":7,"e":"ui-display","a":{"title":"Cell"},"f":[{"p":[24,3,1144],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[25,5,1175],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.isOperating"],"s":"_0?\"power-off\":\"close\""},"p":[25,22,1192]}],"style":[{"t":2,"x":{"r":["data.isOperating"],"s":"_0?\"selected\":null"},"p":[26,14,1251]}],"state":[{"t":2,"x":{"r":["data.isOpen"],"s":"_0?\"disabled\":null"},"p":[27,14,1306]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.isOperating"],"s":"_0?\"On\":\"Off\""},"p":[28,22,1364]}]}]}," ",{"p":[30,3,1430],"t":7,"e":"ui-section","a":{"label":"Temperature"},"f":[{"p":[31,3,1465],"t":7,"e":"span","a":{"class":[{"t":2,"r":"data.temperaturestatus","p":[31,16,1478]}]},"f":[{"t":2,"r":"data.cellTemperature","p":[31,44,1506]}," K"]}]}," ",{"p":[33,2,1556],"t":7,"e":"ui-section","a":{"label":"Door"},"f":[{"p":[34,5,1586],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.isOpen"],"s":"_0?\"unlock\":\"lock\""},"p":[34,22,1603]}],"action":"door"},"f":[{"t":2,"x":{"r":["data.isOpen"],"s":"_0?\"Open\":\"Closed\""},"p":[34,73,1654]}]}," ",{"p":[35,5,1706],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.autoEject"],"s":"_0?\"sign-out\":\"sign-in\""},"p":[35,22,1723]}],"action":"autoeject"},"f":[{"t":2,"x":{"r":["data.autoEject"],"s":"_0?\"Auto\":\"Manual\""},"p":[35,86,1787]}]}]}]}," ",{"p":{"button":[{"p":[40,5,1928],"t":7,"e":"ui-button","a":{"icon":"eject","state":[{"t":2,"x":{"r":["data.isBeakerLoaded"],"s":"_0?null:\"disabled\""},"p":[40,36,1959]}],"action":"ejectbeaker"},"f":["Eject"]}]},"t":7,"e":"ui-display","a":{"title":"Beaker","button":0},"f":[" ",{"p":[42,3,2060],"t":7,"e":"ui-section","a":{"label":"Contents"},"f":[{"t":4,"f":[{"t":4,"f":[{"p":[45,9,2167],"t":7,"e":"span","a":{"class":"highlight"},"t0":"fade","f":[{"t":2,"r":"volume","p":[45,52,2210]}," units of ",{"t":2,"r":"name","p":[45,72,2230]}]},{"p":[45,87,2245],"t":7,"e":"br"}],"n":52,"r":"adata.beakerContents","p":[44,7,2128]},{"t":4,"n":51,"f":[{"p":[47,9,2274],"t":7,"e":"span","a":{"class":"bad"},"f":["Beaker Empty"]}],"r":"adata.beakerContents"}],"n":50,"r":"data.isBeakerLoaded","p":[43,5,2094]},{"t":4,"n":51,"f":[{"p":[50,7,2347],"t":7,"e":"span","a":{"class":"average"},"f":["No Beaker"]}],"r":"data.isBeakerLoaded"}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],389:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,2,14],"t":7,"e":"ui-section","a":{"label":"State"},"f":[{"t":4,"f":[{"p":[4,4,73],"t":7,"e":"span","a":{"class":"good"},"f":["Ready"]}],"n":50,"r":"data.full_pressure","p":[3,3,43]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[7,5,147],"t":7,"e":"span","a":{"class":"bad"},"f":["Power Disabled"]}],"n":50,"r":"data.panel_open","p":[6,4,119]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[10,6,239],"t":7,"e":"span","a":{"class":"average"},"f":["Pressurizing"]}],"n":50,"r":"data.pressure_charging","p":[9,5,203]},{"t":4,"n":51,"f":[{"p":[12,6,299],"t":7,"e":"span","a":{"class":"bad"},"f":["Off"]}],"r":"data.pressure_charging"}],"r":"data.panel_open"}],"r":"data.full_pressure"}]}," ",{"p":[17,2,377],"t":7,"e":"ui-section","a":{"label":"Pressure"},"f":[{"p":[18,3,409],"t":7,"e":"ui-bar","a":{"min":"0","max":"100","value":[{"t":2,"r":"data.per","p":[18,36,442]}],"state":"good"},"f":[{"t":2,"r":"data.per","p":[18,63,469]},"%"]}]}," ",{"p":[20,5,511],"t":7,"e":"ui-section","a":{"label":"Handle"},"f":[{"p":[21,9,547],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.flush"],"s":"_0?\"toggle-on\":\"toggle-off\""},"p":[22,10,568]}],"state":[{"t":2,"x":{"r":["data.isai","data.panel_open"],"s":"_0||_1?\"disabled\":null"},"p":[23,11,625]}],"action":[{"t":2,"x":{"r":["data.flush"],"s":"_0?\"handle-0\":\"handle-1\""},"p":[24,12,691]}]},"f":[{"t":2,"x":{"r":["data.flush"],"s":"_0?\"Disengage\":\"Engage\""},"p":[25,5,739]}]}]}," ",{"p":[27,2,811],"t":7,"e":"ui-section","a":{"label":"Eject"},"f":[{"p":[28,3,840],"t":7,"e":"ui-button","a":{"icon":"sign-out","state":[{"t":2,"x":{"r":["data.isai"],"s":"_0?\"disabled\":null"},"p":[28,37,874]}],"action":"eject"},"f":["Eject Contents"]},{"p":[28,114,951],"t":7,"e":"br"}]}," ",{"p":[30,2,973],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[31,3,1002],"t":7,"e":"ui-button","a":{"icon":"power-off","state":[{"t":2,"x":{"r":["data.panel_open"],"s":"_0?\"disabled\":null"},"p":[31,38,1037]}],"action":[{"t":2,"x":{"r":["data.pressure_charging"],"s":"_0?\"pump-0\":\"pump-1\""},"p":[31,87,1086]}],"style":[{"t":2,"x":{"r":["data.pressure_charging"],"s":"_0?\"selected\":null"},"p":[31,145,1144]}]}},{"p":[31,206,1205],"t":7,"e":"br"}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],390:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"DNA Vault Database"},"f":[{"p":[2,3,42],"t":7,"e":"ui-section","a":{"label":"Human DNA"},"f":[{"p":[3,7,79],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.dna_max","p":[3,28,100]}],"value":[{"t":2,"r":"data.dna","p":[3,53,125]}]},"f":[{"t":2,"r":"data.dna","p":[3,67,139]},"/",{"t":2,"r":"data.dna_max","p":[3,80,152]}," Samples"]}]}," ",{"p":[5,3,204],"t":7,"e":"ui-section","a":{"label":"Plant Data"},"f":[{"p":[6,5,240],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.plants_max","p":[6,26,261]}],"value":[{"t":2,"r":"data.plants","p":[6,54,289]}]},"f":[{"t":2,"r":"data.plants","p":[6,71,306]},"/",{"t":2,"r":"data.plants_max","p":[6,87,322]}," Samples"]}]}," ",{"p":[8,3,377],"t":7,"e":"ui-section","a":{"label":"Animal Data"},"f":[{"p":[9,5,414],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.animals_max","p":[9,26,435]}],"value":[{"t":2,"r":"data.animals","p":[9,55,464]}]},"f":[{"t":2,"r":"data.animals","p":[9,73,482]},"/",{"t":2,"r":"data.animals_max","p":[9,90,499]}," Samples"]}]}]}," ",{"t":4,"f":[{"p":[13,1,604],"t":7,"e":"ui-display","a":{"title":"Personal Gene Therapy"},"f":[{"p":[14,3,650],"t":7,"e":"ui-section","f":[{"p":[15,2,664],"t":7,"e":"span","f":["Applicable gene therapy treatments:"]}]}," ",{"p":[17,3,731],"t":7,"e":"ui-section","f":[{"p":[18,2,745],"t":7,"e":"ui-button","a":{"action":"gene","params":["{\"choice\": \"",{"t":2,"r":"data.choiceA","p":[18,47,790]},"\"}"]},"f":[{"t":2,"r":"data.choiceA","p":[18,67,810]}]}," ",{"p":[19,2,840],"t":7,"e":"ui-button","a":{"action":"gene","params":["{\"choice\": \"",{"t":2,"r":"data.choiceB","p":[19,47,885]},"\"}"]},"f":[{"t":2,"r":"data.choiceB","p":[19,67,905]}]}]}]}],"n":50,"x":{"r":["data.completed","data.used"],"s":"_0&&!_1"},"p":[12,1,567]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],391:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,3,23],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"data.question","p":[2,21,41]}]},"f":[{"p":[3,5,64],"t":7,"e":"ui-section","f":[{"t":4,"f":[{"p":[5,9,114],"t":7,"e":"ui-button","a":{"action":"vote","params":["{\"answer\": \"",{"t":2,"r":"answer","p":[6,45,169]},"\"}"],"style":[{"t":2,"x":{"r":["selected"],"s":"_0?\"selected\":null"},"p":[7,18,200]}]},"f":[{"t":2,"r":"answer","p":[7,53,235]}," (",{"t":2,"r":"amount","p":[7,65,247]},")"]}],"n":52,"r":"data.answers","p":[4,7,83]}]}]}],"n":50,"r":"data.shaking","p":[1,1,0]},{"t":4,"n":51,"f":[{"p":[13,3,341],"t":7,"e":"ui-notice","f":["The eightball is not currently being shaken."]}],"r":"data.shaking"}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],392:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-notice","f":[{"p":[2,5,16],"t":7,"e":"span","f":["Time Until Launch: ",{"t":2,"r":"data.timer_str","p":[2,30,41]}]}]}," ",{"p":[4,1,80],"t":7,"e":"ui-notice","f":[{"p":[5,3,94],"t":7,"e":"span","f":["Engines: ",{"t":2,"x":{"r":["data.engines_started"],"s":"_0?\"Online\":\"Idle\""},"p":[5,18,109]}]}]}," ",{"p":[7,1,174],"t":7,"e":"ui-display","a":{"title":"Early Launch"},"f":[{"p":[8,2,209],"t":7,"e":"span","f":["Authorizations Remaining: ",{"t":2,"x":{"r":["data.emagged","data.authorizations_remaining"],"s":"_0?\"ERROR\":_1"},"p":[9,2,242]}]}," ",{"p":[10,2,309],"t":7,"e":"ui-button","a":{"icon":"exclamation-triangle","action":"authorize","style":"danger","state":[{"t":2,"x":{"r":["data.enabled"],"s":"_0?null:\"disabled\""},"p":[12,10,393]}]},"f":["AUTHORIZE"]}," ",{"p":[15,2,459],"t":7,"e":"ui-button","a":{"icon":"minus","action":"repeal","state":[{"t":2,"x":{"r":["data.enabled"],"s":"_0?null:\"disabled\""},"p":[16,10,508]}]},"f":["Repeal"]}," ",{"p":[19,2,571],"t":7,"e":"ui-button","a":{"icon":"close","action":"abort","state":[{"t":2,"x":{"r":["data.enabled"],"s":"_0?null:\"disabled\""},"p":[20,10,619]}]},"f":["Repeal All"]}]}," ",{"p":[24,1,699],"t":7,"e":"ui-display","a":{"title":"Authorizations"},"f":[{"t":4,"f":[{"p":[26,3,768],"t":7,"e":"ui-section","a":{"candystripe":0,"nowrap":0},"f":[{"t":2,"r":"name","p":[26,34,799]}," (",{"t":2,"r":"job","p":[26,44,809]},")"]}],"n":52,"r":"data.authorizations","p":[25,2,736]},{"t":4,"n":51,"f":[{"p":[28,3,843],"t":7,"e":"ui-section","a":{"candystripe":0,"nowrap":0},"f":["No authorizations."]}],"r":"data.authorizations"}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],393:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,3,15],"t":7,"e":"ui-section","a":{"label":"Message"},"f":[{"t":2,"r":"data.hidden_message","p":[3,5,48]}]}," ",{"p":[5,3,90],"t":7,"e":"ui-section","a":{"label":"Created On"},"f":[{"t":2,"r":"data.realdate","p":[6,5,126]}]}," ",{"p":[8,3,162],"t":7,"e":"ui-section","a":{"label":"Approval"},"f":[{"p":[9,5,196],"t":7,"e":"ui-button","a":{"icon":"arrow-up","state":[{"t":2,"x":{"r":["data.is_creator","data.has_liked"],"s":"_0?\"disabled\":_1?\"selected\":null"},"p":[11,14,242]}],"action":"like"},"f":[{"t":2,"r":"data.num_likes","p":[12,21,333]}]}," ",{"p":[13,5,368],"t":7,"e":"ui-button","a":{"icon":"circle","state":[{"t":2,"x":{"r":["data.is_creator","data.has_liked","data.has_disliked"],"s":"_0?\"disabled\":!_1&&!_2?\"selected\":null"},"p":[15,14,412]}],"action":"neutral"}}," ",{"p":[17,5,546],"t":7,"e":"ui-button","a":{"icon":"arrow-down","state":[{"t":2,"x":{"r":["data.is_creator","data.has_disliked"],"s":"_0?\"disabled\":_1?\"selected\":null"},"p":[19,14,594]}],"action":"dislike"},"f":[{"t":2,"r":"data.num_dislikes","p":[20,24,691]}]}]}]}," ",{"t":4,"f":[{"p":[24,3,782],"t":7,"e":"ui-display","a":{"title":"Admin Panel"},"f":[{"p":[25,5,819],"t":7,"e":"ui-section","a":{"label":"Creator Ckey"},"f":[{"t":2,"r":"data.creator_key","p":[25,38,852]}]}," ",{"p":[26,5,890],"t":7,"e":"ui-section","a":{"label":"Creator Character Name"},"f":[{"t":2,"r":"data.creator_name","p":[26,48,933]}]}," ",{"p":[27,5,972],"t":7,"e":"ui-button","a":{"icon":"remove","action":"delete","style":"danger"},"f":["Delete"]}]}],"n":50,"r":"data.admin_mode","p":[23,1,756]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],394:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-notice","f":[{"p":[2,3,14],"t":7,"e":"span","f":["The requested interface (",{"t":2,"r":"config.interface","p":[2,34,45]},") was not found. Does it exist?"]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],395:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,3,15],"t":7,"e":"ui-section","a":{"label":"Status"},"f":[{"p":[3,5,47],"t":7,"e":"ui-button","a":{"action":"toggle_power","style":[{"t":2,"x":{"r":["data.toggle"],"s":"_0?\"selected\":null"},"p":[5,18,107]}]},"f":["Turn ",{"t":2,"x":{"r":["data.toggle"],"s":"_0?\"off\":\"on\""},"p":[6,16,161]}]}]}," ",{"p":[9,3,227],"t":7,"e":"ui-display","a":{"title":"Logging"},"f":[{"t":4,"f":[{"p":[11,3,282],"t":7,"e":"ui-section","a":{"label":">"},"f":[{"t":2,"r":".","p":[11,25,304]},{"p":[11,30,309],"t":7,"e":"ui-section","f":[]}]}],"n":52,"r":"data.logs","p":[10,5,260]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],396:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Controls"},"f":[{"p":[2,1,30],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[3,2,58],"t":7,"e":"ui-button","a":{"icon":"power-off","style":[{"t":2,"x":{"r":["data.power"],"s":"_0?\"selected\":\"danger\""},"p":[3,37,93]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.power"],"s":"_0?\"Enabled\":\"Disabled\""},"p":[3,92,148]}]}]}," ",{"p":[5,1,214],"t":7,"e":"ui-section","a":{"label":"Tag"},"f":[{"p":[6,2,240],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"rename"},"f":[{"t":2,"r":"data.tag","p":[6,43,281]}]}]}," ",{"p":[8,1,320],"t":7,"e":"ui-section","a":{"label":"Scanning mode"},"f":[{"p":[9,2,356],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.updating"],"s":"_0?\"unlock\":\"lock\""},"p":[9,18,372]}],"style":[{"t":2,"x":{"r":["data.updating"],"s":"_0?null:\"danger\""},"p":[9,63,417]}],"action":"updating","tooltip":"Toggle between automatic scanning or scan only when a button is pressed.","tooltip-side":"right"},"f":[{"t":2,"x":{"r":["data.updating"],"s":"_0?\"AUTO\":\"MANUAL\""},"p":[9,221,575]}]}]}," ",{"p":[11,1,639],"t":7,"e":"ui-section","a":{"label":"Detection range"},"f":[{"p":[12,2,677],"t":7,"e":"ui-button","a":{"icon":"refresh","style":[{"t":2,"x":{"r":["data.globalmode"],"s":"_0?null:\"selected\""},"p":[12,35,710]}],"action":"globalmode","tooltip":"Local sector or whole region scanning.","tooltip-side":"right"},"f":[{"t":2,"x":{"r":["data.globalmode"],"s":"_0?\"MAXIMUM\":\"LOCAL\""},"p":[12,165,840]}]}]}]}," ",{"t":4,"f":[{"p":[16,2,942],"t":7,"e":"ui-display","a":{"title":"Current Location"},"f":[{"p":[17,3,982],"t":7,"e":"span","f":[{"t":2,"r":"data.current","p":[17,9,988]}]}]}," ",{"p":[20,2,1029],"t":7,"e":"ui-display","a":{"title":"Detected Signals"},"f":[{"t":4,"f":[{"p":[22,3,1093],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"entrytag","p":[22,21,1111]}]},"f":[{"p":[23,3,1127],"t":7,"e":"span","f":[{"t":2,"r":"area","p":[23,9,1133]}," (",{"t":2,"r":"coord","p":[23,19,1143]},")"]}," ",{"t":4,"f":[{"p":[25,4,1185],"t":7,"e":"span","f":["Dist: ",{"t":2,"r":"dist","p":[25,16,1197]},"m Dir: ",{"t":2,"r":"degrees","p":[25,31,1212]},"° (",{"t":2,"r":"direction","p":[25,45,1226]},")"]}],"n":50,"r":"direction","p":[24,3,1164]}]}],"n":52,"r":"data.signals","p":[21,2,1068]}]}],"n":50,"r":"data.power","p":[15,1,922]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],397:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Labor Camp Teleporter"},"f":[{"p":[2,2,44],"t":7,"e":"ui-section","a":{"label":"Teleporter Status"},"f":[{"p":[3,3,85],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.teleporter"],"s":"_0?\"good\":\"bad\""},"p":[3,16,98]}]},"f":[{"t":2,"x":{"r":["data.teleporter"],"s":"_0?\"Connected\":\"Not connected\""},"p":[3,54,136]}]}]}," ",{"t":4,"f":[{"p":[6,4,239],"t":7,"e":"ui-section","a":{"label":"Location"},"f":[{"p":[7,5,273],"t":7,"e":"span","f":[{"t":2,"r":"data.teleporter_location","p":[7,11,279]}]}]}," ",{"p":[9,4,335],"t":7,"e":"ui-section","a":{"label":"Locked status"},"f":[{"p":[10,5,374],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.teleporter_lock"],"s":"_0?\"lock\":\"unlock\""},"p":[10,22,391]}],"action":"teleporter_lock"},"f":[{"t":2,"x":{"r":["data.teleporter_lock"],"s":"_0?\"Locked\":\"Unlocked\""},"p":[10,93,462]}]}," ",{"p":[11,5,527],"t":7,"e":"ui-button","a":{"action":"toggle_open"},"f":[{"t":2,"x":{"r":["data.teleporter_state_open"],"s":"_0?\"Open\":\"Closed\""},"p":[11,37,559]}]}]}],"n":50,"r":"data.teleporter","p":[5,3,212]},{"t":4,"n":51,"f":[{"p":[14,4,653],"t":7,"e":"span","f":[{"p":[14,10,659],"t":7,"e":"ui-button","a":{"action":"scan_teleporter"},"f":["Scan Teleporter"]}]}],"r":"data.teleporter"}]}," ",{"p":[17,1,754],"t":7,"e":"ui-display","a":{"title":"Labor Camp Beacon"},"f":[{"p":[18,2,794],"t":7,"e":"ui-section","a":{"label":"Beacon Status"},"f":[{"p":[19,3,831],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.beacon"],"s":"_0?\"good\":\"bad\""},"p":[19,16,844]}]},"f":[{"t":2,"x":{"r":["data.beacon"],"s":"_0?\"Connected\":\"Not connected\""},"p":[19,50,878]}]}]}," ",{"t":4,"f":[{"p":[22,3,971],"t":7,"e":"ui-section","a":{"label":"Location"},"f":[{"p":[23,4,1004],"t":7,"e":"span","f":[{"t":2,"r":"data.beacon_location","p":[23,10,1010]}]}]}],"n":50,"r":"data.beacon","p":[21,2,949]},{"t":4,"n":51,"f":[{"p":[26,4,1072],"t":7,"e":"span","f":[{"p":[26,10,1078],"t":7,"e":"ui-button","a":{"action":"scan_beacon"},"f":["Scan Beacon"]}]}],"r":"data.beacon"}]}," ",{"p":[29,1,1165],"t":7,"e":"ui-display","a":{"title":"Prisoner details"},"f":[{"p":[30,2,1204],"t":7,"e":"ui-section","a":{"label":"Prisoner ID"},"f":[{"p":[31,3,1239],"t":7,"e":"ui-button","a":{"action":"handle_id"},"f":[{"t":2,"x":{"r":["data.id","data.id_name"],"s":"_0?_1:\"-------------\""},"p":[31,33,1269]}]}]}," ",{"t":4,"f":[{"p":[34,2,1359],"t":7,"e":"ui-section","a":{"label":"Set ID goal"},"f":[{"p":[35,4,1395],"t":7,"e":"ui-button","a":{"action":"set_goal"},"f":[{"t":2,"r":"data.goal","p":[35,33,1424]}]}]}],"n":50,"r":"data.id","p":[33,2,1342]}," ",{"p":[38,2,1475],"t":7,"e":"ui-section","a":{"label":"Occupant"},"f":[{"p":[39,3,1507],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.prisoner.name"],"s":"_0?_0:\"No Occupant\""},"p":[39,9,1513]}]}]}," ",{"t":4,"f":[{"p":[42,3,1620],"t":7,"e":"ui-section","a":{"label":"Criminal Status"},"f":[{"p":[43,4,1660],"t":7,"e":"span","f":[{"t":2,"r":"data.prisoner.crimstat","p":[43,10,1666]}]}]}],"n":50,"r":"data.prisoner","p":[41,2,1596]}]}," ",{"p":[47,1,1739],"t":7,"e":"ui-display","f":[{"p":[48,2,1753],"t":7,"e":"center","f":[{"p":[48,10,1761],"t":7,"e":"ui-button","a":{"action":"teleport","state":[{"t":2,"x":{"r":["data.can_teleport"],"s":"_0?null:\"disabled\""},"p":[48,45,1796]}]},"f":["Process Prisoner"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],398:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,2,14],"t":7,"e":"center","f":[{"p":[2,10,22],"t":7,"e":"ui-button","a":{"action":"handle_id"},"f":[{"t":2,"x":{"r":["data.id","data.id_name"],"s":"_0?_1:\"-------------\""},"p":[2,40,52]}]}]}]}," ",{"p":[4,1,132],"t":7,"e":"ui-display","a":{"title":"Stored Items"},"f":[{"t":4,"f":[{"p":[6,3,189],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[6,22,208]}]},"f":[{"p":[7,4,222],"t":7,"e":"ui-button","a":{"action":"release_items","params":["{\"mobref\":",{"t":2,"r":"mob","p":[7,56,274]},"}"],"state":[{"t":2,"x":{"r":["data.can_reclaim"],"s":"_0?null:\"disabled\""},"p":[7,72,290]}]},"f":["Drop Items"]}]}],"n":52,"r":"data.mobs","p":[5,2,167]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],399:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":{"button":[{"p":[3,3,68],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.emagged"],"s":"_0?\"un\":null"},"p":[3,20,85]},"lock"],"state":[{"t":2,"x":{"r":["data.can_toggle_safety"],"s":"_0?null:\"disabled\""},"p":[3,63,128]}],"action":"safety"},"f":["Safeties: ",{"p":[4,14,206],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.emagged"],"s":"_0?\"bad\":\"good\""},"p":[4,27,219]}]},"f":[{"t":2,"x":{"r":["data.emagged"],"s":"_0?\"OFF\":\"ON\""},"p":[4,62,254]}]}]}]},"t":7,"e":"ui-display","a":{"title":"Default Programs","button":0},"f":[" ",{"t":4,"f":[{"p":[8,2,356],"t":7,"e":"ui-button","a":{"action":"load_program","params":["{\"type\": ",{"t":2,"r":"type","p":[8,52,406]},"}"],"style":[{"t":2,"x":{"r":["data.program","type"],"s":"_0==_1?\"selected\":null"},"p":[8,70,424]}]},"f":[{"t":2,"r":"name","p":[9,5,475]}," "]},{"p":[10,14,497],"t":7,"e":"br"}],"n":52,"r":"data.default_programs","p":[7,2,323]}]}," ",{"t":4,"f":[{"p":[14,2,549],"t":7,"e":"ui-display","a":{"title":"Dangerous Programs"},"f":[{"t":4,"f":[{"p":[16,4,623],"t":7,"e":"ui-button","a":{"icon":"warning","action":"load_program","params":["{\"type\": ",{"t":2,"r":"type","p":[16,69,688]},"}"],"style":[{"t":2,"x":{"r":["data.program","type"],"s":"_0==_1?\"selected\":null"},"p":[16,87,706]}]},"f":[{"t":2,"r":"name","p":[17,5,757]}," "]},{"p":[18,16,781],"t":7,"e":"br"}],"n":52,"r":"data.emag_programs","p":[15,3,591]}]}],"n":50,"r":"data.emagged","p":[13,1,527]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],400:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  computed: {
    occupantStatState: function occupantStatState() {
      switch (this.get('data.occupant.stat')) {
        case 0:
          return 'good';
        case 1:
          return 'average';
        default:
          return 'bad';
      }
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[15,1,266],"t":7,"e":"ui-display","a":{"title":"Occupant"},"f":[{"p":[16,3,298],"t":7,"e":"ui-section","a":{"label":"Occupant"},"f":[{"p":[17,3,330],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.occupant.name"],"s":"_0?_0:\"No Occupant\""},"p":[17,9,336]}]}]}," ",{"t":4,"f":[{"p":[20,5,447],"t":7,"e":"ui-section","a":{"label":"State"},"f":[{"p":[21,7,480],"t":7,"e":"span","a":{"class":[{"t":2,"r":"occupantStatState","p":[21,20,493]}]},"f":[{"t":2,"x":{"r":["data.occupant.stat"],"s":"_0==0?\"Conscious\":_0==1?\"Unconcious\":\"Dead\""},"p":[21,43,516]}]}]}],"n":50,"r":"data.occupied","p":[19,3,421]}]}," ",{"p":[25,1,656],"t":7,"e":"ui-display","a":{"title":"Controls"},"f":[{"p":[26,2,687],"t":7,"e":"ui-section","a":{"label":"Door"},"f":[{"p":[27,5,717],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.open"],"s":"_0?\"unlock\":\"lock\""},"p":[27,22,734]}],"action":"door"},"f":[{"t":2,"x":{"r":["data.open"],"s":"_0?\"Open\":\"Closed\""},"p":[27,71,783]}]}]}," ",{"p":[29,3,846],"t":7,"e":"ui-section","a":{"label":"Uses"},"f":[{"t":2,"r":"data.ready_implants","p":[30,5,876]}," ",{"t":4,"f":[{"p":[32,7,938],"t":7,"e":"span","a":{"class":"fa fa-cog fa-spin"}}],"n":50,"r":"data.replenishing","p":[31,5,906]}]}," ",{"p":[35,3,1002],"t":7,"e":"ui-section","a":{"label":"Activate"},"f":[{"p":[36,7,1038],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.occupied","data.ready_implants","data.ready"],"s":"_0&&_1>0&&_2?null:\"disabled\""},"p":[36,25,1056]}],"action":"implant"},"f":[{"t":2,"x":{"r":["data.ready","data.special_name"],"s":"_0?(_1?_1:\"Implant\"):\"Recharging\""},"p":[37,9,1162]}," "]},{"p":[38,19,1265],"t":7,"e":"br"}]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],401:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  computed: {
    healthState: function healthState() {
      var health = this.get('data.health');
      if (health > 70) return 'good';else if (health > 50) return 'average';else return 'bad';
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"t":4,"f":[{"p":[15,3,282],"t":7,"e":"ui-notice","f":[{"p":[16,5,298],"t":7,"e":"span","f":["Wipe in progress!"]}]}],"n":50,"r":"data.wiping","p":[14,1,260]},{"p":{"button":[{"t":4,"f":[{"p":[22,7,458],"t":7,"e":"ui-button","a":{"icon":"trash","state":[{"t":2,"x":{"r":["data.isDead"],"s":"_0?\"disabled\":null"},"p":[22,38,489]}],"action":"wipe"},"f":[{"t":2,"x":{"r":["data.wiping"],"s":"_0?\"Stop Wiping\":\"Wipe\""},"p":[22,89,540]}," AI"]}],"n":50,"r":"data.name","p":[21,5,434]}]},"t":7,"e":"ui-display","a":{"title":[{"t":2,"x":{"r":["data.name"],"s":"_0||\"Empty Card\""},"p":[19,19,370]}],"button":0},"f":[" ",{"t":4,"f":[{"p":[26,5,647],"t":7,"e":"ui-section","a":{"label":"Status"},"f":[{"p":[27,9,683],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.isDead","data.isBraindead"],"s":"_0||_1?\"bad\":\"good\""},"p":[27,22,696]}]},"f":[{"t":2,"x":{"r":["data.isDead","data.isBraindead"],"s":"_0||_1?\"Offline\":\"Operational\""},"p":[27,76,750]}]}]}," ",{"p":[29,5,843],"t":7,"e":"ui-section","a":{"label":"Software Integrity"},"f":[{"p":[30,7,889],"t":7,"e":"ui-bar","a":{"min":"0","max":"100","value":[{"t":2,"r":"data.health","p":[30,40,922]}],"state":[{"t":2,"r":"healthState","p":[30,64,946]}]},"f":[{"t":2,"x":{"r":["adata.health"],"s":"Math.round(_0)"},"p":[30,81,963]},"%"]}]}," ",{"p":[32,5,1024],"t":7,"e":"ui-section","a":{"label":"Laws"},"f":[{"t":4,"f":[{"p":[34,9,1084],"t":7,"e":"span","a":{"class":"highlight"},"f":[{"t":2,"r":".","p":[34,33,1108]}]},{"p":[34,45,1120],"t":7,"e":"br"}],"n":52,"r":"data.laws","p":[33,7,1056]}]}," ",{"p":[37,5,1164],"t":7,"e":"ui-section","a":{"label":"Settings"},"f":[{"p":[38,7,1200],"t":7,"e":"ui-button","a":{"icon":"signal","style":[{"t":2,"x":{"r":["data.wireless"],"s":"_0?\"selected\":null"},"p":[38,39,1232]}],"action":"wireless"},"f":["Wireless Activity"]}," ",{"p":[39,7,1325],"t":7,"e":"ui-button","a":{"icon":"microphone","style":[{"t":2,"x":{"r":["data.radio"],"s":"_0?\"selected\":null"},"p":[39,43,1361]}],"action":"radio"},"f":["Subspace Radio"]}]}],"n":50,"r":"data.name","p":[25,3,625]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],402:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,2,22],"t":7,"e":"ui-notice","f":[{"p":[3,3,36],"t":7,"e":"span","f":["Waiting for another device to confirm your request..."]}]}],"n":50,"r":"data.waiting","p":[1,1,0]},{"t":4,"n":51,"f":[{"p":[6,2,127],"t":7,"e":"ui-display","f":[{"p":[7,3,142],"t":7,"e":"ui-section","f":[{"t":4,"f":[{"p":[9,5,189],"t":7,"e":"ui-button","a":{"icon":"check","action":"auth_swipe"},"f":["Authorize ",{"t":2,"r":"data.auth_required","p":[9,59,243]}]}],"n":50,"r":"data.auth_required","p":[8,4,158]},{"t":4,"n":51,"f":[{"p":[11,5,294],"t":7,"e":"ui-button","a":{"icon":"warning","state":[{"t":2,"x":{"r":["data.red_alert"],"s":"_0?\"disabled\":null"},"p":[11,38,327]}],"action":"red_alert"},"f":["Red Alert"]}," ",{"p":[12,5,412],"t":7,"e":"ui-button","a":{"icon":"wrench","state":[{"t":2,"x":{"r":["data.emergency_maint"],"s":"_0?\"disabled\":null"},"p":[12,37,444]}],"action":"emergency_maint"},"f":["Emergency Maintenance Access"]}," ",{"p":[13,5,560],"t":7,"e":"ui-button","a":{"icon":"warning","state":"null","action":"bsa_unlock"},"f":["Bluespace Artillery Unlock"]}],"r":"data.auth_required"}]}]}],"r":"data.waiting"}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],403:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Ore values"},"f":[{"t":4,"f":[{"p":[3,3,55],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"ore","p":[3,22,74]}]},"f":[{"p":[4,4,87],"t":7,"e":"span","f":[{"t":2,"r":"value","p":[4,10,93]}]}]}],"n":52,"r":"data.ores","p":[2,2,33]}]}," ",{"p":[8,1,151],"t":7,"e":"ui-display","a":{"title":"Points"},"f":[{"p":[9,2,180],"t":7,"e":"ui-section","a":{"label":"ID"},"f":[{"p":[10,3,206],"t":7,"e":"ui-button","a":{"action":"handle_id"},"f":[{"t":2,"x":{"r":["data.id","data.id_name"],"s":"_0?_1:\"-------------\""},"p":[10,33,236]}]}]}," ",{"t":4,"f":[{"p":[13,3,327],"t":7,"e":"ui-section","a":{"label":"Points collected"},"f":[{"p":[14,4,368],"t":7,"e":"span","f":[{"t":2,"r":"data.points","p":[14,10,374]}]}]}," ",{"p":[16,3,415],"t":7,"e":"ui-section","a":{"label":"Goal"},"f":[{"p":[17,4,444],"t":7,"e":"span","f":[{"t":2,"r":"data.goal","p":[17,10,450]}]}]}," ",{"p":[19,3,489],"t":7,"e":"ui-section","a":{"label":"Unclaimed points"},"f":[{"p":[20,4,530],"t":7,"e":"span","f":[{"t":2,"r":"data.unclaimed_points","p":[20,10,536]}]}," ",{"p":[21,4,572],"t":7,"e":"ui-button","a":{"action":"claim_points","state":[{"t":2,"x":{"r":["data.unclaimed_points"],"s":"_0?null:\"disabled\""},"p":[21,43,611]}]},"f":["Claim points"]}]}],"n":50,"r":"data.id","p":[12,2,309]}]}," ",{"p":[25,1,721],"t":7,"e":"ui-display","f":[{"p":[26,2,735],"t":7,"e":"center","f":[{"p":[27,3,746],"t":7,"e":"ui-button","a":{"action":"move_shuttle","state":[{"t":2,"x":{"r":["data.can_go_home"],"s":"_0?null:\"disabled\""},"p":[27,42,785]}]},"f":["Move shuttle"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],404:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Known Languages"},"f":[{"t":4,"f":[{"p":[3,5,68],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[3,23,86]}]},"f":[{"p":[4,7,102],"t":7,"e":"span","f":[{"t":2,"r":"desc","p":[4,13,108]}]}," ",{"p":[5,7,130],"t":7,"e":"span","f":["Key: ,",{"t":2,"r":"key","p":[5,19,142]}]}," ",{"t":4,"f":[{"p":[7,9,186],"t":7,"e":"span","f":["(gained from mob)"]}],"n":50,"r":"shadow","p":[6,7,163]}," ",{"p":[9,7,237],"t":7,"e":"span","f":[{"t":2,"x":{"r":["can_speak"],"s":"_0?\"Can Speak\":\"Cannot Speak\""},"p":[9,13,243]}]}," ",{"t":4,"f":[{"p":[11,9,332],"t":7,"e":"ui-button","a":{"action":"select_default","params":["{\"language_name\":\"",{"t":2,"r":"name","p":[13,37,413]},"\"}"],"style":[{"t":2,"x":{"r":["is_default","can_speak"],"s":"_0?\"selected\":_1?null:\"disabled\""},"p":[14,18,442]}]},"f":[{"t":2,"x":{"r":["is_default"],"s":"_0?\"Default Language\":\"Select as Default\""},"p":[15,10,512]}]}],"n":50,"r":"data.is_living","p":[10,7,301]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[20,11,666],"t":7,"e":"ui-button","a":{"action":"grant_language","params":["{\"language_name\":\"",{"t":2,"r":"name","p":[20,72,727]},"\"}"]},"f":["Grant"]}],"n":50,"r":"shadow","p":[19,9,641]},{"t":4,"n":51,"f":[{"p":[22,11,784],"t":7,"e":"ui-button","a":{"action":"remove_language","params":["{\"language_name\":\"",{"t":2,"r":"name","p":[22,73,846]},"\"}"]},"f":["Remove"]}],"r":"shadow"}],"n":50,"r":"data.admin_mode","p":[18,7,609]}]}],"n":52,"r":"data.languages","p":[2,3,39]}]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[30,5,1004],"t":7,"e":"ui-button","a":{"action":"toggle_omnitongue","style":[{"t":2,"x":{"r":["data.omnitongue"],"s":"_0?\"selected\":null"},"p":[32,14,1061]}]},"f":["Omnitongue ",{"t":2,"x":{"r":["data.omnitongue"],"s":"_0?\"Enabled\":\"Disabled\""},"p":[33,19,1120]}]}],"n":50,"r":"data.is_living","p":[29,3,977]}," ",{"p":[36,3,1196],"t":7,"e":"ui-display","a":{"title":"Unknown Languages"},"f":[{"t":4,"f":[{"p":[38,7,1278],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[38,25,1296]}]},"f":[{"p":[39,9,1314],"t":7,"e":"span","f":[{"t":2,"r":"desc","p":[39,15,1320]}]}," ",{"p":[40,9,1344],"t":7,"e":"span","f":["Key: ,",{"t":2,"r":"key","p":[40,21,1356]}]}," ",{"p":[41,9,1379],"t":7,"e":"ui-button","a":{"action":"grant_language","params":["{\"language_name\":\"",{"t":2,"r":"name","p":[43,37,1460]},"\"}"]},"f":["Grant"]}]}],"n":52,"r":"data.unknown_languages","p":[37,5,1239]}]}],"n":50,"r":"data.admin_mode","p":[28,1,951]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],405:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Controls"},"f":[{"t":4,"f":[{"t":4,"f":[{"p":[4,4,81],"t":7,"e":"ui-section","a":{"label":"Warning"},"f":[{"p":[5,5,114],"t":7,"e":"span","f":["Launchpad closed."]}]}],"n":50,"r":"data.pad_closed","p":[3,3,54]},{"t":4,"n":51,"f":[{"p":[8,4,176],"t":7,"e":"ui-section","a":{"label":"Launchpad"},"f":[{"p":[9,4,210],"t":7,"e":"span","f":[{"p":[9,10,216],"t":7,"e":"b","f":[{"t":2,"r":"data.pad_name","p":[9,13,219]}]}]},{"p":[9,41,247],"t":7,"e":"br"}," ",{"p":[10,4,255],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"rename"},"f":["Rename"]}," ",{"p":[11,4,318],"t":7,"e":"ui-button","a":{"icon":"remove","style":"danger","action":"remove"},"f":["Remove"]}]}," ",{"p":[14,4,414],"t":7,"e":"ui-section","a":{"label":"Set Target"},"f":[{"p":[15,4,449],"t":7,"e":"table","f":[{"p":[16,4,460],"t":7,"e":"tr","f":[{"p":[17,5,469],"t":7,"e":"td","a":{"style":"width:25px!important"},"f":[{"p":[17,38,502],"t":7,"e":"ui-button","a":{"action":"up-left"},"f":["↖"]}]}," ",{"p":[18,5,553],"t":7,"e":"td","a":{"style":"width:25px!important; text-align:center"},"f":[{"p":[18,57,605],"t":7,"e":"ui-button","a":{"action":"up"},"f":["↑"]}]}," ",{"p":[19,5,651],"t":7,"e":"td","a":{"style":"width:25px!important; text-align:right"},"f":[{"p":[19,56,702],"t":7,"e":"ui-button","a":{"action":"up-right"},"f":["↗"]}]}]}," ",{"p":[21,4,762],"t":7,"e":"tr","f":[{"p":[22,5,771],"t":7,"e":"td","a":{"style":"width:25px!important"},"f":[{"p":[22,38,804],"t":7,"e":"ui-button","a":{"action":"left","style":"width:35px!important"},"f":["←"]}]}," ",{"p":[23,5,881],"t":7,"e":"td","a":{"style":"width:25px!important; text-align:center"},"f":[{"p":[23,57,933],"t":7,"e":"ui-button","a":{"action":"reset"},"f":["R"]}]}," ",{"p":[24,5,982],"t":7,"e":"td","a":{"style":"width:25px!important; text-align:right"},"f":[{"p":[24,56,1033],"t":7,"e":"ui-button","a":{"action":"right"},"f":["→"]}]}]}," ",{"p":[26,4,1090],"t":7,"e":"tr","f":[{"p":[27,5,1099],"t":7,"e":"td","a":{"style":"width:25px!important"},"f":[{"p":[27,38,1132],"t":7,"e":"ui-button","a":{"action":"down-left"},"f":["↙"]}]}," ",{"p":[28,5,1185],"t":7,"e":"td","a":{"style":"width:25px!important; text-align:center"},"f":[{"p":[28,57,1237],"t":7,"e":"ui-button","a":{"action":"down"},"f":["↓"]}]}," ",{"p":[29,5,1285],"t":7,"e":"td","a":{"style":"width:25px!important; text-align:right"},"f":[{"p":[29,56,1336],"t":7,"e":"ui-button","a":{"action":"down-right"},"f":["↘"]}]}]}]}]}," ",{"p":[33,4,1427],"t":7,"e":"ui-section","a":{"label":"Current Target"},"f":[{"p":[34,5,1467],"t":7,"e":"span","f":[{"t":2,"r":"data.abs_y","p":[34,11,1473]}," ",{"t":2,"r":"data.north_south","p":[34,26,1488]}]},{"p":[34,53,1515],"t":7,"e":"br"}," ",{"p":[35,5,1524],"t":7,"e":"span","f":[{"t":2,"r":"data.abs_x","p":[35,11,1530]}," ",{"t":2,"r":"data.east_west","p":[35,26,1545]}]}]}," ",{"p":[37,4,1591],"t":7,"e":"ui-section","a":{"label":"Activate"},"f":[{"p":[38,5,1625],"t":7,"e":"ui-button","a":{"action":"launch","tooltip":"Teleport everything on the pad to the target.","tooltip-side":"down"},"f":["Launch"]}," ",{"p":[39,5,1751],"t":7,"e":"ui-button","a":{"action":"pull","tooltip":"Teleport everything from the target to the pad.","tooltip-side":"down"},"f":["Pull"]}]}],"r":"data.pad_closed"}],"n":50,"r":"data.has_pad","p":[2,2,31]},{"t":4,"n":51,"f":[{"p":[45,3,1912],"t":7,"e":"ui-section","a":{"label":"Warning"},"f":[{"p":[46,4,1944],"t":7,"e":"span","f":["No launchpad found. Link the remote to a launchpad."]}]}],"r":"data.has_pad"}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],406:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
		data: {
				mechChargeState: function mechChargeState(charge) {
						var maxcharge = this.get('data.recharge_port.mech.cell.maxcharge');
						if (charge >= maxcharge / 1.5) return 'good';else if (charge >= maxcharge / 3) return 'average';else return 'bad';
				},
				mechHealthState: function mechHealthState(health) {
						var maxhealth = this.get('data.recharge_port.mech.maxhealth');
						if (health > maxhealth / 1.5) return 'good';else if (health > maxhealth / 3) return 'average';else return 'bad';
				}
		}
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[20,1,525],"t":7,"e":"ui-display","a":{"title":"Mech Status"},"f":[{"t":4,"f":[{"t":4,"f":[{"p":[23,4,623],"t":7,"e":"ui-section","a":{"label":"Integrity"},"f":[{"p":[24,6,659],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"adata.recharge_port.mech.maxhealth","p":[24,27,680]}],"value":[{"t":2,"r":"adata.recharge_port.mech.health","p":[24,74,727]}],"state":[{"t":2,"x":{"r":["mechHealthState","adata.recharge_port.mech.health"],"s":"_0(_1)"},"p":[24,117,770]}]},"f":[{"t":2,"x":{"r":["adata.recharge_port.mech.health"],"s":"Math.round(_0)"},"p":[24,171,824]},"/",{"t":2,"r":"adata.recharge_port.mech.maxhealth","p":[24,219,872]}]}]}," ",{"t":4,"f":[{"p":[27,3,982],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[28,3,1011],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"adata.recharge_port.mech.cell.maxcharge","p":[28,24,1032]}],"value":[{"t":2,"r":"adata.recharge_port.mech.cell.charge","p":[28,76,1084]}],"state":[{"t":2,"x":{"r":["mechChargeState","adata.recharge_port.mech.cell.charge"],"s":"_0(_1)"},"p":[28,124,1132]}]},"f":[{"t":2,"x":{"r":["adata.recharge_port.mech.cell.charge"],"s":"Math.round(_0)"},"p":[28,183,1191]},"/",{"t":2,"x":{"r":["adata.recharge_port.mech.cell.maxcharge"],"s":"Math.round(_0)"},"p":[28,236,1244]}]}]}],"n":50,"r":"data.recharge_port.mech.cell","p":[26,4,943]},{"t":4,"n":51,"f":[{"p":[31,3,1339],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[31,29,1365],"t":7,"e":"span","a":{"class":"bad"},"f":["Cell Missing"]}]}],"r":"data.recharge_port.mech.cell"}],"n":50,"r":"data.recharge_port.mech","p":[22,2,588]},{"t":4,"n":51,"f":[{"p":[34,4,1440],"t":7,"e":"ui-section","f":["Mech Not Found"]}],"r":"data.recharge_port.mech"}],"n":50,"r":"data.recharge_port","p":[21,3,560]},{"t":4,"n":51,"f":[{"p":[37,5,1504],"t":7,"e":"ui-section","f":["Recharging Port Not Found"]}," ",{"p":[38,2,1556],"t":7,"e":"ui-button","a":{"icon":"refresh","action":"reconnect"},"f":["Reconnect"]}],"r":"data.recharge_port"}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],407:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-notice","f":[{"t":4,"f":[{"p":[3,5,45],"t":7,"e":"ui-section","a":{"label":"Interface Lock"},"f":[{"p":[4,7,88],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"lock\":\"unlock\""},"p":[4,24,105]}],"action":"lock"},"f":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"Engaged\":\"Disengaged\""},"p":[4,75,156]}]}]}],"n":50,"r":"data.siliconUser","p":[2,3,15]},{"t":4,"n":51,"f":[{"p":[7,5,247],"t":7,"e":"span","f":["Swipe an ID card to ",{"t":2,"x":{"r":["data.locked"],"s":"_0?\"unlock\":\"lock\""},"p":[7,31,273]}," this interface."]}],"r":"data.siliconUser"}]}," ",{"p":[10,1,358],"t":7,"e":"ui-display","a":{"title":"Status"},"f":[{"p":[11,3,389],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"t":4,"f":[{"p":[13,7,470],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"power-off\":\"close\""},"p":[13,24,487]}],"style":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"selected\":null"},"p":[13,68,531]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"On\":\"Off\""},"p":[13,116,579]}]}],"n":50,"x":{"r":["data.locked","data.siliconUser"],"s":"!_0||_1"},"p":[12,5,421]},{"t":4,"n":51,"f":[{"p":[15,7,639],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"good\":\"bad\""},"p":[15,20,652]}],"state":[{"t":2,"x":{"r":["data.cell"],"s":"_0?null:\"disabled\""},"p":[15,57,689]}]},"f":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"On\":\"Off\""},"p":[15,92,724]}]}],"x":{"r":["data.locked","data.siliconUser"],"s":"!_0||_1"}}]}," ",{"p":[18,3,791],"t":7,"e":"ui-section","a":{"label":"Cell"},"f":[{"p":[19,5,822],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.cell"],"s":"_0?null:\"bad\""},"p":[19,18,835]}]},"f":[{"t":2,"x":{"r":["data.cell","data.cellPercent"],"s":"_0?_1+\"%\":\"No Cell\""},"p":[19,48,865]}]}]}," ",{"p":[21,3,943],"t":7,"e":"ui-section","a":{"label":"Mode"},"f":[{"p":[22,5,974],"t":7,"e":"span","a":{"class":[{"t":2,"r":"data.modeStatus","p":[22,18,987]}]},"f":[{"t":2,"r":"data.mode","p":[22,39,1008]}]}]}," ",{"p":[24,3,1049],"t":7,"e":"ui-section","a":{"label":"Load"},"f":[{"p":[25,5,1080],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.load"],"s":"_0?\"good\":\"average\""},"p":[25,18,1093]}]},"f":[{"t":2,"x":{"r":["data.load"],"s":"_0?_0:\"None\""},"p":[25,54,1129]}]}]}," ",{"p":[27,3,1191],"t":7,"e":"ui-section","a":{"label":"Destination"},"f":[{"p":[28,5,1229],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.destination"],"s":"_0?\"good\":\"average\""},"p":[28,18,1242]}]},"f":[{"t":2,"x":{"r":["data.destination"],"s":"_0?_0:\"None\""},"p":[28,60,1284]}]}]}]}," ",{"t":4,"f":[{"p":{"button":[{"t":4,"f":[{"p":[35,9,1513],"t":7,"e":"ui-button","a":{"icon":"eject","action":"unload"},"f":["Unload"]}],"n":50,"r":"data.load","p":[34,7,1486]}," ",{"t":4,"f":[{"p":[38,9,1623],"t":7,"e":"ui-button","a":{"icon":"eject","action":"ejectpai"},"f":["Eject PAI"]}],"n":50,"r":"data.haspai","p":[37,7,1594]}," ",{"p":[40,7,1709],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"setid"},"f":["Set ID"]}]},"t":7,"e":"ui-display","a":{"title":"Controls","button":0},"f":[" ",{"p":[42,5,1791],"t":7,"e":"ui-section","a":{"label":"Destination"},"f":[{"p":[43,7,1831],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"destination"},"f":["Set Destination"]}," ",{"p":[44,7,1912],"t":7,"e":"ui-button","a":{"icon":"stop","action":"stop"},"f":["Stop"]}," ",{"p":[45,7,1973],"t":7,"e":"ui-button","a":{"icon":"play","action":"go"},"f":["Go"]}]}," ",{"p":[47,5,2047],"t":7,"e":"ui-section","a":{"label":"Home"},"f":[{"p":[48,7,2080],"t":7,"e":"ui-button","a":{"icon":"home","action":"home"},"f":["Go Home"]}," ",{"p":[49,7,2144],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"sethome"},"f":["Set Home"]}]}," ",{"p":[51,5,2231],"t":7,"e":"ui-section","a":{"label":"Settings"},"f":[{"p":[52,7,2268],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.autoReturn"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[52,24,2285]}],"style":[{"t":2,"x":{"r":["data.autoReturn"],"s":"_0?\"selected\":null"},"p":[52,84,2345]}],"action":"autoret"},"f":["Auto-Return Home"]}," ",{"p":[54,7,2449],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.autoPickup"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[54,24,2466]}],"style":[{"t":2,"x":{"r":["data.autoPickup"],"s":"_0?\"selected\":null"},"p":[54,84,2526]}],"action":"autopick"},"f":["Auto-Pickup Crate"]}," ",{"p":[56,7,2632],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.reportDelivery"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[56,24,2649]}],"style":[{"t":2,"x":{"r":["data.reportDelivery"],"s":"_0?\"selected\":null"},"p":[56,88,2713]}],"action":"report"},"f":["Report Deliveries"]}]}]}],"n":50,"x":{"r":["data.locked","data.siliconUser"],"s":"!_0||_1"},"p":[31,1,1373]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],408:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Nanite Chamber Console"},"f":[{"p":[2,1,44],"t":7,"e":"ui-display","a":{"title":"Program Disk"},"f":[{"t":4,"f":[{"p":[4,2,101],"t":7,"e":"ui-button","a":{"icon":"eject","action":"eject"},"f":["Eject Disk"]},{"p":[4,63,162],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[6,3,195],"t":7,"e":"ui-section","a":{"label":"Program Name"},"f":[{"t":2,"r":"data.disk.name","p":[6,36,228]}]}," ",{"p":[7,3,262],"t":7,"e":"ui-section","a":{"label":"Description"},"f":[{"t":2,"r":"data.disk.desc","p":[7,35,294]}]}," ",{"p":[8,3,328],"t":7,"e":"ui-section","a":{"label":"Activation Status"},"f":[{"t":2,"x":{"r":["data.disk.activated"],"s":"_0?\"Active\":\"Inactive\""},"p":[8,41,366]}]}," ",{"t":4,"f":[{"p":[10,4,468],"t":7,"e":"ui-section","a":{"label":"Activation Delay"},"f":[{"t":2,"r":"data.disk.activation_delay","p":[10,41,505]}]}],"n":50,"r":"data.disk.activation_delay","p":[9,3,430]}," ",{"t":4,"f":[{"p":[13,4,588],"t":7,"e":"ui-section","a":{"label":"Timer"},"f":[{"t":2,"r":"data.disk.timer","p":[13,30,614]}]}," ",{"p":[14,4,650],"t":7,"e":"ui-section","a":{"label":"Timer Type "},"f":[{"t":2,"r":"data.disk.timer_type","p":[14,36,682]}]}],"n":50,"r":"data.disk.timer","p":[12,3,561]}," ",{"t":4,"f":[{"p":[17,4,769],"t":7,"e":"ui-section","a":{"label":"Activation Code"},"f":[{"t":2,"r":"data.disk.activation_code","p":[17,40,805]}]}],"n":50,"r":"data.disk.activation_code","p":[16,3,732]}," ",{"t":4,"f":[{"p":[20,4,899],"t":7,"e":"ui-section","a":{"label":"Deactivation Code"},"f":[{"t":2,"r":"data.disk.deactivation_code","p":[20,42,937]}]}],"n":50,"r":"data.disk.deactivation_code","p":[19,3,860]}," ",{"t":4,"f":[{"p":[23,4,1025],"t":7,"e":"ui-section","a":{"label":"Kill Code"},"f":[{"t":2,"r":"data.disk.kill_code","p":[23,34,1055]}]}],"n":50,"r":"data.disk.kill_code","p":[22,3,994]}," ",{"t":4,"f":[{"p":[26,4,1138],"t":7,"e":"ui-section","a":{"label":"Trigger Code"},"f":[{"t":2,"r":"data.disk.trigger_code","p":[26,37,1171]}]}],"n":50,"r":"data.disk.trigger_code","p":[25,3,1104]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[30,6,1303],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[30,25,1322]}]},"f":[{"t":2,"r":"value","p":[30,35,1332]}]}],"n":52,"r":"data.disk.extra_settings","p":[29,4,1263]}],"n":50,"r":"data.disk.has_extra_settings","p":[28,3,1223]}],"n":50,"r":"data.has_program","p":[5,2,168]},{"t":4,"n":51,"f":[{"p":[34,3,1390],"t":7,"e":"ui-notice","f":["No program detected."]}],"r":"data.has_program"}],"n":50,"r":"data.has_disk","p":[3,1,78]},{"t":4,"n":51,"f":[{"p":[37,2,1453],"t":7,"e":"ui-notice","f":["Insert disk."]}],"r":"data.has_disk"}]}," ",{"p":[40,1,1511],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[42,2,1541],"t":7,"e":"ui-notice","f":[{"t":2,"r":"data.status_msg","p":[42,13,1552]}]}],"n":50,"r":"data.status_msg","p":[41,1,1516]},{"t":4,"n":51,"f":[{"p":[44,2,1594],"t":7,"e":"ui-display","a":{"title":"Chamber"},"f":[{"p":[45,2,1624],"t":7,"e":"ui-section","f":[{"p":[45,14,1636],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"lock-open\":\"lock\""},"p":[45,30,1652]}],"action":"toggle_lock"},"f":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"Unlock\":\"Lock\""},"p":[45,90,1712]}," Chamber"]},{"p":[45,146,1768],"t":7,"e":"br"}]}," ",{"p":[46,2,1787],"t":7,"e":"ui-section","f":[{"p":[46,14,1799],"t":7,"e":"b","f":["Occupant:"]}," ",{"t":2,"r":"data.occupant_name","p":[46,31,1816]}]}," ",{"t":4,"f":[{"p":[48,4,1882],"t":7,"e":"ui-section","f":[{"p":[48,16,1894],"t":7,"e":"ui-notice","f":["No nanites detected."]}]}," ",{"p":[49,4,1954],"t":7,"e":"ui-section","f":[{"p":[49,16,1966],"t":7,"e":"ui-button","a":{"icon":"syringe","action":"nanite_injection"},"f":["Implant Nanites"]}]}],"n":50,"x":{"r":["data.has_nanites"],"s":"!_0"},"p":[47,2,1853]},{"t":4,"n":51,"f":[{"p":[51,3,2071],"t":7,"e":"ui-display","a":{"title":"Nanites"},"f":[{"t":4,"f":[{"p":[53,5,2132],"t":7,"e":"ui-button","a":{"icon":"download","action":"add_program"},"f":["Install Program From Disk"]},{"p":[53,90,2217],"t":7,"e":"br"}," ",{"p":[54,5,2226],"t":7,"e":"br"}],"n":50,"r":"data.has_program","p":[52,4,2103]}," ",{"p":[56,4,2245],"t":7,"e":"ui-section","f":[{"p":[57,5,2262],"t":7,"e":"ui-section","a":{"label":"Nanite Volume"},"f":[{"t":2,"r":"data.nanite_volume","p":[57,39,2296]}]}," ",{"p":[58,5,2336],"t":7,"e":"ui-section","a":{"label":"Growth Rate"},"f":[{"t":2,"r":"data.regen_rate","p":[58,37,2368]}]}," ",{"p":[59,5,2405],"t":7,"e":"ui-section","a":{"label":"Safety Threshold"},"f":[{"t":2,"r":"data.safety_threshold","p":[59,42,2442]}," ",{"p":[59,68,2468],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_safety"},"f":["Set"]}]}," ",{"p":[60,5,2547],"t":7,"e":"ui-section","a":{"label":"Cloud ID"},"f":[{"t":2,"x":{"r":["data.cloud_id"],"s":"_0?_0:\"No Cloud\""},"p":[60,34,2576]}," ",{"p":[60,82,2624],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_cloud"},"f":["Set"]}]}]}," ",{"p":[62,4,2718],"t":7,"e":"ui-display","a":{"title":"Programs"},"f":[{"t":4,"f":[{"p":[64,6,2785],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"name","p":[64,25,2804]}],"button":0},"f":[{"p":[65,6,2827],"t":7,"e":"ui-button","a":{"icon":"minus","action":"remove_program","params":["{\"program_id\": \"",{"t":2,"r":"id","p":[65,78,2899]},"\"}"]},"f":["Uninstall"]}," ",{"p":[66,6,2936],"t":7,"e":"ui-section","a":{"label":"Description"},"f":[{"t":2,"r":"desc","p":[66,38,2968]}]}," ",{"t":4,"f":[{"p":[68,7,3030],"t":7,"e":"ui-section","a":{"label":"Activation Status"},"f":[{"t":2,"x":{"r":["activated"],"s":"_0?\"Active\":\"Inactive\""},"p":[68,45,3068]}]}," ",{"p":[69,7,3126],"t":7,"e":"ui-section","a":{"label":"Nanites Consumed"},"f":[{"t":2,"r":"use_rate","p":[69,44,3163]},"/s"]}," ",{"t":4,"f":[{"p":[71,8,3224],"t":7,"e":"ui-section","a":{"label":"Trigger Cost"},"f":[{"t":2,"r":"trigger_cost","p":[71,41,3257]}]}," ",{"p":[72,8,3294],"t":7,"e":"ui-section","a":{"label":"Trigger Cooldown"},"f":[{"t":2,"r":"trigger_cooldown","p":[72,45,3331]}," seconds"]}],"n":50,"r":"can_trigger","p":[70,7,3197]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[76,9,3462],"t":7,"e":"ui-section","a":{"label":"Activation Delay"},"f":[{"t":2,"r":"activation_delay","p":[76,46,3499]}]}],"n":50,"r":"activation_delay","p":[75,8,3429]}," ",{"t":4,"f":[{"p":[79,9,3577],"t":7,"e":"ui-section","a":{"label":"Timer"},"f":[{"t":2,"r":"timer","p":[79,35,3603]}]}," ",{"p":[80,9,3634],"t":7,"e":"ui-section","a":{"label":"Timer Type"},"f":[{"t":2,"r":"timer_type","p":[80,40,3665]}]}],"n":50,"r":"timer","p":[78,8,3555]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[84,11,3785],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[84,30,3804]}]},"f":[{"t":2,"r":"value","p":[84,40,3814]}]}],"n":52,"r":"extra_settings","p":[83,9,3750]}],"n":50,"r":"has_extra_settings","p":[82,8,3715]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[89,10,3947],"t":7,"e":"ui-section","a":{"label":"Activation Code"},"f":[{"t":2,"r":"activation_code","p":[89,46,3983]}]}],"n":50,"r":"activation_code","p":[88,9,3914]}," ",{"t":4,"f":[{"p":[92,10,4075],"t":7,"e":"ui-section","a":{"label":"Deactivation Code"},"f":[{"t":2,"r":"deactivation_code","p":[92,48,4113]}]}],"n":50,"r":"deactivation_code","p":[91,9,4040]}," ",{"t":4,"f":[{"p":[95,10,4199],"t":7,"e":"ui-section","a":{"label":"Kill Code"},"f":[{"t":2,"r":"kill_code","p":[95,40,4229]}]}],"n":50,"r":"kill_code","p":[94,9,4172]}," ",{"t":4,"f":[{"p":[98,10,4310],"t":7,"e":"ui-section","a":{"label":"Trigger Code"},"f":[{"t":2,"r":"trigger_code","p":[98,43,4343]}]}],"n":50,"r":"trigger_code","p":[97,9,4280]}],"n":50,"x":{"r":["data.scan_level"],"s":"_0>=4"},"p":[87,8,3877]}],"n":50,"x":{"r":["data.scan_level"],"s":"_0>=3"},"p":[74,7,3393]}],"n":50,"x":{"r":["data.scan_level"],"s":"_0>=2"},"p":[67,6,2995]}]}],"n":52,"r":"data.mob_programs","p":[63,5,2752]}]}]}],"x":{"r":["data.has_nanites"],"s":"!_0"}}]}],"r":"data.status_msg"}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],409:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Nanite Cloud Console"},"f":[{"p":[2,1,42],"t":7,"e":"ui-display","a":{"title":"Program Disk"},"f":[{"t":4,"f":[{"p":[4,3,101],"t":7,"e":"ui-button","a":{"icon":"eject","action":"eject"},"f":["Eject Disk"]},{"p":[4,64,162],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[6,4,197],"t":7,"e":"ui-section","f":[{"p":[7,5,214],"t":7,"e":"ui-section","a":{"label":"Program Name"},"f":[{"t":2,"r":"data.disk.name","p":[7,38,247]}]}," ",{"p":[8,5,283],"t":7,"e":"ui-section","a":{"label":"Description"},"f":[{"t":2,"r":"data.disk.desc","p":[8,37,315]}]}," ",{"p":[9,5,351],"t":7,"e":"ui-section","a":{"label":"Activation Status"},"f":[{"t":2,"x":{"r":["data.disk.activated"],"s":"_0?\"Active\":\"Inactive\""},"p":[9,43,389]}]}," ",{"t":4,"f":[{"p":[11,6,495],"t":7,"e":"ui-section","a":{"label":"Activation Delay"},"f":[{"t":2,"r":"data.disk.activation_delay","p":[11,43,532]}]}],"n":50,"r":"data.disk.activation_delay","p":[10,5,455]}," ",{"t":4,"f":[{"p":[14,6,621],"t":7,"e":"ui-section","a":{"label":"Timer"},"f":[{"t":2,"r":"data.disk.timer","p":[14,32,647]}]}," ",{"p":[15,6,685],"t":7,"e":"ui-section","a":{"label":"Timer Type "},"f":[{"t":2,"r":"data.disk.timer_type","p":[15,38,717]}]}],"n":50,"r":"data.disk.timer","p":[13,5,592]}," ",{"t":4,"f":[{"p":[18,6,810],"t":7,"e":"ui-section","a":{"label":"Activation Code"},"f":[{"t":2,"r":"data.disk.activation_code","p":[18,42,846]}]}],"n":50,"r":"data.disk.activation_code","p":[17,5,771]}," ",{"t":4,"f":[{"p":[21,6,946],"t":7,"e":"ui-section","a":{"label":"Deactivation Code"},"f":[{"t":2,"r":"data.disk.deactivation_code","p":[21,44,984]}]}],"n":50,"r":"data.disk.deactivation_code","p":[20,5,905]}," ",{"t":4,"f":[{"p":[24,6,1078],"t":7,"e":"ui-section","a":{"label":"Kill Code"},"f":[{"t":2,"r":"data.disk.kill_code","p":[24,36,1108]}]}],"n":50,"r":"data.disk.kill_code","p":[23,5,1045]}," ",{"t":4,"f":[{"p":[27,6,1197],"t":7,"e":"ui-section","a":{"label":"Trigger Code"},"f":[{"t":2,"r":"data.disk.trigger_code","p":[27,39,1230]}]}],"n":50,"r":"data.disk.trigger_code","p":[26,5,1161]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[31,8,1370],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[31,27,1389]}]},"f":[{"t":2,"r":"value","p":[31,37,1399]}]}],"n":52,"r":"data.disk.extra_settings","p":[30,6,1328]}],"n":50,"r":"data.disk.has_extra_settings","p":[29,5,1286]}]}],"n":50,"r":"data.has_program","p":[5,3,169]},{"t":4,"n":51,"f":[{"p":[36,4,1480],"t":7,"e":"ui-notice","f":["No program detected."]}],"r":"data.has_program"}],"n":50,"r":"data.has_disk","p":[3,2,77]},{"t":4,"n":51,"f":[{"p":[39,3,1546],"t":7,"e":"ui-notice","f":["Insert disk."]}],"r":"data.has_disk"}]}," ",{"p":[42,1,1605],"t":7,"e":"ui-display","a":{"title":"Cloud Storage"},"f":[{"t":4,"f":[{"p":[44,3,1670],"t":7,"e":"ui-button","a":{"icon":"plus-circle","action":"create_backup"},"f":["Create New Backup"]}," ",{"p":[45,3,1755],"t":7,"e":"ui-display","a":{"title":"Active Backups"},"f":[{"t":4,"f":[{"p":[47,5,1827],"t":7,"e":"ui-button","a":{"action":"set_view","params":["{\"view\": \"",{"t":2,"r":"cloud_id","p":[47,52,1874]},"\"}"]},"f":["Backup #",{"t":2,"r":"cloud_id","p":[47,76,1898]}]}],"n":52,"r":"data.cloud_backups","p":[46,4,1794]}]}],"n":50,"x":{"r":["data.current_view"],"s":"!_0"},"p":[43,2,1641]},{"t":4,"n":51,"f":[{"p":[51,3,1964],"t":7,"e":"ui-button","a":{"icon":"undo","action":"set_view","params":"{\"view\": \"0\"}"},"f":["Return"]}," ",{"t":4,"f":[{"p":[53,4,2079],"t":7,"e":"ui-notice","f":["ERROR: Backup not found."]}],"n":50,"x":{"r":["data.cloud_backup"],"s":"!_0"},"p":[52,3,2049]},{"t":4,"n":51,"f":[{"p":[55,4,2141],"t":7,"e":"ui-display","a":{"title":["Backup #",{"t":2,"r":"data.current_view","p":[55,31,2168]}]},"f":[{"t":4,"f":[{"p":[57,6,2226],"t":7,"e":"ui-button","a":{"icon":"upload","action":"upload_program","style":"selected"},"f":["Upload Program From Disk"]},{"p":[57,108,2328],"t":7,"e":"br"}],"n":50,"r":"data.has_program","p":[56,5,2196]}," ",{"t":4,"f":[{"p":[60,6,2384],"t":7,"e":"hr"}," ",{"p":[61,6,2394],"t":7,"e":"ui-section","f":[{"p":[62,7,2413],"t":7,"e":"h3","f":[{"t":2,"r":"name","p":[62,11,2417]}]}," ",{"p":[63,7,2437],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[64,8,2470],"t":7,"e":"ui-button","a":{"icon":"minus-circle","action":"remove_program","style":"danger","params":["{\"program_id\": \"",{"t":2,"r":"id","p":[64,102,2564]},"\"}"]},"f":["Uninstall"]}]}]}," ",{"p":[67,6,2633],"t":7,"e":"ui-section","f":[{"p":[68,7,2652],"t":7,"e":"ui-section","a":{"label":"Description"},"f":[{"t":2,"r":"desc","p":[68,39,2684]}]}," ",{"p":[69,7,2712],"t":7,"e":"ui-section","a":{"label":"Activation Status"},"f":[{"t":2,"x":{"r":["activated"],"s":"_0?\"Active\":\"Inactive\""},"p":[69,45,2750]}]}," ",{"p":[70,7,2808],"t":7,"e":"ui-section","a":{"label":"Nanites Consumed"},"f":[{"t":2,"r":"use_rate","p":[70,44,2845]},"/s"]}," ",{"t":4,"f":[{"p":[72,8,2906],"t":7,"e":"ui-section","a":{"label":"Trigger Cost"},"f":[{"t":2,"r":"trigger_cost","p":[72,41,2939]},"/s"]}," ",{"p":[73,8,2978],"t":7,"e":"ui-section","a":{"label":"Trigger Cooldown"},"f":[{"t":2,"r":"trigger_cooldown","p":[73,45,3015]},"/s"]}],"n":50,"r":"can_trigger","p":[71,7,2879]}," ",{"t":4,"f":[{"p":[76,8,3103],"t":7,"e":"ui-section","a":{"label":"Activation Delay"},"f":[{"t":2,"r":"activation_delay","p":[76,45,3140]}]}],"n":50,"r":"activation_delay","p":[75,7,3071]}," ",{"t":4,"f":[{"p":[79,8,3215],"t":7,"e":"ui-section","a":{"label":"Timer"},"f":[{"t":2,"r":"timer","p":[79,34,3241]}]}," ",{"p":[80,8,3271],"t":7,"e":"ui-section","a":{"label":"Timer Type "},"f":[{"t":2,"r":"timer_type","p":[80,40,3303]}]}],"n":50,"r":"timer","p":[78,7,3194]}," ",{"t":4,"f":[{"p":[83,8,3382],"t":7,"e":"ui-section","a":{"label":"Activation Code"},"f":[{"t":2,"r":"activation_code","p":[83,44,3418]}]}],"n":50,"r":"activation_code","p":[82,7,3351]}," ",{"t":4,"f":[{"p":[86,8,3504],"t":7,"e":"ui-section","a":{"label":"Deactivation Code"},"f":[{"t":2,"r":"deactivation_code","p":[86,46,3542]}]}],"n":50,"r":"deactivation_code","p":[85,7,3471]}," ",{"t":4,"f":[{"p":[89,8,3622],"t":7,"e":"ui-section","a":{"label":"Kill Code"},"f":[{"t":2,"r":"kill_code","p":[89,38,3652]}]}],"n":50,"r":"kill_code","p":[88,7,3597]}," ",{"t":4,"f":[{"p":[92,8,3727],"t":7,"e":"ui-section","a":{"label":"Trigger Code"},"f":[{"t":2,"r":"trigger_code","p":[92,41,3760]}]}],"n":50,"r":"trigger_code","p":[91,7,3699]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[96,10,3878],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[96,29,3897]}]},"f":[{"t":2,"r":"value","p":[96,39,3907]}]}],"n":52,"r":"extra_settings","p":[95,8,3844]}],"n":50,"r":"has_extra_settings","p":[94,7,3810]}]}],"n":52,"r":"data.cloud_programs","p":[59,5,2349]}]}],"x":{"r":["data.cloud_backup"],"s":"!_0"}}],"x":{"r":["data.current_view"],"s":"!_0"}}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],410:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Nanite Program Hub"},"f":[{"t":4,"f":[{"p":[3,2,63],"t":7,"e":"ui-display","a":{"title":"Program Disk"},"f":[{"p":[4,3,99],"t":7,"e":"ui-section","f":[{"p":[5,4,115],"t":7,"e":"ui-button","a":{"icon":"eject","action":"eject"},"f":["Eject Disk"]}," ",{"p":[6,4,180],"t":7,"e":"ui-button","a":{"icon":"minus-circle","action":"clear"},"f":["Delete Program"]}]}," ",{"t":4,"f":[{"p":[9,4,299],"t":7,"e":"ui-section","a":{"label":"Program Name"},"f":[{"t":2,"r":"data.disk.name","p":[9,37,332]}]}," ",{"p":[10,4,367],"t":7,"e":"ui-section","a":{"label":"Description"},"f":[{"t":2,"r":"data.disk.desc","p":[10,36,399]}]}],"n":50,"r":"data.has_program","p":[8,3,271]},{"t":4,"n":51,"f":[{"p":[12,4,445],"t":7,"e":"ui-notice","f":["No program installed."]}],"r":"data.has_program"}]}],"n":50,"r":"data.has_disk","p":[2,1,40]},{"t":4,"n":51,"f":[{"p":[16,2,525],"t":7,"e":"ui-notice","f":["Insert disk."]}],"r":"data.has_disk"},{"p":[18,1,569],"t":7,"e":"br"}," ",{"p":[19,1,574],"t":7,"e":"ui-display","a":{"title":"Programs"},"f":[{"p":[20,2,605],"t":7,"e":"ui-section","f":[{"p":[21,3,620],"t":7,"e":"ui-button","a":{"icon":"undo","action":"set_category","params":"{\"category\": \"Main\"}"},"f":["Return"]}," ",{"p":[22,3,716],"t":7,"e":"ui-button","a":{"icon":"align-justify ","action":"toggle_details"},"f":[{"t":2,"x":{"r":["data.detail_view"],"s":"_0?\"Compact View\":\"Detailed View\""},"p":[22,60,773]}]}]}," ",{"t":4,"f":[{"p":[25,3,892],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[27,5,938],"t":7,"e":"ui-section","f":[{"p":[27,17,950],"t":7,"e":"ui-button","a":{"action":"set_category","params":["{\"category\": \"",{"t":2,"r":"name","p":[27,72,1005]},"\"}"]},"f":[{"t":2,"r":"name","p":[27,84,1017]}]}]}],"n":52,"r":"data.categories","p":[26,4,908]}]}],"n":50,"x":{"r":["data.category"],"s":"_0==\"Main\""},"p":[24,2,858]},{"t":4,"n":51,"f":[{"p":[31,3,1092],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"data.category","p":[31,22,1111]}]},"f":[{"t":4,"f":[{"t":4,"f":[{"p":[34,6,1196],"t":7,"e":"ui-display","f":[{"p":[35,7,1215],"t":7,"e":"ui-section","f":[{"p":[35,19,1227],"t":7,"e":"b","f":[{"t":2,"r":"name","p":[35,22,1230]}]}]}," ",{"p":[36,7,1262],"t":7,"e":"ui-section","f":[{"t":2,"r":"desc","p":[36,19,1274]}]}," ",{"p":[37,7,1302],"t":7,"e":"ui-section","f":[{"p":[38,8,1322],"t":7,"e":"ui-button","a":{"icon":"download","action":"download","params":["{\"program_id\": \"",{"t":2,"r":"id","p":[38,77,1391]},"\"}"],"state":[{"t":2,"x":{"r":["data.has_disk"],"s":"_0?null:\"disabled\""},"p":[38,94,1408]}]},"f":["Download"]}]}]}],"n":50,"r":"data.detail_view","p":[33,5,1166]},{"t":4,"n":51,"f":[{"p":[44,6,1542],"t":7,"e":"ui-section","f":[{"p":[44,18,1554],"t":7,"e":"ui-button","a":{"action":"download","params":["{\"program_id\": \"",{"t":2,"r":"id","p":[44,71,1607]},"\"}"]},"f":[{"t":2,"r":"name","p":[44,81,1617]}]}]}],"r":"data.detail_view"}],"n":52,"r":"data.program_list","p":[32,4,1134]}]}],"x":{"r":["data.category"],"s":"_0==\"Main\""}}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],411:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Nanite Programming"},"f":[{"t":4,"f":[{"p":[3,3,65],"t":7,"e":"ui-notice","f":["Insert a nanite program disk."]}],"n":50,"x":{"r":["data.has_disk"],"s":"!_0"},"p":[2,1,40]},{"t":4,"n":51,"f":[{"p":[5,3,129],"t":7,"e":"ui-button","a":{"icon":"eject","action":"eject"},"f":["Eject Disk"]}," ",{"t":4,"f":[{"p":[7,5,223],"t":7,"e":"ui-notice","f":["No program detected."]}],"n":50,"x":{"r":["data.has_program"],"s":"!_0"},"p":[6,3,193]},{"t":4,"n":51,"f":[{"p":[9,5,282],"t":7,"e":"ui-section","f":[{"p":[10,7,301],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"data.name","p":[10,26,320]}]},"f":[{"t":2,"r":"data.desc","p":[11,9,344]}]}]}," ",{"p":[14,5,400],"t":7,"e":"ui-section","f":[{"p":[15,7,419],"t":7,"e":"ui-section","a":{"label":"Program Info"},"f":["Nanites Consumed: ",{"t":2,"r":"data.use_rate","p":[16,26,478]},{"p":[16,43,495],"t":7,"e":"br"}," ",{"t":4,"f":["Trigger Cost: ",{"t":2,"r":"data.trigger_cost","p":[18,25,557]},"u",{"p":[18,47,579],"t":7,"e":"br"}],"n":50,"r":"data.can_trigger","p":[17,9,508]}]}," ",{"p":[22,7,627],"t":7,"e":"ui-section","a":{"label":"Status"},"f":[{"p":[23,9,663],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.activated"],"s":"_0?\"toggle-on\":\"toggle-off\""},"p":[24,17,690]}],"action":"toggle_active"},"f":[{"t":2,"x":{"r":["data.activated"],"s":"_0?\"Active\":\"Inactive\""},"p":[26,11,784]}]}]}," ",{"p":[30,7,876],"t":7,"e":"ui-section","a":{"label":"Settings"},"f":[{"p":[31,9,914],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_activation_delay"}}," Activation Delay: ",{"t":2,"r":"data.activation_delay","p":[31,95,1000]}," ",{"p":[31,121,1026],"t":7,"e":"br"}," ",{"p":[32,9,1039],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_timer"}}," Timer: ",{"t":2,"r":"data.timer","p":[32,73,1103]}," ",{"p":[32,88,1118],"t":7,"e":"br"}," ",{"p":[33,9,1131],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_timer_type"}}," Timer Type: ",{"t":2,"r":"data.timer_type","p":[33,83,1205]}," ",{"p":[33,103,1225],"t":7,"e":"br"}]}," ",{"p":[36,7,1257],"t":7,"e":"ui-section","a":{"label":"Codes"},"f":[{"p":[37,9,1292],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_code","params":"{\"target_code\": \"activation\"}"}}," Activation Code: ",{"t":2,"r":"data.activation_code","p":[37,121,1404]}," ",{"p":[37,146,1429],"t":7,"e":"br"}," ",{"p":[38,9,1442],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_code","params":"{\"target_code\": \"deactivation\"}"}}," Deactivation Code: ",{"t":2,"r":"data.deactivation_code","p":[38,125,1558]}," ",{"p":[38,152,1585],"t":7,"e":"br"}," ",{"p":[39,9,1598],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_code","params":"{\"target_code\": \"kill\"}"}}," Kill Code: ",{"t":2,"r":"data.kill_code","p":[39,109,1698]}," ",{"p":[39,128,1717],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[41,11,1765],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_code","params":"{\"target_code\": \"trigger\"}"}}," Trigger Code: ",{"t":2,"r":"data.trigger_code","p":[41,117,1871]}," ",{"p":[41,139,1893],"t":7,"e":"br"}],"n":50,"r":"data.can_trigger","p":[40,9,1730]}]}," ",{"t":4,"f":[{"p":[46,9,1981],"t":7,"e":"ui-section","a":{"label":"Special"},"f":[{"t":4,"f":[{"p":[48,13,2062],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_extra_setting","params":["{\"target_setting\": \"",{"t":2,"r":"name","p":[48,93,2142]},"\"}"]}}," ",{"t":2,"r":"name","p":[48,118,2167]},": ",{"t":2,"r":"value","p":[48,128,2177]}," ",{"p":[48,138,2187],"t":7,"e":"br"}],"n":52,"r":"data.extra_settings","p":[47,11,2020]}]}],"n":50,"r":"data.has_extra_settings","p":[45,7,1941]}]}],"x":{"r":["data.has_program"],"s":"!_0"}}],"x":{"r":["data.has_disk"],"s":"!_0"}}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],412:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Nanite Control"},"f":[{"t":4,"f":[{"p":[3,3,58],"t":7,"e":"ui-notice","f":["The interface is locked."]}],"n":50,"r":"data.locked","p":[2,1,36]},{"t":4,"n":51,"f":[{"p":[5,3,117],"t":7,"e":"ui-button","a":{"icon":"lock","action":"lock"},"f":["Lock Interface"]}," ",{"p":[6,3,183],"t":7,"e":"ui-button","a":{"icon":"save","action":"save"},"f":["Save Current Setting"]}," ",{"p":[7,3,255],"t":7,"e":"ui-section","a":{"label":"Signal Code"},"f":[{"p":[8,5,292],"t":7,"e":"span","f":[{"t":2,"r":"data.code","p":[8,11,298]}]}," ",{"p":[9,4,322],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_code"},"f":["Set"]}]}," ",{"t":4,"f":[{"p":[12,5,432],"t":7,"e":"ui-section","a":{"label":"Relay Code"},"f":[{"p":[13,7,470],"t":7,"e":"span","f":[{"t":2,"r":"data.relay_code","p":[13,13,476]}]}," ",{"p":[14,5,507],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_relay_code"},"f":["Set"]}]}],"n":50,"x":{"r":["data.mode"],"s":"_0==\"Relay\""},"p":[11,3,399]}," ",{"p":[17,3,602],"t":7,"e":"ui-section","a":{"label":"Signal Mode"},"f":[{"p":[18,5,639],"t":7,"e":"span","f":[{"t":2,"r":"data.mode","p":[18,11,645]}]}," ",{"p":[19,5,670],"t":7,"e":"br"}," ",{"p":[20,4,678],"t":7,"e":"ui-button","a":{"action":"select_mode","params":"{\"mode\": \"Off\"}"},"f":["Off"]}," ",{"p":[21,5,755],"t":7,"e":"ui-button","a":{"action":"select_mode","params":"{\"mode\": \"Local\"}"},"f":["Local"]}," ",{"p":[22,5,836],"t":7,"e":"ui-button","a":{"action":"select_mode","params":"{\"mode\": \"Targeted\"}"},"f":["Targeted"]}," ",{"p":[23,5,923],"t":7,"e":"ui-button","a":{"action":"select_mode","params":"{\"mode\": \"Area\"}"},"f":["Area"]}," ",{"p":[24,5,1002],"t":7,"e":"ui-button","a":{"action":"select_mode","params":"{\"mode\": \"Relay\"}"},"f":["Relay"]}]}],"r":"data.locked"}]}," ",{"p":[28,1,1117],"t":7,"e":"ui-display","a":{"title":"Saved Settings"},"f":[{"t":4,"f":[{"p":[30,3,1186],"t":7,"e":"ui-button","a":{"icon":"load","action":"load","params":["{\"save_id\": \"",{"t":2,"r":"id","p":[30,61,1244]},"\"}"]},"f":[{"t":2,"r":"name","p":[30,71,1254]}]}," ",{"t":4,"f":[{"p":[32,4,1301],"t":7,"e":"ui-button","a":{"icon":"remove","action":"remove_save","params":["{\"save_id\": \"",{"t":2,"r":"id","p":[32,71,1368]},"\"}"]},"f":["Remove"]}],"n":50,"x":{"r":["data.locked"],"s":"!_0"},"p":[31,3,1277]}," ",{"p":[34,3,1409],"t":7,"e":"br"}],"n":52,"r":"data.saved_settings","p":[29,2,1154]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],413:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Ghost roles"},"f":[{"p":[2,2,34],"t":7,"e":"ui-section","a":{"label":"Ignored roles"},"f":[{"t":4,"f":[{"p":[4,4,96],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["enabled"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[4,21,113]}],"style":[{"t":2,"x":{"r":["enabled"],"s":"_0?\"danger\":null"},"p":[4,73,165]}],"action":"toggle_ignore","params":["{\"key\": \"",{"t":2,"r":"key","p":[4,144,236]},"\"}"]},"f":[{"t":2,"r":"desc","p":[4,155,247]}]}],"n":52,"r":"data.ignore","p":[3,3,71]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],414:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Relay"},"f":[{"t":4,"f":[{"p":[3,3,55],"t":7,"e":"h2","f":["NETWORK BUFFERS OVERLOADED"]}," ",{"p":[4,3,93],"t":7,"e":"h3","f":["Overload Recovery Mode"]}," ",{"p":[5,3,127],"t":7,"e":"i","f":["This system is suffering temporary outage due to overflow of traffic buffers. Until buffered traffic is processed, all further requests will be dropped. Frequent occurences of this error may indicate insufficient hardware capacity of your network. Please contact your network planning department for instructions on how to resolve this issue."]}," ",{"p":[6,3,479],"t":7,"e":"h3","f":["ADMINISTRATIVE OVERRIDE"]}," ",{"p":[7,3,514],"t":7,"e":"b","f":["CAUTION - Data loss may occur"]}," ",{"p":[8,3,555],"t":7,"e":"ui-button","a":{"icon":"signal","action":"restart"},"f":["Purge buffered traffic"]}],"n":50,"r":"data.dos_crashed","p":[2,2,28]},{"t":4,"n":51,"f":[{"p":[12,3,652],"t":7,"e":"ui-section","a":{"label":"Relay status"},"f":[{"p":[13,4,689],"t":7,"e":"ui-button","a":{"icon":"power-off","action":"toggle"},"f":[{"t":2,"x":{"r":["data.enabled"],"s":"_0?\"ENABLED\":\"DISABLED\""},"p":[14,6,739]}]}]}," ",{"p":[18,3,819],"t":7,"e":"ui-section","a":{"label":"Network buffer status"},"f":[{"t":2,"r":"data.dos_overload","p":[19,4,865]}," / ",{"t":2,"r":"data.dos_capacity","p":[19,28,889]}," GQ"]}],"r":"data.dos_crashed"}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],415:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  computed: {
    healthState: function healthState() {
      var health = this.get('data.health');
      if (health > 70) return 'good';else if (health > 50) return 'average';else return 'bad';
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" "," ",{"p":[15,1,306],"t":7,"e":"ntosheader"}," ",{"t":4,"f":[{"p":[18,3,346],"t":7,"e":"ui-notice","f":[{"p":[19,5,362],"t":7,"e":"span","f":["Reconstruction in progress!"]}]}],"n":50,"r":"data.restoring","p":[17,1,321]},{"p":[24,1,428],"t":7,"e":"ui-display","f":[{"p":[26,1,442],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[27,3,463],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Inserted AI:"]}," ",{"p":[30,3,512],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[31,2,539],"t":7,"e":"ui-button","a":{"icon":"eject","action":"PRG_eject","state":[{"t":2,"x":{"r":["data.nocard"],"s":"_0?\"disabled\":null"},"p":[31,52,589]}]},"f":[{"t":2,"x":{"r":["data.name"],"s":"_0?_0:\"---\""},"p":[31,89,626]}]}]}]}," ",{"t":4,"f":[{"p":[36,2,709],"t":7,"e":"b","f":["ERROR: ",{"t":2,"r":"data.error","p":[36,12,719]}]}],"n":50,"r":"data.error","p":[35,1,689]},{"t":4,"n":51,"f":[{"p":[38,2,748],"t":7,"e":"h2","f":["System Status"]}," ",{"p":[39,2,772],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[40,3,793],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Current AI:"]}," ",{"p":[43,3,843],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":2,"r":"data.name","p":[44,4,872]}]}," ",{"p":[46,3,897],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Status:"]}," ",{"p":[49,3,943],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":4,"f":["Nonfunctional"],"n":50,"r":"data.isDead","p":[50,4,972]},{"t":4,"n":51,"f":["Functional"],"r":"data.isDead"}]}," ",{"p":[56,3,1059],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["System Integrity:"]}," ",{"p":[59,3,1115],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[60,4,1144],"t":7,"e":"ui-bar","a":{"min":"0","max":"100","value":[{"t":2,"r":"data.health","p":[60,37,1177]}],"state":[{"t":2,"r":"healthState","p":[61,11,1204]}]},"f":[{"t":2,"x":{"r":["adata.health"],"s":"Math.round(_0)"},"p":[61,28,1221]},"%"]}]}," ",{"p":[63,3,1274],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Active Laws:"]}," ",{"p":[66,3,1325],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[67,4,1354],"t":7,"e":"table","f":[{"t":4,"f":[{"p":[69,6,1394],"t":7,"e":"tr","f":[{"p":[69,10,1398],"t":7,"e":"td","f":[{"p":[69,14,1402],"t":7,"e":"span","a":{"class":"highlight"},"f":[{"t":2,"r":".","p":[69,38,1426]}]}]}]}],"n":52,"r":"data.ai_laws","p":[68,5,1366]}]}]}," ",{"p":[73,2,1475],"t":7,"e":"ui-section","a":{"label":"Operations"},"f":[{"p":[74,3,1509],"t":7,"e":"ui-button","a":{"icon":"plus","style":[{"t":2,"x":{"r":["data.restoring"],"s":"_0?\"disabled\":null"},"p":[74,33,1539]}],"action":"PRG_beginReconstruction"},"f":["Begin Reconstruction"]}]}]}],"r":"data.error"}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);

},{"./ntosheader.ract":429,"ractive":342}],416:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[2,1,46],"t":7,"e":"ntosheader"}," ",{"t":4,"f":[{"p":[5,1,87],"t":7,"e":"ui-button","a":{"action":"PRG_switchm","icon":"home","params":"{\"target\" : \"mod\"}","state":[{"t":2,"x":{"r":["data.mmode"],"s":"_0==1?\"disabled\":null"},"p":[5,80,166]}]},"f":["Access Modification"]}],"n":50,"r":"data.have_id_slot","p":[4,1,61]},{"p":[7,1,247],"t":7,"e":"ui-button","a":{"action":"PRG_switchm","icon":"folder-open","params":"{\"target\" : \"manage\"}","state":[{"t":2,"x":{"r":["data.mmode"],"s":"_0==2?\"disabled\":null"},"p":[7,90,336]}]},"f":["Job Management"]}," ",{"p":[8,1,404],"t":7,"e":"ui-button","a":{"action":"PRG_switchm","icon":"folder-open","params":"{\"target\" : \"manifest\"}","state":[{"t":2,"x":{"r":["data.mmode"],"s":"!_0?\"disabled\":null"},"p":[8,92,495]}]},"f":["Crew Manifest"]}," ",{"t":4,"f":[{"p":[10,1,584],"t":7,"e":"ui-button","a":{"action":"PRG_print","icon":"print","state":[{"t":2,"x":{"r":["data.has_id","data.mmode"],"s":"!_1||_0&&_1==1?null:\"disabled\""},"p":[10,51,634]}]},"f":["Print"]}],"n":50,"r":"data.have_printer","p":[9,1,558]},{"t":4,"f":[{"p":[14,1,753],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[15,3,774],"t":7,"e":"h2","f":["Crew Manifest"]}," ",{"p":[16,3,799],"t":7,"e":"br"},"Please use security record computer to modify entries.",{"p":[16,61,857],"t":7,"e":"br"},{"p":[16,65,861],"t":7,"e":"br"}]}," ",{"t":4,"f":[{"p":[19,2,898],"t":7,"e":"div","a":{"class":"item"},"f":[{"t":2,"r":"name","p":[20,2,918]}," - ",{"t":2,"r":"rank","p":[20,13,929]}]}],"n":52,"r":"data.manifest","p":[18,1,873]}],"n":50,"x":{"r":["data.mmode"],"s":"!_0"},"p":[13,1,733]},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["data.mmode"],"s":"_0==2"},"f":[{"p":[25,1,984],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[26,3,1005],"t":7,"e":"h2","f":["Job Management"]}]}," ",{"p":[28,1,1036],"t":7,"e":"table","f":[{"p":[29,1,1044],"t":7,"e":"tr","f":[{"p":[29,5,1048],"t":7,"e":"td","a":{"style":"width:25%"},"f":[{"p":[29,27,1070],"t":7,"e":"b","f":["Job"]}]},{"p":[29,42,1085],"t":7,"e":"td","a":{"style":"width:25%"},"f":[{"p":[29,64,1107],"t":7,"e":"b","f":["Slots"]}]},{"p":[29,81,1124],"t":7,"e":"td","a":{"style":"width:25%"},"f":[{"p":[29,103,1146],"t":7,"e":"b","f":["Open job"]}]},{"p":[29,123,1166],"t":7,"e":"td","a":{"style":"width:25%"},"f":[{"p":[29,145,1188],"t":7,"e":"b","f":["Close job"]}]}]}," ",{"t":4,"f":[{"p":[32,2,1238],"t":7,"e":"tr","f":[{"p":[32,6,1242],"t":7,"e":"td","f":[{"t":2,"r":"title","p":[32,10,1246]}]},{"p":[32,24,1260],"t":7,"e":"td","f":[{"t":2,"r":"current","p":[32,28,1264]},"/",{"t":2,"r":"total","p":[32,40,1276]}]},{"p":[32,54,1290],"t":7,"e":"td","f":[{"p":[32,58,1294],"t":7,"e":"ui-button","a":{"action":"PRG_open_job","params":["{\"target\" : \"",{"t":2,"r":"title","p":[32,112,1348]},"\"}"],"state":[{"t":2,"x":{"r":["status_open"],"s":"_0?null:\"disabled\""},"p":[32,132,1368]}]},"f":[{"t":2,"r":"desc_open","p":[32,169,1405]}]},{"p":[32,194,1430],"t":7,"e":"br"}]},{"p":[32,203,1439],"t":7,"e":"td","f":[{"p":[32,207,1443],"t":7,"e":"ui-button","a":{"action":"PRG_close_job","params":["{\"target\" : \"",{"t":2,"r":"title","p":[32,262,1498]},"\"}"],"state":[{"t":2,"x":{"r":["status_close"],"s":"_0?null:\"disabled\""},"p":[32,282,1518]}]},"f":[{"t":2,"r":"desc_close","p":[32,320,1556]}]}]}]}],"n":52,"r":"data.slots","p":[30,1,1215]}]}]},{"t":4,"n":50,"x":{"r":["data.mmode"],"s":"!(_0==2)"},"f":[" ",{"p":[40,1,1626],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[41,3,1647],"t":7,"e":"h2","f":["Access Modification"]}]}," ",{"t":4,"f":[{"p":[45,3,1707],"t":7,"e":"span","a":{"class":"alert"},"f":[{"p":[45,23,1727],"t":7,"e":"i","f":["Please insert the ID into the terminal to proceed."]}]},{"p":[45,87,1791],"t":7,"e":"br"}],"n":50,"x":{"r":["data.has_id"],"s":"!_0"},"p":[44,1,1684]},{"p":[48,1,1805],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[49,3,1826],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Target Identity:"]}," ",{"p":[52,3,1879],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[53,2,1906],"t":7,"e":"ui-button","a":{"icon":"eject","action":"PRG_eject","params":"{\"target\" : \"id\"}"},"f":[{"t":2,"r":"data.id_name","p":[53,72,1976]}]}]}]}," ",{"p":[56,1,2021],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[57,3,2042],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Auth Identity:"]}," ",{"p":[60,3,2093],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[61,2,2120],"t":7,"e":"ui-button","a":{"icon":"eject","action":"PRG_eject","params":"{\"target\" : \"auth\"}"},"f":[{"t":2,"r":"data.auth_name","p":[61,74,2192]}]}]}]}," ",{"p":[64,1,2239],"t":7,"e":"hr"}," ",{"t":4,"f":[{"t":4,"f":[{"p":[68,2,2295],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[69,4,2317],"t":7,"e":"h2","f":["Details"]}]}," ",{"t":4,"f":[{"p":[73,2,2364],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[74,4,2386],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Registered Name:"]}," ",{"p":[77,4,2442],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":2,"r":"data.id_owner","p":[78,3,2470]}]}]}," ",{"p":[81,2,2507],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[82,4,2529],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Rank:"]}," ",{"p":[85,4,2574],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":2,"r":"data.id_rank","p":[86,3,2602]}]}]}," ",{"p":[89,2,2638],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[90,4,2660],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Demote:"]}," ",{"p":[93,4,2707],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[94,3,2735],"t":7,"e":"ui-button","a":{"action":"PRG_terminate","icon":"gear","state":[{"t":2,"x":{"r":["data.id_rank"],"s":"_0==\"Unassigned\"?\"disabled\":null"},"p":[94,56,2788]}]},"f":["Demote ",{"t":2,"r":"data.id_owner","p":[94,117,2849]}]}]}]}],"n":50,"r":"data.minor","p":[72,2,2344]},{"t":4,"n":51,"f":[{"p":[99,2,2909],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[100,4,2931],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Registered Name:"]}," ",{"p":[103,4,2987],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[104,3,3015],"t":7,"e":"ui-button","a":{"action":"PRG_edit","icon":"pencil","params":"{\"name\" : \"1\"}"},"f":[{"t":2,"r":"data.id_owner","p":[104,70,3082]}]}]}]}," ",{"p":[108,2,3132],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[109,4,3154],"t":7,"e":"h2","f":["Assignment"]}]}," ",{"p":[111,3,3184],"t":7,"e":"ui-button","a":{"action":"PRG_togglea","icon":"gear"},"f":[{"t":2,"x":{"r":["data.assignments"],"s":"_0?\"Hide assignments\":\"Show assignments\""},"p":[111,47,3228]}]}," ",{"p":[112,2,3304],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[113,4,3326],"t":7,"e":"span","a":{"id":"allvalue.jobsslot"},"f":[]}]}," ",{"p":[117,2,3379],"t":7,"e":"div","a":{"class":"item"},"f":[{"t":4,"f":[{"p":[119,4,3429],"t":7,"e":"div","a":{"id":"all-value.jobs"},"f":[{"p":[120,3,3457],"t":7,"e":"table","f":[{"p":[121,5,3469],"t":7,"e":"tr","f":[{"p":[122,4,3477],"t":7,"e":"th","f":["Command"]}," ",{"p":[123,4,3497],"t":7,"e":"td","f":[{"p":[124,6,3507],"t":7,"e":"ui-button","a":{"action":"PRG_assign","params":"{\"assign_target\" : \"Captain\"}","state":[{"t":2,"x":{"r":["data.id_rank"],"s":"_0==\"Captain\"?\"selected\":null"},"p":[124,83,3584]}]},"f":["Captain"]}]}]}," ",{"p":[127,5,3678],"t":7,"e":"tr","f":[{"p":[128,4,3686],"t":7,"e":"th","f":["Special"]}," ",{"p":[129,4,3706],"t":7,"e":"td","f":[{"p":[130,6,3716],"t":7,"e":"ui-button","a":{"action":"PRG_assign","params":"{\"assign_target\" : \"Custom\"}"},"f":["Custom"]}]}]}," ",{"p":[133,5,3827],"t":7,"e":"tr","f":[{"p":[134,4,3835],"t":7,"e":"th","a":{"style":"color: '#FFA500';"},"f":["Engineering"]}," ",{"p":[135,4,3885],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[137,5,3931],"t":7,"e":"ui-button","a":{"action":"PRG_assign","params":["{\"assign_target\" : \"",{"t":2,"r":"job","p":[137,64,3990]},"\"}"],"state":[{"t":2,"x":{"r":["data.id_rank","job"],"s":"_0==_1?\"selected\":null"},"p":[137,82,4008]}]},"f":[{"t":2,"r":"display_name","p":[137,127,4053]}]}],"n":52,"r":"data.engineering_jobs","p":[136,6,3895]}]}]}," ",{"p":[141,5,4120],"t":7,"e":"tr","f":[{"p":[142,4,4128],"t":7,"e":"th","a":{"style":"color: '#008000';"},"f":["Medical"]}," ",{"p":[143,4,4174],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[145,5,4216],"t":7,"e":"ui-button","a":{"action":"PRG_assign","params":["{\"assign_target\" : \"",{"t":2,"r":"job","p":[145,64,4275]},"\"}"],"state":[{"t":2,"x":{"r":["data.id_rank","job"],"s":"_0==_1?\"selected\":null"},"p":[145,82,4293]}]},"f":[{"t":2,"r":"display_name","p":[145,127,4338]}]}],"n":52,"r":"data.medical_jobs","p":[144,6,4184]}]}]}," ",{"p":[149,5,4405],"t":7,"e":"tr","f":[{"p":[150,4,4413],"t":7,"e":"th","a":{"style":"color: '#800080';"},"f":["Science"]}," ",{"p":[151,4,4459],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[153,5,4501],"t":7,"e":"ui-button","a":{"action":"PRG_assign","params":["{\"assign_target\" : \"",{"t":2,"r":"job","p":[153,64,4560]},"\"}"],"state":[{"t":2,"x":{"r":["data.id_rank","job"],"s":"_0==_1?\"selected\":null"},"p":[153,82,4578]}]},"f":[{"t":2,"r":"display_name","p":[153,127,4623]}]}],"n":52,"r":"data.science_jobs","p":[152,6,4469]}]}]}," ",{"p":[157,5,4690],"t":7,"e":"tr","f":[{"p":[158,4,4698],"t":7,"e":"th","a":{"style":"color: '#DD0000';"},"f":["Security"]}," ",{"p":[159,4,4745],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[161,5,4788],"t":7,"e":"ui-button","a":{"action":"PRG_assign","params":["{\"assign_target\" : \"",{"t":2,"r":"job","p":[161,64,4847]},"\"}"],"state":[{"t":2,"x":{"r":["data.id_rank","job"],"s":"_0==_1?\"selected\":null"},"p":[161,82,4865]}]},"f":[{"t":2,"r":"display_name","p":[161,127,4910]}]}],"n":52,"r":"data.security_jobs","p":[160,6,4755]}]}]}," ",{"p":[165,5,4977],"t":7,"e":"tr","f":[{"p":[166,4,4985],"t":7,"e":"th","a":{"style":"color: '#cc6600';"},"f":["Cargo"]}," ",{"p":[167,4,5029],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[169,5,5069],"t":7,"e":"ui-button","a":{"action":"PRG_assign","params":["{\"assign_target\" : \"",{"t":2,"r":"job","p":[169,64,5128]},"\"}"],"state":[{"t":2,"x":{"r":["data.id_rank","job"],"s":"_0==_1?\"selected\":null"},"p":[169,82,5146]}]},"f":[{"t":2,"r":"display_name","p":[169,127,5191]}]}],"n":52,"r":"data.cargo_jobs","p":[168,6,5039]}]}]}," ",{"p":[173,5,5258],"t":7,"e":"tr","f":[{"p":[174,4,5266],"t":7,"e":"th","a":{"style":"color: '#808080';"},"f":["Civilian"]}," ",{"p":[175,4,5313],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[177,5,5356],"t":7,"e":"ui-button","a":{"action":"PRG_assign","params":["{\"assign_target\" : \"",{"t":2,"r":"job","p":[177,64,5415]},"\"}"],"state":[{"t":2,"x":{"r":["data.id_rank","job"],"s":"_0==_1?\"selected\":null"},"p":[177,82,5433]}]},"f":[{"t":2,"r":"display_name","p":[177,127,5478]}]}],"n":52,"r":"data.civilian_jobs","p":[176,6,5323]}]}]}," ",{"t":4,"f":[{"p":[182,4,5576],"t":7,"e":"tr","f":[{"p":[183,6,5586],"t":7,"e":"th","a":{"style":"color: '#A52A2A';"},"f":["CentCom"]}," ",{"p":[184,6,5634],"t":7,"e":"td","f":[{"t":4,"f":[{"p":[186,7,5677],"t":7,"e":"ui-button","a":{"action":"PRG_assign","params":["{\"assign_target\" : \"",{"t":2,"r":"job","p":[186,66,5736]},"\"}"],"state":[{"t":2,"x":{"r":["data.id_rank","job"],"s":"_0==_1?\"selected\":null"},"p":[186,84,5754]}]},"f":[{"t":2,"r":"display_name","p":[186,129,5799]}]}],"n":52,"r":"data.centcom_jobs","p":[185,5,5643]}]}]}],"n":50,"r":"data.centcom_access","p":[181,5,5545]}]}]}],"n":50,"r":"data.assignments","p":[118,4,3401]}]}],"r":"data.minor"}," ",{"t":4,"f":[{"p":[198,4,5956],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[199,3,5977],"t":7,"e":"h2","f":["Central Command"]}]}," ",{"p":[201,4,6015],"t":7,"e":"div","a":{"class":"item","style":"width: 100%"},"f":[{"t":4,"f":[{"p":[203,5,6094],"t":7,"e":"div","a":{"class":"itemContentWide"},"f":[{"p":[204,5,6128],"t":7,"e":"ui-button","a":{"action":"PRG_access","params":["{\"access_target\" : \"",{"t":2,"r":"ref","p":[204,64,6187]},"\", \"allowed\" : \"",{"t":2,"r":"allowed","p":[204,87,6210]},"\"}"],"state":[{"t":2,"x":{"r":["allowed"],"s":"_0?\"toggle\":null"},"p":[204,109,6232]}]},"f":[{"t":2,"r":"desc","p":[204,140,6263]}]}]}],"n":52,"r":"data.all_centcom_access","p":[202,3,6056]}]}],"n":50,"r":"data.centcom_access","p":[197,2,5925]},{"t":4,"n":51,"f":[{"p":[209,4,6330],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[210,3,6351],"t":7,"e":"h2","f":[{"t":2,"r":"data.station_name","p":[210,7,6355]}]}]}," ",{"p":[212,4,6395],"t":7,"e":"div","a":{"class":"item","style":"width: 100%"},"f":[{"t":4,"f":[{"p":[214,5,6463],"t":7,"e":"div","a":{"style":"float: left; width: 175px; min-height: 250px"},"f":[{"p":[215,4,6525],"t":7,"e":"div","a":{"class":"average"},"f":[{"p":[215,25,6546],"t":7,"e":"ui-button","a":{"action":"PRG_regsel","state":[{"t":2,"x":{"r":["selected"],"s":"_0?\"toggle\":null"},"p":[215,63,6584]}],"params":["{\"region\" : \"",{"t":2,"r":"regid","p":[215,116,6637]},"\"}"]},"f":[{"p":[215,129,6650],"t":7,"e":"b","f":[{"t":2,"r":"name","p":[215,132,6653]}]}]}]}," ",{"p":[216,4,6687],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[218,6,6721],"t":7,"e":"div","a":{"class":"itemContentWide"},"f":[{"p":[219,5,6755],"t":7,"e":"ui-button","a":{"action":"PRG_access","params":["{\"access_target\" : \"",{"t":2,"r":"ref","p":[219,64,6814]},"\", \"allowed\" : \"",{"t":2,"r":"allowed","p":[219,87,6837]},"\"}"],"state":[{"t":2,"x":{"r":["allowed"],"s":"_0?\"toggle\":null"},"p":[219,109,6859]}]},"f":[{"t":2,"r":"desc","p":[219,140,6890]}]}]}],"n":52,"r":"accesses","p":[217,6,6697]}]}],"n":52,"r":"data.regions","p":[213,3,6436]}]}],"r":"data.centcom_access"}],"n":50,"r":"data.has_id","p":[67,3,2274]}],"n":50,"r":"data.authenticated","p":[66,1,2245]}]}],"x":{"r":["data.mmode"],"s":"!_0"}}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./ntosheader.ract":429,"ractive":342}],417:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
		data: {
				chargeState: function chargeState(charge) {
						var max = this.get('data.battery.max');
						if (charge > max / 2) return 'good';else if (charge > max / 4) return 'average';else return 'bad';
				}
		}
};
})(component);
component.exports.template = {"v":3,"t":[" "," ",{"p":[15,1,297],"t":7,"e":"ntosheader"}," ",{"p":[17,1,312],"t":7,"e":"ui-display","f":[{"p":[18,2,326],"t":7,"e":"i","f":["Welcome to computer configuration utility. Please consult your system administrator if you have any questions about your device."]},{"p":[18,137,461],"t":7,"e":"hr"}," ",{"p":[19,2,467],"t":7,"e":"ui-display","a":{"title":"Power Supply"},"f":[{"p":[20,3,503],"t":7,"e":"ui-section","a":{"label":"Power Usage"},"f":[{"t":2,"r":"data.power_usage","p":[21,4,539]},"W"]}," ",{"t":4,"f":[{"p":[25,4,606],"t":7,"e":"ui-section","a":{"label":"Battery Status"},"f":["Active"]}," ",{"p":[28,4,674],"t":7,"e":"ui-section","a":{"label":"Battery Rating"},"f":[{"t":2,"r":"data.battery.max","p":[29,5,714]}]}," ",{"p":[31,4,755],"t":7,"e":"ui-section","a":{"label":"Battery Charge"},"f":[{"p":[32,5,795],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"adata.battery.max","p":[32,26,816]}],"value":[{"t":2,"r":"adata.battery.charge","p":[32,56,846]}],"state":[{"t":2,"x":{"r":["chargeState","adata.battery.charge"],"s":"_0(_1)"},"p":[32,89,879]}]},"f":[{"t":2,"x":{"r":["adata.battery.charge"],"s":"Math.round(_0)"},"p":[32,128,918]},"/",{"t":2,"r":"adata.battery.max","p":[32,165,955]}]}]}],"n":50,"r":"data.battery","p":[24,3,582]},{"t":4,"n":51,"f":[{"p":[35,4,1017],"t":7,"e":"ui-section","a":{"label":"Battery Status"},"f":["Not Available"]}],"r":"data.battery"}]}," ",{"p":[41,2,1116],"t":7,"e":"ui-display","a":{"title":"File System"},"f":[{"p":[42,3,1151],"t":7,"e":"ui-section","a":{"label":"Used Capacity"},"f":[{"p":[43,4,1189],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"adata.disk_size","p":[43,25,1210]}],"value":[{"t":2,"r":"adata.disk_used","p":[43,53,1238]}],"state":"good"},"f":[{"t":2,"x":{"r":["adata.disk_used"],"s":"Math.round(_0)"},"p":[43,87,1272]},"GQ / ",{"t":2,"r":"adata.disk_size","p":[43,123,1308]},"GQ"]}]}]}," ",{"p":[47,2,1373],"t":7,"e":"ui-display","a":{"title":"Computer Components"},"f":[{"t":4,"f":[{"p":[49,4,1443],"t":7,"e":"ui-subdisplay","a":{"title":[{"t":2,"r":"name","p":[49,26,1465]}]},"f":[{"p":[50,5,1480],"t":7,"e":"div","a":{"style":"display: table-caption; margin-left: 3px"},"f":[{"t":2,"r":"desc","p":[50,59,1534]}]}," ",{"p":[52,5,1554],"t":7,"e":"ui-section","a":{"label":"State"},"f":[{"p":[53,6,1586],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["critical"],"s":"_0?\"disabled\":null"},"p":[53,24,1604]}],"action":"PC_toggle_component","params":["{\"name\": \"",{"t":2,"r":"name","p":[53,105,1685]},"\"}"]},"f":[{"t":2,"x":{"r":["enabled"],"s":"_0?\"Enabled\":\"Disabled\""},"p":[54,7,1704]}]}]}," ",{"t":4,"f":[{"p":[59,6,1810],"t":7,"e":"ui-section","a":{"label":"Power Usage"},"f":[{"t":2,"r":"powerusage","p":[60,7,1849]},"W"]}],"n":50,"r":"powerusage","p":[58,5,1786]}]}," ",{"p":[64,4,1922],"t":7,"e":"br"}],"n":52,"r":"data.hardware","p":[48,3,1416]}]}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);

},{"./ntosheader.ract":429,"ractive":342}],418:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[2,1,46],"t":7,"e":"ntosheader"}," ",{"p":[4,1,61],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[7,3,97],"t":7,"e":"h2","f":["An error has occurred and this program can not continue."]}," Additional information: ",{"t":2,"r":"data.error","p":[8,27,189]},{"p":[8,41,203],"t":7,"e":"br"}," ",{"p":[9,3,210],"t":7,"e":"i","f":["Please try again. If the problem persists contact your system administrator for assistance."]}," ",{"p":[10,3,311],"t":7,"e":"ui-button","a":{"action":"PRG_closefile"},"f":["Restart program"]}],"n":50,"r":"data.error","p":[6,2,76]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[13,4,410],"t":7,"e":"h2","f":["Viewing file ",{"t":2,"r":"data.filename","p":[13,21,427]}]}," ",{"p":[14,4,453],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[15,4,475],"t":7,"e":"ui-button","a":{"action":"PRG_closefile"},"f":["CLOSE"]}," ",{"p":[16,4,530],"t":7,"e":"ui-button","a":{"action":"PRG_edit"},"f":["EDIT"]}," ",{"p":[17,4,579],"t":7,"e":"ui-button","a":{"action":"PRG_printfile"},"f":["PRINT"]}," "]},{"p":[18,10,640],"t":7,"e":"hr"}," ",{"t":3,"r":"data.filedata","p":[19,4,648]}],"n":50,"r":"data.filename","p":[12,3,385]},{"t":4,"n":51,"f":[{"p":[21,4,682],"t":7,"e":"h2","f":["Available files (local):"]}," ",{"p":[22,4,719],"t":7,"e":"table","f":[{"p":[23,5,731],"t":7,"e":"tr","f":[{"p":[24,6,741],"t":7,"e":"th","f":["File name"]}," ",{"p":[25,6,765],"t":7,"e":"th","f":["File type"]}," ",{"p":[26,6,789],"t":7,"e":"th","f":["File size (GQ)"]}," ",{"p":[27,6,818],"t":7,"e":"th","f":["Operations"]}]}," ",{"t":4,"f":[{"p":[30,6,878],"t":7,"e":"tr","f":[{"p":[31,7,889],"t":7,"e":"td","f":[{"t":2,"r":"name","p":[31,11,893]}]}," ",{"p":[32,7,913],"t":7,"e":"td","f":[".",{"t":2,"r":"type","p":[32,12,918]}]}," ",{"p":[33,7,938],"t":7,"e":"td","f":[{"t":2,"r":"size","p":[33,11,942]},"GQ"]}," ",{"p":[34,7,964],"t":7,"e":"td","f":[{"p":[35,8,976],"t":7,"e":"ui-button","a":{"action":"PRG_openfile","params":["{\"name\": \"",{"t":2,"r":"name","p":[35,59,1027]},"\"}"]},"f":["VIEW"]}," ",{"p":[36,8,1063],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["undeletable"],"s":"_0?\"disabled\":null"},"p":[36,26,1081]}],"action":"PRG_deletefile","params":["{\"name\": \"",{"t":2,"r":"name","p":[36,105,1160]},"\"}"]},"f":["DELETE"]}," ",{"p":[37,8,1198],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["undeletable"],"s":"_0?\"disabled\":null"},"p":[37,26,1216]}],"action":"PRG_rename","params":["{\"name\": \"",{"t":2,"r":"name","p":[37,101,1291]},"\"}"]},"f":["RENAME"]}," ",{"p":[38,8,1329],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["undeletable"],"s":"_0?\"disabled\":null"},"p":[38,26,1347]}],"action":"PRG_clone","params":["{\"name\": \"",{"t":2,"r":"name","p":[38,100,1421]},"\"}"]},"f":["CLONE"]}," ",{"t":4,"f":[{"p":[40,9,1492],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["undeletable"],"s":"_0?\"disabled\":null"},"p":[40,27,1510]}],"action":"PRG_copytousb","params":["{\"name\": \"",{"t":2,"r":"name","p":[40,105,1588]},"\"}"]},"f":["EXPORT"]}],"n":50,"r":"data.usbconnected","p":[39,8,1458]}]}]}],"n":52,"r":"data.files","p":[29,5,852]}]}," ",{"t":4,"f":[{"p":[47,4,1715],"t":7,"e":"h2","f":["Available files (portable device):"]}," ",{"p":[48,4,1762],"t":7,"e":"table","f":[{"p":[49,5,1774],"t":7,"e":"tr","f":[{"p":[50,6,1784],"t":7,"e":"th","f":["File name"]}," ",{"p":[51,6,1808],"t":7,"e":"th","f":["File type"]}," ",{"p":[52,6,1832],"t":7,"e":"th","f":["File size (GQ)"]}," ",{"p":[53,6,1861],"t":7,"e":"th","f":["Operations"]}]}," ",{"t":4,"f":[{"p":[56,6,1924],"t":7,"e":"tr","f":[{"p":[57,7,1935],"t":7,"e":"td","f":[{"t":2,"r":"name","p":[57,11,1939]}]}," ",{"p":[58,7,1959],"t":7,"e":"td","f":[".",{"t":2,"r":"type","p":[58,12,1964]}]}," ",{"p":[59,7,1984],"t":7,"e":"td","f":[{"t":2,"r":"size","p":[59,11,1988]},"GQ"]}," ",{"p":[60,7,2010],"t":7,"e":"td","f":[{"p":[61,8,2022],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["undeletable"],"s":"_0?\"disabled\":null"},"p":[61,26,2040]}],"action":"PRG_usbdeletefile","params":["{\"name\": \"",{"t":2,"r":"name","p":[61,108,2122]},"\"}"]},"f":["DELETE"]}," ",{"t":4,"f":[{"p":[63,9,2194],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["undeletable"],"s":"_0?\"disabled\":null"},"p":[63,27,2212]}],"action":"PRG_copyfromusb","params":["{\"name\": \"",{"t":2,"r":"name","p":[63,107,2292]},"\"}"]},"f":["IMPORT"]}],"n":50,"r":"data.usbconnected","p":[62,8,2160]}]}]}],"n":52,"r":"data.usbfiles","p":[55,5,1895]}]}],"n":50,"r":"data.usbconnected","p":[46,4,1686]}," ",{"p":[70,4,2401],"t":7,"e":"ui-button","a":{"action":"PRG_newtextfile"},"f":["NEW DATA FILE"]}],"r":"data.filename"}],"r":"data.error"}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./ntosheader.ract":429,"ractive":342}],419:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[2,1,46],"t":7,"e":"ntosheader"}," ",{"p":[4,1,61],"t":7,"e":"ui-display","f":[{"p":[5,2,75],"t":7,"e":"i","f":["No program loaded. Please select program from list below."]}," ",{"p":[6,2,141],"t":7,"e":"table","f":[{"t":4,"f":[{"p":[8,4,178],"t":7,"e":"tr","f":[{"p":[8,8,182],"t":7,"e":"td","f":[{"p":[8,12,186],"t":7,"e":"ui-button","a":{"action":"PC_runprogram","params":["{\"name\": \"",{"t":2,"r":"name","p":[8,64,238]},"\"}"]},"f":[{"t":2,"r":"desc","p":[9,5,255]}]}]},{"p":[11,4,283],"t":7,"e":"td","f":[{"p":[11,8,287],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["running"],"s":"_0?null:\"disabled\""},"p":[11,26,305]}],"icon":"close","action":"PC_killprogram","params":["{\"name\": \"",{"t":2,"r":"name","p":[11,114,393]},"\"}"]}}]}]}],"n":52,"r":"data.programs","p":[7,3,151]}]}," ",{"p":[14,2,441],"t":7,"e":"br"},{"p":[14,6,445],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[16,3,476],"t":7,"e":"ui-button","a":{"action":"PC_toggle_light","style":[{"t":2,"x":{"r":["data.light_on"],"s":"_0?\"selected\":null"},"p":[16,46,519]}]},"f":["Toggle Flashlight"]},{"p":[16,114,587],"t":7,"e":"br"}," ",{"p":[17,3,594],"t":7,"e":"ui-button","a":{"action":"PC_light_color"},"f":["Change Flashlight Color ",{"p":[17,62,653],"t":7,"e":"span","a":{"style":["border:1px solid #161616; background-color: ",{"t":2,"r":"data.comp_light_color","p":[17,119,710]},";"]},"f":["   "]}]}],"n":50,"r":"data.has_light","p":[15,2,451]}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./ntosheader.ract":429,"ractive":342}],420:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[2,1,46],"t":7,"e":"ntosheader"}," ",{"p":[4,1,61],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[6,3,100],"t":7,"e":"h1","f":["ADMINISTRATIVE MODE"]}],"n":50,"r":"data.adminmode","p":[5,2,75]}," ",{"t":4,"f":[{"p":[10,3,161],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Current channel:"]}," ",{"p":[13,3,217],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":2,"r":"data.title","p":[14,4,246]}]}," ",{"p":[16,3,272],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Operator access:"]}," ",{"p":[19,3,328],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":4,"f":[{"p":[21,5,386],"t":7,"e":"b","f":["Enabled"]}],"n":50,"r":"data.is_operator","p":[20,4,357]},{"t":4,"n":51,"f":[{"p":[23,5,417],"t":7,"e":"b","f":["Disabled"]}],"r":"data.is_operator"}]}," ",{"p":[26,3,455],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Controls:"]}," ",{"p":[29,3,504],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[30,4,533],"t":7,"e":"table","f":[{"p":[31,5,545],"t":7,"e":"tr","f":[{"p":[31,9,549],"t":7,"e":"td","f":[{"p":[31,13,553],"t":7,"e":"ui-button","a":{"action":"PRG_speak"},"f":["Send message"]}]}]},{"p":[32,5,612],"t":7,"e":"tr","f":[{"p":[32,9,616],"t":7,"e":"td","f":[{"p":[32,13,620],"t":7,"e":"ui-button","a":{"action":"PRG_changename"},"f":["Change nickname"]}]}]},{"p":[33,5,687],"t":7,"e":"tr","f":[{"p":[33,9,691],"t":7,"e":"td","f":[{"p":[33,13,695],"t":7,"e":"ui-button","a":{"action":"PRG_toggleadmin"},"f":["Toggle administration mode"]}]}]},{"p":[34,5,774],"t":7,"e":"tr","f":[{"p":[34,9,778],"t":7,"e":"td","f":[{"p":[34,13,782],"t":7,"e":"ui-button","a":{"action":"PRG_leavechannel"},"f":["Leave channel"]}]}]},{"p":[35,5,849],"t":7,"e":"tr","f":[{"p":[35,9,853],"t":7,"e":"td","f":[{"p":[35,13,857],"t":7,"e":"ui-button","a":{"action":"PRG_savelog"},"f":["Save log to local drive"]}," ",{"t":4,"f":[{"p":[37,6,959],"t":7,"e":"tr","f":[{"p":[37,10,963],"t":7,"e":"td","f":[{"p":[37,14,967],"t":7,"e":"ui-button","a":{"action":"PRG_renamechannel"},"f":["Rename channel"]}]}]},{"p":[38,6,1037],"t":7,"e":"tr","f":[{"p":[38,10,1041],"t":7,"e":"td","f":[{"p":[38,14,1045],"t":7,"e":"ui-button","a":{"action":"PRG_setpassword"},"f":["Set password"]}]}]},{"p":[39,6,1111],"t":7,"e":"tr","f":[{"p":[39,10,1115],"t":7,"e":"td","f":[{"p":[39,14,1119],"t":7,"e":"ui-button","a":{"action":"PRG_deletechannel"},"f":["Delete channel"]}]}]}],"n":50,"r":"data.is_operator","p":[36,5,929]}]}]}]}]}," ",{"p":[43,3,1221],"t":7,"e":"b","f":["Chat Window"]}," ",{"p":[44,4,1243],"t":7,"e":"div","a":{"class":"statusDisplay","style":"overflow: auto;"},"f":[{"p":[45,4,1298],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[46,5,1321],"t":7,"e":"div","a":{"class":"itemContent","style":"width: 100%;"},"f":[{"t":4,"f":[{"t":2,"r":"msg","p":[48,7,1403]},{"p":[48,14,1410],"t":7,"e":"br"}],"n":52,"r":"data.messages","p":[47,6,1373]}]}]}]}," ",{"p":[53,3,1464],"t":7,"e":"b","f":["Connected Users"]},{"p":[53,25,1486],"t":7,"e":"br"}," ",{"t":4,"f":[{"t":2,"r":"name","p":[55,4,1519]},{"p":[55,12,1527],"t":7,"e":"br"}],"n":52,"r":"data.clients","p":[54,3,1493]}],"n":50,"r":"data.title","p":[9,2,140]},{"t":4,"n":51,"f":[{"p":[58,3,1556],"t":7,"e":"b","f":["Controls:"]}," ",{"p":[59,3,1575],"t":7,"e":"table","f":[{"p":[60,4,1586],"t":7,"e":"tr","f":[{"p":[60,8,1590],"t":7,"e":"td","f":[{"p":[60,12,1594],"t":7,"e":"ui-button","a":{"action":"PRG_changename"},"f":["Change nickname"]}]}]},{"p":[61,4,1660],"t":7,"e":"tr","f":[{"p":[61,8,1664],"t":7,"e":"td","f":[{"p":[61,12,1668],"t":7,"e":"ui-button","a":{"action":"PRG_newchannel"},"f":["New Channel"]}]}]},{"p":[62,4,1730],"t":7,"e":"tr","f":[{"p":[62,8,1734],"t":7,"e":"td","f":[{"p":[62,12,1738],"t":7,"e":"ui-button","a":{"action":"PRG_toggleadmin"},"f":["Toggle administration mode"]}]}]}]}," ",{"p":[64,3,1826],"t":7,"e":"b","f":["Available channels:"]}," ",{"p":[65,3,1855],"t":7,"e":"table","f":[{"t":4,"f":[{"p":[67,4,1898],"t":7,"e":"tr","f":[{"p":[67,8,1902],"t":7,"e":"td","f":[{"p":[67,12,1906],"t":7,"e":"ui-button","a":{"action":"PRG_joinchannel","params":["{\"id\": \"",{"t":2,"r":"id","p":[67,64,1958]},"\"}"]},"f":[{"t":2,"r":"chan","p":[67,74,1968]}]},{"p":[67,94,1988],"t":7,"e":"br"}]}]}],"n":52,"r":"data.all_channels","p":[66,3,1865]}]}],"r":"data.title"}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./ntosheader.ract":429,"ractive":342}],421:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[2,1,46],"t":7,"e":"ntosheader"}," ",{"p":[4,1,61],"t":7,"e":"ui-display","f":[{"t":4,"f":["##SYSTEM ERROR: ",{"t":2,"r":"data.error","p":[6,19,112]},{"p":[6,33,126],"t":7,"e":"ui-button","a":{"action":"PRG_reset"},"f":["RESET"]}],"n":50,"r":"data.error","p":[5,2,75]},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["data.target"],"s":"_0"},"f":["##DoS traffic generator active. Tx: ",{"t":2,"r":"data.speed","p":[8,39,236]},"GQ/s",{"p":[8,57,254],"t":7,"e":"br"}," ",{"t":4,"f":[{"t":2,"r":"nums","p":[10,4,291]},{"p":[10,12,299],"t":7,"e":"br"}],"n":52,"r":"data.dos_strings","p":[9,3,261]}," ",{"p":[12,3,318],"t":7,"e":"ui-button","a":{"action":"PRG_reset"},"f":["ABORT"]}]},{"t":4,"n":50,"x":{"r":["data.target"],"s":"!(_0)"},"f":[" ##DoS traffic generator ready. Select target device.",{"p":[14,55,430],"t":7,"e":"br"}," ",{"t":4,"f":["Targeted device ID: ",{"t":2,"r":"data.focus","p":[16,24,479]}],"n":50,"r":"data.focus","p":[15,3,437]},{"t":4,"n":51,"f":["Targeted device ID: None"],"r":"data.focus"}," ",{"p":[20,3,545],"t":7,"e":"ui-button","a":{"action":"PRG_execute"},"f":["EXECUTE"]},{"p":[20,54,596],"t":7,"e":"div","a":{"style":"clear:both"}}," Detected devices on network:",{"p":[21,31,657],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[23,4,689],"t":7,"e":"ui-button","a":{"action":"PRG_target_relay","params":["{\"targid\": \"",{"t":2,"r":"id","p":[23,61,746]},"\"}"]},"f":[{"t":2,"r":"id","p":[23,71,756]}]}],"n":52,"r":"data.relays","p":[22,3,664]}]}],"r":"data.error"}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./ntosheader.ract":429,"ractive":342}],422:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[2,1,46],"t":7,"e":"ntosheader"}," ",{"p":[4,1,61],"t":7,"e":"ui-display","f":[{"p":[5,2,75],"t":7,"e":"i","f":["Welcome to software download utility. Please select which software you wish to download."]},{"p":[5,97,170],"t":7,"e":"hr"}," ",{"t":4,"f":[{"p":[7,3,197],"t":7,"e":"ui-display","a":{"title":"Download Error"},"f":[{"p":[8,4,236],"t":7,"e":"ui-section","a":{"label":"Information"},"f":[{"t":2,"r":"data.error","p":[9,5,273]}]}," ",{"p":[11,4,308],"t":7,"e":"ui-section","a":{"label":"Reset Program"},"f":[{"p":[12,5,347],"t":7,"e":"ui-button","a":{"icon":"times","action":"PRG_reseterror"},"f":["RESET"]}]}]}],"n":50,"r":"data.error","p":[6,2,176]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[19,4,498],"t":7,"e":"ui-display","a":{"title":"Download Running"},"f":[{"p":[20,5,540],"t":7,"e":"i","f":["Please wait..."]}," ",{"p":[21,5,566],"t":7,"e":"ui-section","a":{"label":"File name"},"f":[{"t":2,"r":"data.downloadname","p":[22,6,602]}]}," ",{"p":[24,5,646],"t":7,"e":"ui-section","a":{"label":"File description"},"f":[{"t":2,"r":"data.downloaddesc","p":[25,6,689]}]}," ",{"p":[27,5,733],"t":7,"e":"ui-section","a":{"label":"File size"},"f":[{"t":2,"r":"data.downloadsize","p":[28,6,769]},"GQ"]}," ",{"p":[30,5,815],"t":7,"e":"ui-section","a":{"label":"Transfer Rate"},"f":[{"t":2,"r":"data.downloadspeed","p":[31,6,855]}," GQ/s"]}," ",{"p":[33,5,905],"t":7,"e":"ui-section","a":{"label":"Download progress"},"f":[{"p":[34,6,949],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"adata.downloadsize","p":[34,27,970]}],"value":[{"t":2,"r":"adata.downloadcompletion","p":[34,58,1001]}],"state":"good"},"f":[{"t":2,"x":{"r":["adata.downloadcompletion"],"s":"Math.round(_0)"},"p":[34,101,1044]},"GQ / ",{"t":2,"r":"adata.downloadsize","p":[34,146,1089]},"GQ"]}]}]}],"n":50,"r":"data.downloadname","p":[18,3,469]}],"r":"data.error"}," ",{"t":4,"f":[{"t":4,"f":[{"p":[41,4,1230],"t":7,"e":"ui-display","a":{"title":"File System"},"f":[{"p":[42,5,1267],"t":7,"e":"ui-section","a":{"label":"Used Capacity"},"f":[{"p":[43,6,1307],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"adata.disk_size","p":[43,27,1328]}],"value":[{"t":2,"r":"adata.disk_used","p":[43,55,1356]}],"state":"good"},"f":[{"t":2,"x":{"r":["adata.disk_used"],"s":"Math.round(_0)"},"p":[43,89,1390]},"GQ / ",{"t":2,"r":"adata.disk_size","p":[43,125,1426]},"GQ"]}]}]}," ",{"p":[47,4,1499],"t":7,"e":"ui-display","a":{"title":"Primary Software Repository"},"f":[{"t":4,"f":[{"p":[49,6,1594],"t":7,"e":"ui-subdisplay","a":{"title":[{"t":2,"r":"filedesc","p":[49,28,1616]}]},"f":[{"p":[50,7,1637],"t":7,"e":"div","a":{"style":"display: table-caption; margin-left: 3px"},"f":[{"t":2,"r":"fileinfo","p":[50,61,1691]}]}," ",{"p":[52,7,1723],"t":7,"e":"ui-section","a":{"label":"File name"},"f":[{"t":2,"r":"filename","p":[53,8,1761]}," (",{"t":2,"r":"size","p":[53,22,1775]}," GQ)"]}," ",{"p":[55,7,1814],"t":7,"e":"ui-section","a":{"label":"Compatibility"},"f":[{"t":2,"r":"compatibility","p":[56,8,1856]}]}," ",{"p":[58,7,1900],"t":7,"e":"ui-button","a":{"icon":"signal","action":"PRG_downloadfile","params":["{\"filename\": \"",{"t":2,"r":"filename","p":[58,80,1973]},"\"}"]},"f":["DOWNLOAD"]}]}," ",{"p":[62,6,2052],"t":7,"e":"br"}],"n":52,"r":"data.downloadable_programs","p":[48,5,1552]}]}," ",{"t":4,"f":[{"p":[67,5,2128],"t":7,"e":"ui-display","a":{"title":"UNKNOWN Software Repository"},"f":[{"p":[68,6,2182],"t":7,"e":"i","f":["Please note that Nanotrasen does not recommend download of software from non-official servers."]}," ",{"t":4,"f":[{"p":[70,7,2326],"t":7,"e":"ui-subdisplay","a":{"title":[{"t":2,"r":"filedesc","p":[70,29,2348]}]},"f":[{"p":[71,8,2370],"t":7,"e":"div","a":{"style":"display: table-caption; margin-left: 3px"},"f":[{"t":2,"r":"fileinfo","p":[71,62,2424]}]}," ",{"p":[73,8,2458],"t":7,"e":"ui-section","a":{"label":"File name"},"f":[{"t":2,"r":"filename","p":[74,9,2497]}," (",{"t":2,"r":"size","p":[74,23,2511]}," GQ)"]}," ",{"p":[76,8,2552],"t":7,"e":"ui-section","a":{"label":"Compatibility"},"f":[{"t":2,"r":"compatibility","p":[77,9,2595]}]}," ",{"p":[79,8,2641],"t":7,"e":"ui-button","a":{"icon":"signal","action":"PRG_downloadfile","params":["{\"filename\": \"",{"t":2,"r":"filename","p":[79,81,2714]},"\"}"]},"f":["DOWNLOAD"]}]}," ",{"p":[83,7,2797],"t":7,"e":"br"}],"n":52,"r":"data.hacked_programs","p":[69,6,2289]}]}],"n":50,"r":"data.hackedavailable","p":[66,4,2095]}],"n":50,"x":{"r":["data.error"],"s":"!_0"},"p":[40,3,1207]}],"n":50,"x":{"r":["data.downloadname"],"s":"!_0"},"p":[39,2,1178]}," ",{"p":[89,2,2866],"t":7,"e":"br"},{"p":[89,6,2870],"t":7,"e":"br"},{"p":[89,10,2874],"t":7,"e":"hr"},{"p":[89,14,2878],"t":7,"e":"i","f":["NTOS v2.0.4b Copyright Nanotrasen 2557 - 2559"]}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./ntosheader.ract":429,"ractive":342}],423:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[2,1,46],"t":7,"e":"ntosheader"}," ",{"p":[4,1,61],"t":7,"e":"ui-display","f":[{"p":[6,2,76],"t":7,"e":"ui-display","a":{"title":"WIRELESS CONNECTIVITY"},"f":[{"p":[8,3,122],"t":7,"e":"ui-section","a":{"label":"Active NTNetRelays"},"f":[{"p":[9,4,165],"t":7,"e":"b","f":[{"t":2,"r":"data.ntnetrelays","p":[9,7,168]}]}]}," ",{"t":4,"f":[{"p":[12,4,239],"t":7,"e":"ui-section","a":{"label":"System status"},"f":[{"p":[13,6,279],"t":7,"e":"b","f":[{"t":2,"x":{"r":["data.ntnetstatus"],"s":"_0?\"ENABLED\":\"DISABLED\""},"p":[13,9,282]}]}]}," ",{"p":[15,4,352],"t":7,"e":"ui-section","a":{"label":"Control"},"f":[{"p":[17,4,385],"t":7,"e":"ui-button","a":{"icon":"plus","action":"toggleWireless"},"f":["TOGGLE"]}]}," ",{"p":[21,4,480],"t":7,"e":"br"},{"p":[21,8,484],"t":7,"e":"br"}," ",{"p":[22,4,492],"t":7,"e":"i","f":["Caution - Disabling wireless transmitters when using wireless device may prevent you from re-enabling them again!"]}],"n":50,"r":"data.ntnetrelays","p":[11,3,211]},{"t":4,"n":51,"f":[{"p":[24,4,627],"t":7,"e":"br"},{"p":[24,8,631],"t":7,"e":"p","f":["Wireless coverage unavailable, no relays are connected."]}],"r":"data.ntnetrelays"}]}," ",{"p":[29,2,722],"t":7,"e":"ui-display","a":{"title":"FIREWALL CONFIGURATION"},"f":[{"p":[31,2,768],"t":7,"e":"table","f":[{"p":[32,3,778],"t":7,"e":"tr","f":[{"p":[33,4,786],"t":7,"e":"th","f":["PROTOCOL"]},{"p":[34,4,802],"t":7,"e":"th","f":["STATUS"]},{"p":[35,4,816],"t":7,"e":"th","f":["CONTROL"]}]},{"p":[36,3,830],"t":7,"e":"tr","f":[" ",{"p":[37,4,838],"t":7,"e":"td","f":["Software Downloads"]},{"p":[38,4,864],"t":7,"e":"td","f":[{"t":2,"x":{"r":["data.config_softwaredownload"],"s":"_0?\"ENABLED\":\"DISABLED\""},"p":[38,8,868]}]},{"p":[39,4,929],"t":7,"e":"td","f":[" ",{"p":[39,9,934],"t":7,"e":"ui-button","a":{"action":"toggle_function","params":"{\"id\": \"1\"}"},"f":["TOGGLE"]}]}]},{"p":[40,3,1012],"t":7,"e":"tr","f":[" ",{"p":[41,4,1020],"t":7,"e":"td","f":["Peer to Peer Traffic"]},{"p":[42,4,1048],"t":7,"e":"td","f":[{"t":2,"x":{"r":["data.config_peertopeer"],"s":"_0?\"ENABLED\":\"DISABLED\""},"p":[42,8,1052]}]},{"p":[43,4,1107],"t":7,"e":"td","f":[{"p":[43,8,1111],"t":7,"e":"ui-button","a":{"action":"toggle_function","params":"{\"id\": \"2\"}"},"f":["TOGGLE"]}]}]},{"p":[44,3,1189],"t":7,"e":"tr","f":[" ",{"p":[45,4,1197],"t":7,"e":"td","f":["Communication Systems"]},{"p":[46,4,1226],"t":7,"e":"td","f":[{"t":2,"x":{"r":["data.config_communication"],"s":"_0?\"ENABLED\":\"DISABLED\""},"p":[46,8,1230]}]},{"p":[47,4,1288],"t":7,"e":"td","f":[{"p":[47,8,1292],"t":7,"e":"ui-button","a":{"action":"toggle_function","params":"{\"id\": \"3\"}"},"f":["TOGGLE"]}]}]},{"p":[48,3,1370],"t":7,"e":"tr","f":[" ",{"p":[49,4,1378],"t":7,"e":"td","f":["Remote System Control"]},{"p":[50,4,1407],"t":7,"e":"td","f":[{"t":2,"x":{"r":["data.config_systemcontrol"],"s":"_0?\"ENABLED\":\"DISABLED\""},"p":[50,8,1411]}]},{"p":[51,4,1469],"t":7,"e":"td","f":[{"p":[51,8,1473],"t":7,"e":"ui-button","a":{"action":"toggle_function","params":"{\"id\": \"4\"}"},"f":["TOGGLE"]}]}]}]}]}," ",{"p":[55,2,1576],"t":7,"e":"ui-display","a":{"title":"SECURITY SYSTEMS"},"f":[{"t":4,"f":[{"p":[58,4,1642],"t":7,"e":"ui-notice","f":[{"p":[59,5,1658],"t":7,"e":"h1","f":["NETWORK INCURSION DETECTED"]}]}," ",{"p":[61,5,1714],"t":7,"e":"i","f":["An abnormal activity has been detected in the network. Please verify system logs for more information"]}],"n":50,"r":"data.idsalarm","p":[57,3,1617]}," ",{"p":[64,3,1839],"t":7,"e":"ui-section","a":{"label":"Intrusion Detection System"},"f":[{"p":[65,4,1890],"t":7,"e":"b","f":[{"t":2,"x":{"r":["data.idsstatus"],"s":"_0?\"ENABLED\":\"DISABLED\""},"p":[65,7,1893]}]}]}," ",{"p":[68,3,1962],"t":7,"e":"ui-section","a":{"label":"Maximal Log Count"},"f":[{"p":[69,4,2004],"t":7,"e":"b","f":[{"t":2,"r":"data.ntnetmaxlogs","p":[69,7,2007]}]}]}," ",{"p":[72,3,2054],"t":7,"e":"ui-section","a":{"label":"Controls"},"f":[]}," ",{"p":[74,4,2103],"t":7,"e":"table","f":[{"p":[75,4,2114],"t":7,"e":"tr","f":[{"p":[75,8,2118],"t":7,"e":"td","f":[{"p":[75,12,2122],"t":7,"e":"ui-button","a":{"action":"resetIDS"},"f":["RESET IDS"]}]}]},{"p":[76,4,2176],"t":7,"e":"tr","f":[{"p":[76,8,2180],"t":7,"e":"td","f":[{"p":[76,12,2184],"t":7,"e":"ui-button","a":{"action":"toggleIDS"},"f":["TOGGLE IDS"]}]}]},{"p":[77,4,2240],"t":7,"e":"tr","f":[{"p":[77,8,2244],"t":7,"e":"td","f":[{"p":[77,12,2248],"t":7,"e":"ui-button","a":{"action":"updatemaxlogs"},"f":["SET LOG LIMIT"]}]}]},{"p":[78,4,2311],"t":7,"e":"tr","f":[{"p":[78,8,2315],"t":7,"e":"td","f":[{"p":[78,12,2319],"t":7,"e":"ui-button","a":{"action":"purgelogs"},"f":["PURGE LOGS"]}]}]}]}," ",{"p":[81,3,2387],"t":7,"e":"ui-subdisplay","a":{"title":"System Logs"},"f":[{"p":[82,3,2425],"t":7,"e":"div","a":{"class":"statusDisplay","style":"overflow: auto;"},"f":[{"p":[83,3,2479],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[84,4,2501],"t":7,"e":"div","a":{"class":"itemContent","style":"width: 100%;"},"f":[{"t":4,"f":[{"t":2,"r":"entry","p":[86,6,2582]},{"p":[86,15,2591],"t":7,"e":"br"}],"n":52,"r":"data.ntnetlogs","p":[85,5,2552]}]}]}]}]}]}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./ntosheader.ract":429,"ractive":342}],424:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[2,1,46],"t":7,"e":"ntosheader"}," ",{"p":[4,1,61],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[7,2,96],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[8,3,117],"t":7,"e":"h2","f":["An error has occurred during operation..."]}," ",{"p":[9,3,170],"t":7,"e":"b","f":["Additional information:"]},{"t":2,"r":"data.error","p":[9,34,201]},{"p":[9,48,215],"t":7,"e":"br"}," ",{"p":[10,3,222],"t":7,"e":"ui-button","a":{"action":"PRG_reset"},"f":["Clear"]}]}],"n":50,"r":"data.error","p":[6,2,76]},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["data.downloading"],"s":"_0"},"f":[{"p":[13,3,309],"t":7,"e":"h2","f":["Download in progress..."]}," ",{"p":[14,3,344],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Downloaded file:"]}," ",{"p":[17,3,400],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":2,"r":"data.download_name","p":[18,4,429]}]}," ",{"p":[20,3,464],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Download progress:"]}," ",{"p":[23,3,522],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":2,"r":"data.download_progress","p":[24,4,551]}," / ",{"t":2,"r":"data.download_size","p":[24,33,580]}," GQ"]}," ",{"p":[26,3,617],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Transfer speed:"]}," ",{"p":[29,3,672],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":2,"r":"data.download_netspeed","p":[30,4,701]},"GQ/s"]}," ",{"p":[32,3,743],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Controls:"]}," ",{"p":[35,3,792],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[36,4,821],"t":7,"e":"ui-button","a":{"action":"PRG_reset"},"f":["Abort download"]}]}]},{"t":4,"n":50,"x":{"r":["data.downloading","data.uploading"],"s":"(!(_0))&&(_1)"},"f":[" ",{"p":[39,3,916],"t":7,"e":"h2","f":["Server enabled"]}," ",{"p":[40,3,942],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Connected clients:"]}," ",{"p":[43,3,1000],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":2,"r":"data.upload_clients","p":[44,4,1029]}]}," ",{"p":[46,3,1064],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Provided file:"]}," ",{"p":[49,3,1118],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":2,"r":"data.upload_filename","p":[50,4,1147]}]}," ",{"p":[52,3,1183],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Server password:"]}," ",{"p":[55,3,1239],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":4,"f":["ENABLED"],"n":50,"r":"data.upload_haspassword","p":[56,4,1268]},{"t":4,"n":51,"f":["DISABLED"],"r":"data.upload_haspassword"}]}," ",{"p":[62,3,1359],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Commands:"]}," ",{"p":[65,3,1408],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[66,4,1437],"t":7,"e":"ui-button","a":{"action":"PRG_setpassword"},"f":["Set password"]}," ",{"p":[67,4,1501],"t":7,"e":"ui-button","a":{"action":"PRG_reset"},"f":["Exit server"]}]}]},{"t":4,"n":50,"x":{"r":["data.downloading","data.uploading","data.upload_filelist"],"s":"(!(_0))&&((!(_1))&&(_2))"},"f":[" ",{"p":[70,3,1599],"t":7,"e":"h2","f":["File transfer server ready. Select file to upload:"]}," ",{"p":[71,3,1662],"t":7,"e":"table","f":[{"p":[72,3,1672],"t":7,"e":"tr","f":[{"p":[72,7,1676],"t":7,"e":"th","f":["File name"]},{"p":[72,20,1689],"t":7,"e":"th","f":["File size"]},{"p":[72,33,1702],"t":7,"e":"th","f":["Controls ",{"t":4,"f":[{"p":[74,4,1751],"t":7,"e":"tr","f":[{"p":[74,8,1755],"t":7,"e":"td","f":[{"t":2,"r":"filename","p":[74,12,1759]}]},{"p":[75,4,1775],"t":7,"e":"td","f":[{"t":2,"r":"size","p":[75,8,1779]},"GQ"]},{"p":[76,4,1793],"t":7,"e":"td","f":[{"p":[76,8,1797],"t":7,"e":"ui-button","a":{"action":"PRG_uploadfile","params":["{\"id\": \"",{"t":2,"r":"uid","p":[76,59,1848]},"\"}"]},"f":["Select"]}]}]}],"n":52,"r":"data.upload_filelist","p":[73,3,1717]}]}]}]}," ",{"p":[79,3,1903],"t":7,"e":"hr"}," ",{"p":[80,3,1910],"t":7,"e":"ui-button","a":{"action":"PRG_setpassword"},"f":["Set password"]}," ",{"p":[81,3,1973],"t":7,"e":"ui-button","a":{"action":"PRG_reset"},"f":["Return"]}]},{"t":4,"n":50,"x":{"r":["data.downloading","data.uploading","data.upload_filelist"],"s":"(!(_0))&&((!(_1))&&(!(_2)))"},"f":[" ",{"p":[83,3,2034],"t":7,"e":"h2","f":["Available files:"]}," ",{"p":[84,3,2062],"t":7,"e":"table","a":{"border":"1","style":"border-collapse: collapse"},"f":[{"p":[84,55,2114],"t":7,"e":"tr","f":[{"p":[84,59,2118],"t":7,"e":"th","f":["Server UID"]},{"p":[84,73,2132],"t":7,"e":"th","f":["File Name"]},{"p":[84,86,2145],"t":7,"e":"th","f":["File Size"]},{"p":[84,99,2158],"t":7,"e":"th","f":["Password Protection"]},{"p":[84,122,2181],"t":7,"e":"th","f":["Operations ",{"t":4,"f":[{"p":[86,5,2226],"t":7,"e":"tr","f":[{"p":[86,9,2230],"t":7,"e":"td","f":[{"t":2,"r":"uid","p":[86,13,2234]}]},{"p":[87,5,2246],"t":7,"e":"td","f":[{"t":2,"r":"filename","p":[87,9,2250]}]},{"p":[88,5,2267],"t":7,"e":"td","f":[{"t":2,"r":"size","p":[88,9,2271]},"GQ ",{"t":4,"f":[{"p":[90,6,2311],"t":7,"e":"td","f":["Enabled"]}],"n":50,"r":"haspassword","p":[89,5,2286]}," ",{"t":4,"f":[{"p":[93,6,2365],"t":7,"e":"td","f":["Disabled"]}],"n":50,"x":{"r":["haspassword"],"s":"!_0"},"p":[92,5,2339]}]},{"p":[96,5,2399],"t":7,"e":"td","f":[{"p":[96,9,2403],"t":7,"e":"ui-button","a":{"action":"PRG_downloadfile","params":["{\"id\": \"",{"t":2,"r":"uid","p":[96,62,2456]},"\"}"]},"f":["Download"]}]}]}],"n":52,"r":"data.servers","p":[85,4,2199]}]}]}]}," ",{"p":[99,3,2514],"t":7,"e":"hr"}," ",{"p":[100,3,2521],"t":7,"e":"ui-button","a":{"action":"PRG_uploadmenu"},"f":["Send file"]}]}],"r":"data.error"}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./ntosheader.ract":429,"ractive":342}],425:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  data: {
    chargingState: function chargingState(status) {
      switch (status) {
        case 2:
          return 'good';
        case 1:
          return 'average';
        default:
          return 'bad';
      }
    },
    chargingMode: function chargingMode(status) {
      if (status == 2) return 'Full';else if (status == 1) return 'Charging';else return 'Draining';
    },
    channelState: function channelState(status) {
      if (status >= 2) return 'good';else return 'bad';
    },
    channelPower: function channelPower(status) {
      if (status >= 2) return 'On';else return 'Off';
    },
    channelMode: function channelMode(status) {
      if (status == 1 || status == 3) return 'Auto';else return 'Manual';
    }
  },
  computed: {
    graphData: function graphData() {
      var history = this.get('data.history');
      return Object.keys(history).map(function (key) {
        return history[key].map(function (point, index) {
          return { x: index, y: point };
        });
      });
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" "," ",{"p":[43,1,1040],"t":7,"e":"ntosheader"}," ",{"p":[45,1,1055],"t":7,"e":"ui-display","a":{"title":"Network"},"f":[{"t":4,"f":[{"p":[47,5,1111],"t":7,"e":"ui-linegraph","a":{"points":[{"t":2,"r":"graphData","p":[47,27,1133]}],"height":"500","legend":"[\"Available\", \"Load\"]","colors":"[\"rgb(0, 102, 0)\", \"rgb(153, 0, 0)\"]","xunit":"seconds ago","xfactor":[{"t":2,"r":"data.interval","p":[49,38,1283]}],"yunit":"W","yfactor":"1","xinc":[{"t":2,"x":{"r":["data.stored"],"s":"_0/10"},"p":[50,15,1338]}],"yinc":"9"}}],"n":50,"r":"config.fancy","p":[46,3,1086]},{"t":4,"n":51,"f":[{"p":[52,5,1386],"t":7,"e":"ui-section","a":{"label":"Available"},"f":[{"p":[53,7,1423],"t":7,"e":"span","f":[{"t":2,"r":"data.supply","p":[53,13,1429]}]}]}," ",{"p":[55,5,1474],"t":7,"e":"ui-section","a":{"label":"Load"},"f":[{"p":[56,9,1508],"t":7,"e":"span","f":[{"t":2,"r":"data.demand","p":[56,15,1514]}]}]}],"r":"config.fancy"}]}," ",{"p":[60,1,1579],"t":7,"e":"ui-display","a":{"title":"Areas"},"f":[{"p":[61,3,1608],"t":7,"e":"ui-section","a":{"nowrap":0},"f":[{"p":[62,5,1632],"t":7,"e":"div","a":{"class":"content"},"f":["Area"]}," ",{"p":[63,5,1668],"t":7,"e":"div","a":{"class":"content"},"f":["Charge"]}," ",{"p":[64,5,1706],"t":7,"e":"div","a":{"class":"content"},"f":["Load"]}," ",{"p":[65,5,1742],"t":7,"e":"div","a":{"class":"content"},"f":["Status"]}," ",{"p":[66,5,1780],"t":7,"e":"div","a":{"class":"content"},"f":["Equipment"]}," ",{"p":[67,5,1821],"t":7,"e":"div","a":{"class":"content"},"f":["Lighting"]}," ",{"p":[68,5,1861],"t":7,"e":"div","a":{"class":"content"},"f":["Environment"]}]}," ",{"t":4,"f":[{"p":[71,5,1943],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[71,24,1962]}],"nowrap":0},"f":[{"p":[72,7,1986],"t":7,"e":"div","a":{"class":"content"},"f":[{"t":2,"x":{"r":["@index","adata.areas"],"s":"Math.round(_1[_0].charge)"},"p":[72,28,2007]}," %"]}," ",{"p":[73,7,2064],"t":7,"e":"div","a":{"class":"content"},"f":[{"t":2,"rx":{"r":"adata.areas","m":[{"t":30,"n":"@index"},"load"]},"p":[73,28,2085]}]}," ",{"p":[74,7,2126],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[74,28,2147],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["chargingState","charging"],"s":"_0(_1)"},"p":[74,41,2160]}]},"f":[{"t":2,"x":{"r":["chargingMode","charging"],"s":"_0(_1)"},"p":[74,70,2189]}]}]}," ",{"p":[75,7,2235],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[75,28,2256],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["channelState","eqp"],"s":"_0(_1)"},"p":[75,41,2269]}]},"f":[{"t":2,"x":{"r":["channelPower","eqp"],"s":"_0(_1)"},"p":[75,64,2292]}," [",{"p":[75,87,2315],"t":7,"e":"span","f":[{"t":2,"x":{"r":["channelMode","eqp"],"s":"_0(_1)"},"p":[75,93,2321]}]},"]"]}]}," ",{"p":[76,7,2369],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[76,28,2390],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["channelState","lgt"],"s":"_0(_1)"},"p":[76,41,2403]}]},"f":[{"t":2,"x":{"r":["channelPower","lgt"],"s":"_0(_1)"},"p":[76,64,2426]}," [",{"p":[76,87,2449],"t":7,"e":"span","f":[{"t":2,"x":{"r":["channelMode","lgt"],"s":"_0(_1)"},"p":[76,93,2455]}]},"]"]}]}," ",{"p":[77,7,2503],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[77,28,2524],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["channelState","env"],"s":"_0(_1)"},"p":[77,41,2537]}]},"f":[{"t":2,"x":{"r":["channelPower","env"],"s":"_0(_1)"},"p":[77,64,2560]}," [",{"p":[77,87,2583],"t":7,"e":"span","f":[{"t":2,"x":{"r":["channelMode","env"],"s":"_0(_1)"},"p":[77,93,2589]}]},"]"]}]}]}],"n":52,"r":"data.areas","p":[70,3,1918]}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);

},{"./ntosheader.ract":429,"ractive":342}],426:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[2,1,46],"t":7,"e":"ntosheader"}," ",{"p":[4,1,61],"t":7,"e":"ui-display","f":[{"p":[5,2,75],"t":7,"e":"div","a":{"class":"item"},"f":[{"p":[6,3,96],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Payload status:"]}," ",{"p":[9,3,150],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"t":4,"f":["ARMED"],"n":50,"r":"data.armed","p":[10,4,179]},{"t":4,"n":51,"f":["DISARMED"],"r":"data.armed"}]}," ",{"p":[16,3,255],"t":7,"e":"div","a":{"class":"itemLabel"},"f":["Controls:"]}," ",{"p":[19,3,303],"t":7,"e":"div","a":{"class":"itemContent"},"f":[{"p":[20,4,332],"t":7,"e":"table","f":[{"p":[21,4,343],"t":7,"e":"tr","f":[{"p":[21,8,347],"t":7,"e":"td","f":[{"p":[21,12,351],"t":7,"e":"ui-button","a":{"action":"PRG_obfuscate"},"f":["OBFUSCATE PROGRAM NAME"]}]}]},{"p":[22,4,423],"t":7,"e":"tr","f":[{"p":[22,8,427],"t":7,"e":"td","f":[{"p":[22,12,431],"t":7,"e":"ui-button","a":{"action":"PRG_arm","state":[{"t":2,"x":{"r":["data.armed"],"s":"_0?\"danger\":null"},"p":[22,47,466]}]},"f":[{"t":2,"x":{"r":["data.armed"],"s":"_0?\"DISARM\":\"ARM\""},"p":[22,81,500]}]}," ",{"p":[23,4,549],"t":7,"e":"ui-button","a":{"icon":"radiation","state":[{"t":2,"x":{"r":["data.armed"],"s":"_0?null:\"disabled\""},"p":[23,39,584]}],"action":"PRG_activate"},"f":["ACTIVATE"]}]}]}]}]}]}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./ntosheader.ract":429,"ractive":342}],427:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[2,1,46],"t":7,"e":"ntosheader"}," ",{"t":4,"f":[{"p":[5,3,91],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"class","p":[5,22,110]}," Alarms"]},"f":[{"p":[6,5,133],"t":7,"e":"ul","f":[{"t":4,"f":[{"p":[8,9,164],"t":7,"e":"li","f":[{"t":2,"r":".","p":[8,13,168]}]}],"n":52,"r":".","p":[7,7,144]},{"t":4,"n":51,"f":[{"p":[10,9,202],"t":7,"e":"li","f":["System Nominal"]}],"r":"."}]}]}],"n":52,"i":"class","r":"data.alarms","p":[4,1,61]}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./ntosheader.ract":429,"ractive":342}],428:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
	data: {
		integState: function integState(charge) {
			var max = 100;
			if (charge == max) return 'good';else if (charge > max / 2) return 'average';else return 'bad';
		},
		bigState: function bigState(val, aver, max) {
			if (charge > max) return 'bad';else if (val > aver) return 'average';else return 'good';
		}
	}
};
})(component);
component.exports.template = {"v":3,"t":[" "," ",{"p":[23,1,399],"t":7,"e":"ntosheader"}," ",{"t":4,"f":[{"p":[27,2,436],"t":7,"e":"ui-button","a":{"action":"PRG_clear"},"f":["Back to Menu"]},{"p":[27,56,490],"t":7,"e":"br"}," ",{"p":[28,3,497],"t":7,"e":"ui-display","a":{"title":"Supermatter Status:"},"f":[{"p":[29,3,540],"t":7,"e":"ui-section","a":{"label":"Core Integrity"},"f":[{"p":[30,5,580],"t":7,"e":"ui-bar","a":{"min":"0","max":"100","value":[{"t":2,"r":"adata.SM_integrity","p":[30,38,613]}],"state":[{"t":2,"x":{"r":["integState","adata.SM_integrity"],"s":"_0(_1)"},"p":[30,69,644]}]},"f":[{"t":2,"r":"data.SM_integrity","p":[30,105,680]},"%"]}]}," ",{"p":[32,3,730],"t":7,"e":"ui-section","a":{"label":"Relative EER"},"f":[{"p":[33,5,768],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["bigState","data.SM_power"],"s":"_0(_1,150,300)"},"p":[33,18,781]}]},"f":[{"t":2,"r":"data.SM_power","p":[33,55,818]}," MeV/cm3"]}]}," ",{"p":[35,3,869],"t":7,"e":"ui-section","a":{"label":"Temperature"},"f":[{"p":[36,5,906],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["bigState","data.SM_ambienttemp"],"s":"_0(_1,4000,5000)"},"p":[36,18,919]}]},"f":[{"t":2,"r":"data.SM_ambienttemp","p":[36,63,964]}," K"]}]}," ",{"p":[38,3,1015],"t":7,"e":"ui-section","a":{"label":"Pressure"},"f":[{"p":[39,5,1049],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["bigState","data.SM_ambientpressure"],"s":"_0(_1,5000,10000)"},"p":[39,18,1062]}]},"f":[{"t":2,"r":"data.SM_ambientpressure","p":[39,68,1112]}," kPa"]}]}]}," ",{"p":[42,3,1186],"t":7,"e":"hr"},{"p":[42,7,1190],"t":7,"e":"br"}," ",{"p":[43,3,1197],"t":7,"e":"ui-display","a":{"title":"Gas Composition:"},"f":[{"t":4,"f":[{"p":[45,5,1263],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[45,24,1282]}]},"f":[{"t":2,"r":"amount","p":[46,6,1298]}," %"]}],"n":52,"r":"data.gases","p":[44,4,1238]}]}],"n":50,"r":"data.active","p":[26,1,415]},{"t":4,"n":51,"f":[{"p":[51,2,1368],"t":7,"e":"ui-button","a":{"action":"PRG_refresh"},"f":["Refresh"]},{"p":[51,53,1419],"t":7,"e":"br"}," ",{"p":[52,2,1425],"t":7,"e":"ui-display","a":{"title":"Detected Supermatters"},"f":[{"t":4,"f":[{"p":[54,3,1499],"t":7,"e":"ui-section","a":{"label":"Area"},"f":[{"t":2,"r":"area_name","p":[55,5,1529]}," - (#",{"t":2,"r":"uid","p":[55,23,1547]},")"]}," ",{"p":[57,3,1574],"t":7,"e":"ui-section","a":{"label":"Integrity"},"f":[{"t":2,"r":"integrity","p":[58,5,1609]}," %"]}," ",{"p":[60,3,1643],"t":7,"e":"ui-section","a":{"label":"Options"},"f":[{"p":[61,5,1676],"t":7,"e":"ui-button","a":{"action":"PRG_set","params":["{\"target\" : \"",{"t":2,"r":"uid","p":[61,54,1725]},"\"}"]},"f":["View Details"]}]}],"n":52,"r":"data.supermatters","p":[53,2,1469]}]}],"r":"data.active"}]};
component.exports.components = component.exports.components || {};
var components = {
  "ntosheader": require("./ntosheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);

},{"./ntosheader.ract":429,"ractive":342}],429:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"div","a":{"class":"item","style":"float: left"},"f":[{"p":[2,2,40],"t":7,"e":"table","f":[{"p":[2,9,47],"t":7,"e":"tr","f":[{"t":4,"f":[{"p":[4,3,110],"t":7,"e":"td","f":[{"p":[4,7,114],"t":7,"e":"img","a":{"src":[{"t":2,"r":"data.PC_batteryicon","p":[4,17,124]}]}}]}],"n":50,"x":{"r":["data.PC_batteryicon","data.PC_showbatteryicon"],"s":"_0&&_1"},"p":[3,2,53]}," ",{"t":4,"f":[{"p":[7,3,220],"t":7,"e":"td","f":[{"p":[7,7,224],"t":7,"e":"b","f":[{"t":2,"r":"data.PC_batterypercent","p":[7,10,227]}]}]}],"n":50,"x":{"r":["data.PC_batterypercent","data.PC_showbatteryicon"],"s":"_0&&_1"},"p":[6,2,160]}," ",{"t":4,"f":[{"p":[10,3,296],"t":7,"e":"td","f":[{"p":[10,7,300],"t":7,"e":"img","a":{"src":[{"t":2,"r":"data.PC_ntneticon","p":[10,17,310]}]}}]}],"n":50,"r":"data.PC_ntneticon","p":[9,2,268]}," ",{"t":4,"f":[{"p":[13,3,374],"t":7,"e":"td","f":[{"p":[13,7,378],"t":7,"e":"img","a":{"src":[{"t":2,"r":"data.PC_apclinkicon","p":[13,17,388]}]}}]}],"n":50,"r":"data.PC_apclinkicon","p":[12,2,344]}," ",{"t":4,"f":[{"p":[16,3,454],"t":7,"e":"td","f":[{"p":[16,7,458],"t":7,"e":"b","f":[{"t":2,"r":"data.PC_stationtime","p":[16,10,461]}]}]}],"n":50,"r":"data.PC_stationtime","p":[15,2,424]}," ",{"t":4,"f":[{"p":[19,3,534],"t":7,"e":"td","f":[{"p":[19,7,538],"t":7,"e":"img","a":{"src":[{"t":2,"r":"icon","p":[19,17,548]}]}}]}],"n":52,"r":"data.PC_programheaders","p":[18,2,499]}]}]}]}," ",{"p":[23,1,587],"t":7,"e":"div","a":{"style":"float: right; margin-top: 5px"},"f":[{"p":[24,2,632],"t":7,"e":"ui-button","a":{"action":"PC_shutdown"},"f":["Shutdown"]}," ",{"t":4,"f":[{"p":[26,3,720],"t":7,"e":"ui-button","a":{"action":"PC_exit"},"f":["EXIT PROGRAM"]}," ",{"p":[27,3,775],"t":7,"e":"ui-button","a":{"action":"PC_minimize"},"f":["Minimize Program"]}],"n":50,"r":"data.PC_showexitprogram","p":[25,2,686]}]}," ",{"p":[30,1,852],"t":7,"e":"div","a":{"style":"clear: both"}}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],430:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Auth. Disk:"},"f":[{"t":4,"f":[{"p":[3,7,67],"t":7,"e":"ui-button","a":{"icon":"eject","style":"selected","action":"eject_disk"},"f":["++++++++++"]}],"n":50,"r":"data.disk_present","p":[2,3,35]},{"t":4,"n":51,"f":[{"p":[5,7,168],"t":7,"e":"ui-button","a":{"icon":"plus","action":"insert_disk"},"f":["----------"]}],"r":"data.disk_present"}]}," ",{"p":[8,1,259],"t":7,"e":"ui-display","a":{"title":"Status"},"f":[{"p":[9,3,289],"t":7,"e":"span","f":[{"t":2,"r":"data.status1","p":[9,9,295]},"-",{"t":2,"r":"data.status2","p":[9,26,312]}]}]}," ",{"p":[11,1,350],"t":7,"e":"ui-display","a":{"title":"Timer"},"f":[{"p":[12,3,379],"t":7,"e":"ui-section","a":{"label":"Time to Detonation"},"f":[{"p":[13,5,423],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.timing","data.time_left","data.timer_set"],"s":"_0?_1:_2"},"p":[13,11,429]}]}]}," ",{"t":4,"f":[{"p":[16,5,525],"t":7,"e":"ui-section","a":{"label":"Adjust Timer"},"f":[{"p":[17,7,565],"t":7,"e":"ui-button","a":{"icon":"refresh","state":[{"t":2,"x":{"r":["data.disk_present","data.code_approved","data.timer_is_not_default"],"s":"_0&&_1&&_2?null:\"disabled\""},"p":[17,40,598]}],"action":"timer","params":"{\"change\": \"reset\"}"},"f":["Reset"]}," ",{"p":[19,7,768],"t":7,"e":"ui-button","a":{"icon":"minus","state":[{"t":2,"x":{"r":["data.disk_present","data.code_approved","data.timer_is_not_min"],"s":"_0&&_1&&_2?null:\"disabled\""},"p":[19,38,799]}],"action":"timer","params":"{\"change\": \"decrease\"}"},"f":["Decrease"]}," ",{"p":[21,7,971],"t":7,"e":"ui-button","a":{"icon":"pencil","state":[{"t":2,"x":{"r":["data.disk_present","data.code_approved"],"s":"_0&&_1?null:\"disabled\""},"p":[21,39,1003]}],"action":"timer","params":"{\"change\": \"input\"}"},"f":["Set"]}," ",{"p":[22,7,1134],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.disk_present","data.code_approved","data.timer_is_not_max"],"s":"_0&&_1&&_2?null:\"disabled\""},"p":[22,37,1164]}],"action":"timer","params":"{\"change\": \"increase\"}"},"f":["Increase"]}]}],"n":51,"r":"data.timing","p":[15,3,504]}," ",{"p":[26,3,1369],"t":7,"e":"ui-section","a":{"label":"Timer"},"f":[{"p":[27,5,1400],"t":7,"e":"ui-button","a":{"icon":"clock-o","style":[{"t":2,"x":{"r":["data.timing"],"s":"_0?\"danger\":\"caution\""},"p":[27,38,1433]}],"action":"toggle_timer","state":[{"t":2,"x":{"r":["data.disk_present","data.code_approved","data.safety"],"s":"_0&&_1&&!_2?null:\"disabled\""},"p":[29,14,1514]}]},"f":[{"t":2,"x":{"r":["data.timing"],"s":"_0?\"On\":\"Off\""},"p":[30,7,1602]}]}]}]}," ",{"p":[34,1,1680],"t":7,"e":"ui-display","a":{"title":"Anchoring"},"f":[{"p":[35,3,1713],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.disk_present","data.code_approved"],"s":"_0&&_1?null:\"disabled\""},"p":[36,12,1735]}],"icon":[{"t":2,"x":{"r":["data.anchored"],"s":"_0?\"lock\":\"unlock\""},"p":[37,11,1810]}],"style":[{"t":2,"x":{"r":["data.anchored"],"s":"_0?null:\"caution\""},"p":[38,12,1860]}],"action":"anchor"},"f":[{"t":2,"x":{"r":["data.anchored"],"s":"_0?\"Engaged\":\"Off\""},"p":[39,21,1918]}]}]}," ",{"p":[41,1,1982],"t":7,"e":"ui-display","a":{"title":"Safety"},"f":[{"p":[42,3,2012],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.disk_present","data.code_approved"],"s":"_0&&_1?null:\"disabled\""},"p":[43,12,2034]}],"icon":[{"t":2,"x":{"r":["data.safety"],"s":"_0?\"lock\":\"unlock\""},"p":[44,11,2109]}],"action":"safety","style":[{"t":2,"x":{"r":["data.safety"],"s":"_0?\"caution\":\"danger\""},"p":[45,12,2173]}]},"f":[{"p":[46,7,2220],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.safety"],"s":"_0?\"On\":\"Off\""},"p":[46,13,2226]}]}]}]}," ",{"p":[49,1,2293],"t":7,"e":"ui-display","a":{"title":"Code"},"f":[{"p":[50,3,2321],"t":7,"e":"ui-section","a":{"label":"Message"},"f":[{"t":2,"r":"data.message","p":[50,31,2349]}]}," ",{"p":[51,3,2381],"t":7,"e":"ui-section","a":{"label":"Keypad"},"f":[{"p":[52,5,2413],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[52,39,2447]}],"params":"{\"digit\":\"1\"}"},"f":["1"]}," ",{"p":[53,5,2531],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[53,39,2565]}],"params":"{\"digit\":\"2\"}"},"f":["2"]}," ",{"p":[54,5,2649],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[54,39,2683]}],"params":"{\"digit\":\"3\"}"},"f":["3"]}," ",{"p":[55,5,2767],"t":7,"e":"br"}," ",{"p":[56,5,2776],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[56,39,2810]}],"params":"{\"digit\":\"4\"}"},"f":["4"]}," ",{"p":[57,5,2894],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[57,39,2928]}],"params":"{\"digit\":\"5\"}"},"f":["5"]}," ",{"p":[58,5,3012],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[58,39,3046]}],"params":"{\"digit\":\"6\"}"},"f":["6"]}," ",{"p":[59,5,3130],"t":7,"e":"br"}," ",{"p":[60,5,3139],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[60,39,3173]}],"params":"{\"digit\":\"7\"}"},"f":["7"]}," ",{"p":[61,5,3257],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[61,39,3291]}],"params":"{\"digit\":\"8\"}"},"f":["8"]}," ",{"p":[62,5,3375],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[62,39,3409]}],"params":"{\"digit\":\"9\"}"},"f":["9"]}," ",{"p":[63,5,3493],"t":7,"e":"br"}," ",{"p":[64,5,3502],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[64,39,3536]}],"params":"{\"digit\":\"R\"}"},"f":["R"]}," ",{"p":[65,5,3620],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[65,39,3654]}],"params":"{\"digit\":\"0\"}"},"f":["0"]}," ",{"p":[66,5,3738],"t":7,"e":"ui-button","a":{"action":"keypad","state":[{"t":2,"x":{"r":["data.disk_present"],"s":"_0?null:\"disabled\""},"p":[66,39,3772]}],"params":"{\"digit\":\"E\"}"},"f":["E"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],431:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,2,24],"t":7,"e":"ui-button","a":{"icon":"undo","action":"change_menu","params":"{\"menu\": \"1\"}"},"f":["Return"]}," ",{"p":[3,2,111],"t":7,"e":"ui-display","a":{"title":"Advanced Surgery Procedures"},"f":[{"p":[4,3,162],"t":7,"e":"ui-button","a":{"icon":"download","action":"sync"},"f":["Sync with research database"]}," ",{"t":4,"f":[{"p":[6,4,273],"t":7,"e":"ui-display","f":[{"p":[7,6,291],"t":7,"e":"ui-section","f":[{"p":[7,18,303],"t":7,"e":"b","f":[{"t":2,"r":"name","p":[7,21,306]}]}]}," ",{"p":[8,6,337],"t":7,"e":"ui-section","f":[{"t":2,"r":"desc","p":[8,18,349]}]}]}],"n":52,"r":"data.surgeries","p":[5,3,245]}]}],"n":50,"x":{"r":["data.menu"],"s":"_0==2"},"p":[1,1,0]},{"t":4,"n":51,"f":[{"p":[13,2,425],"t":7,"e":"ui-button","a":{"action":"change_menu","params":"{\"menu\": \"2\"}"},"f":["View Surgery Procedures"]}," ",{"t":4,"f":[{"p":[15,3,542],"t":7,"e":"ui-notice","f":["No table detected!"]}],"n":51,"r":"data.table","p":[14,2,517]}," ",{"p":[19,2,605],"t":7,"e":"ui-display","f":[{"p":[20,3,620],"t":7,"e":"ui-display","a":{"title":"Patient State"},"f":[{"t":4,"f":[{"p":[22,5,683],"t":7,"e":"ui-section","a":{"label":"State"},"f":[{"p":[23,6,715],"t":7,"e":"span","a":{"class":[{"t":2,"r":"data.patient.statstate","p":[23,19,728]}]},"f":[{"t":2,"r":"data.patient.stat","p":[23,47,756]}]}]}," ",{"p":[25,5,807],"t":7,"e":"ui-section","a":{"label":"Blood Type"},"f":[{"p":[26,6,844],"t":7,"e":"span","a":{"class":"content"},"f":[{"t":2,"r":"data.patient.blood_type","p":[26,28,866]}]}]}," ",{"p":[28,5,923],"t":7,"e":"ui-section","a":{"label":"Health"},"f":[{"p":[29,6,956],"t":7,"e":"ui-bar","a":{"min":[{"t":2,"r":"data.patient.minHealth","p":[29,19,969]}],"max":[{"t":2,"r":"data.patient.maxHealth","p":[29,52,1002]}],"value":[{"t":2,"r":"data.patient.health","p":[29,87,1037]}],"state":[{"t":2,"x":{"r":["data.patient.health"],"s":"_0>=0?\"good\":\"average\""},"p":[30,13,1074]}]},"f":[{"t":2,"x":{"r":["adata.patient.health"],"s":"Math.round(_0)"},"p":[30,64,1125]}]}]}," ",{"t":4,"f":[{"p":[33,6,1357],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"label","p":[33,25,1376]}]},"f":[{"p":[34,7,1394],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.patient.maxHealth","p":[34,28,1415]}],"value":[{"t":2,"rx":{"r":"data.patient","m":[{"t":30,"n":"type"}]},"p":[34,63,1450]}],"state":"bad"},"f":[{"t":2,"x":{"r":["type","adata.patient"],"s":"Math.round(_1[_0])"},"p":[34,99,1486]}]}]}],"n":52,"x":{"r":[],"s":"[{label:\"Brute\",type:\"bruteLoss\"},{label:\"Burn\",type:\"fireLoss\"},{label:\"Toxin\",type:\"toxLoss\"},{label:\"Respiratory\",type:\"oxyLoss\"}]"},"p":[32,5,1193]}],"n":50,"r":"data.patient","p":[21,4,658]},{"t":4,"n":51,"f":["No patient detected."],"r":"data.patient"}]}," ",{"p":[41,3,1630],"t":7,"e":"ui-display","a":{"title":"Initiated Procedures"},"f":[{"t":4,"f":[{"t":4,"f":[{"p":[44,6,1734],"t":7,"e":"ui-subdisplay","a":{"title":[{"t":2,"r":"name","p":[44,28,1756]}]},"f":[{"p":[45,7,1773],"t":7,"e":"ui-section","a":{"label":"Next Step"},"f":[{"p":[46,8,1811],"t":7,"e":"span","a":{"class":"content"},"f":[{"t":2,"r":"next_step","p":[46,30,1833]}]}," ",{"t":4,"f":[{"p":[48,9,1890],"t":7,"e":"span","a":{"class":"content"},"f":[{"p":[48,31,1912],"t":7,"e":"b","f":["Required chemicals:"]},{"p":[48,57,1938],"t":7,"e":"br"}," ",{"t":2,"r":"chems_needed","p":[48,62,1943]}]}],"n":50,"r":"chems_needed","p":[47,8,1861]}]}," ",{"t":4,"f":[{"p":[52,8,2040],"t":7,"e":"ui-section","a":{"label":"Alternative Step"},"f":[{"p":[53,9,2086],"t":7,"e":"span","a":{"class":"content"},"f":[{"t":2,"r":"alternative_step","p":[53,31,2108]}]}," ",{"t":4,"f":[{"p":[55,10,2178],"t":7,"e":"span","a":{"class":"content"},"f":[{"p":[55,32,2200],"t":7,"e":"b","f":["Required chemicals:"]},{"p":[55,58,2226],"t":7,"e":"br"}," ",{"t":2,"r":"chems_needed","p":[55,63,2231]}]}],"n":50,"r":"alt_chems_needed","p":[54,9,2144]}]}],"n":50,"r":"alternative_step","p":[51,7,2008]}]}],"n":52,"r":"data.procedures","p":[43,5,1703]}],"n":50,"r":"data.procedures","p":[42,4,1675]},{"t":4,"n":51,"f":["No active procedures."],"r":"data.procedures"}]}]}],"x":{"r":["data.menu"],"s":"_0==2"}}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],432:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,2,14],"t":7,"e":"ui-section","f":["This machine only accepts ore. Gibtonite and Slag are not accepted."]}," ",{"p":[5,2,113],"t":7,"e":"ui-section","f":["Current unclaimed points: ",{"t":2,"r":"data.unclaimedPoints","p":[6,29,154]}," ",{"t":4,"f":[{"p":[8,4,213],"t":7,"e":"ui-button","a":{"action":"Claim"},"f":["Claim Points"]}],"n":50,"r":"data.unclaimedPoints","p":[7,3,181]}]}," ",{"p":[13,2,299],"t":7,"e":"ui-section","f":[{"t":4,"f":[{"p":[15,4,336],"t":7,"e":"ui-button","a":{"action":"Eject"},"f":["Eject ID"]}," You have ",{"t":2,"r":"data.claimedPoints","p":[18,13,404]}," mining points collected."],"n":50,"r":"data.hasID","p":[14,3,314]},{"t":4,"n":51,"f":[{"p":[20,4,466],"t":7,"e":"ui-button","a":{"action":"Insert"},"f":["Insert ID"]}],"r":"data.hasID"}]}]}," ",{"p":[26,1,563],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[28,3,600],"t":7,"e":"ui-section","f":[{"p":[29,4,616],"t":7,"e":"ui-button","a":{"action":"diskEject","icon":"eject"},"f":["Eject Disk"]}]}," ",{"t":4,"f":[{"p":[34,4,739],"t":7,"e":"ui-section","a":{"class":"candystripe"},"f":[{"p":[35,5,774],"t":7,"e":"ui-button","a":{"action":"diskUpload","state":[{"t":2,"x":{"r":["canupload"],"s":"(_0)?null:\"disabled\""},"p":[35,42,811]}],"icon":"upload","align":"right","params":["{ \"design\" : \"",{"t":2,"r":"index","p":[35,129,898]},"\" }"]},"f":["Upload"]}," File ",{"t":2,"r":"index","p":[38,10,951]},": ",{"t":2,"r":"name","p":[38,21,962]}]}],"n":52,"r":"data.diskDesigns","p":[33,3,709]}],"n":50,"r":"data.hasDisk","p":[27,2,577]},{"t":4,"n":51,"f":[{"p":[42,3,1012],"t":7,"e":"ui-section","f":[{"p":[43,4,1028],"t":7,"e":"ui-button","a":{"action":"diskInsert","icon":"floppy-o"},"f":["Insert Disk"]}]}],"r":"data.hasDisk"}]}," ",{"t":4,"f":[{"p":[50,2,1174],"t":7,"e":"ui-display","f":[{"p":[51,3,1189],"t":7,"e":"ui-section","f":[{"p":[52,4,1205],"t":7,"e":"b","f":["Warning"]},": ",{"t":2,"r":"data.disconnected","p":[52,20,1221]},". Please contact the quartermaster."]}]}],"n":50,"r":"data.disconnected","p":[49,1,1147]},{"t":4,"f":[{"p":[57,2,1356],"t":7,"e":"div","a":{"class":"display tabular"},"f":[{"p":[58,3,1388],"t":7,"e":"section","a":{"class":"candystripe"},"f":[{"p":[59,5,1422],"t":7,"e":"section","a":{"class":"cell"},"f":["Mineral"]}," ",{"p":[62,5,1477],"t":7,"e":"section","a":{"class":"cell"},"f":["Sheets"]}," ",{"p":[65,5,1531],"t":7,"e":"section","a":{"class":"cell"},"f":[]}," ",{"p":[67,5,1573],"t":7,"e":"section","a":{"class":"cell"},"f":[]}," ",{"p":[69,5,1615],"t":7,"e":"section","a":{"class":"cell"},"f":["Ore Value"]}]}," ",{"t":4,"f":[{"p":[74,4,1712],"t":7,"e":"section","a":{"class":"candystripe"},"f":[{"p":[75,5,1746],"t":7,"e":"section","a":{"class":"cell"},"f":[{"t":2,"r":"name","p":[76,6,1774]}]}," ",{"p":[78,5,1802],"t":7,"e":"section","a":{"class":"cell","align":"right"},"f":[{"t":2,"r":"amount","p":[79,6,1844]}]}," ",{"p":[81,5,1874],"t":7,"e":"section","a":{"class":"cell"},"f":[{"p":[82,6,1902],"t":7,"e":"input","a":{"value":[{"t":2,"r":"sheets","p":[82,19,1915]}],"placeholder":"###","class":"number"}}]}," ",{"p":[84,5,1980],"t":7,"e":"section","a":{"class":"cell","align":"right"},"f":[{"p":[85,6,2022],"t":7,"e":"ui-button","a":{"class":"center","grid":0,"action":"Release","state":[{"t":2,"x":{"r":["amount"],"s":"(_0>=1)?null:\"disabled\""},"p":[85,60,2076]}],"params":["{ \"id\" : ",{"t":2,"r":"id","p":[85,115,2131]},", \"sheets\" : ",{"t":2,"r":"sheets","p":[85,134,2150]}," }"]},"f":["Release"]}]}," ",{"p":[89,5,2217],"t":7,"e":"section","a":{"class":"cell","align":"right"},"f":[{"t":2,"r":"value","p":[90,6,2259]}]}]}],"n":52,"r":"data.materials","p":[73,3,1684]}," ",{"t":4,"f":[{"p":[95,4,2337],"t":7,"e":"section","a":{"class":"candystripe"},"f":[{"p":[96,5,2371],"t":7,"e":"section","a":{"class":"cell"},"f":[{"t":2,"r":"name","p":[97,6,2399]}]}," ",{"p":[99,5,2427],"t":7,"e":"section","a":{"class":"cell","align":"right"},"f":[{"t":2,"r":"amount","p":[100,6,2469]}]}," ",{"p":[102,5,2499],"t":7,"e":"section","a":{"class":"cell"},"f":[{"p":[103,6,2527],"t":7,"e":"input","a":{"value":[{"t":2,"r":"sheets","p":[103,19,2540]}],"placeholder":"###","class":"number"}}]}," ",{"p":[105,5,2605],"t":7,"e":"section","a":{"class":"cell","align":"right"},"f":[{"p":[106,6,2647],"t":7,"e":"ui-button","a":{"class":"center","grid":0,"action":"Smelt","state":[{"t":2,"x":{"r":["amount"],"s":"(_0>=1)?null:\"disabled\""},"p":[106,58,2699]}],"params":["{ \"id\" : ",{"t":2,"r":"id","p":[106,114,2755]},", \"sheets\" : ",{"t":2,"r":"sheets","p":[106,133,2774]}," }"]},"f":["Smelt"]}]}," ",{"p":[110,5,2838],"t":7,"e":"section","a":{"class":"cell","align":"right"},"f":[]}]}],"n":52,"r":"data.alloys","p":[94,3,2312]}]}],"n":50,"x":{"r":["data.materials","data.alloys"],"s":"_0||_1"},"p":[56,1,1317]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],433:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":{"button":[{"p":[4,4,84],"t":7,"e":"ui-button","a":{"icon":"remove","state":[{"t":2,"x":{"r":["data.has_beaker","data.beaker_empty"],"s":"_0&&!_1?null:\"disabled\""},"p":[4,36,116]}],"action":"empty_eject_beaker"},"f":["Empty and Eject"]}," ",{"p":[7,4,247],"t":7,"e":"ui-button","a":{"icon":"trash","state":[{"t":2,"x":{"r":["data.has_beaker","data.beaker_empty"],"s":"_0&&!_1?null:\"disabled\""},"p":[7,35,278]}],"action":"empty_beaker"},"f":["Empty"]}," ",{"p":[10,4,393],"t":7,"e":"ui-button","a":{"icon":"eject","state":[{"t":2,"x":{"r":["data.has_beaker"],"s":"_0?null:\"disabled\""},"p":[10,35,424]}],"action":"eject_beaker"},"f":["Eject"]}]},"t":7,"e":"ui-display","a":{"title":"Beaker","button":0},"f":[" ",{"t":4,"f":[{"p":[15,4,558],"t":7,"e":"ui-section","f":[{"t":4,"f":[{"p":[17,6,606],"t":7,"e":"span","a":{"class":"bad"},"f":["The beaker is empty!"]}],"n":50,"r":"data.beaker_empty","p":[16,5,575]},{"t":4,"n":51,"f":[{"p":[19,6,670],"t":7,"e":"ui-subdisplay","a":{"title":"Blood"},"f":[{"t":4,"f":[{"p":[21,8,736],"t":7,"e":"ui-section","a":{"label":"Blood DNA"},"f":[{"t":2,"r":"data.blood.dna","p":[21,38,766]}]}," ",{"p":[22,8,805],"t":7,"e":"ui-section","a":{"label":"Blood type"},"f":[{"t":2,"r":"data.blood.type","p":[22,39,836]}]}],"n":50,"r":"data.has_blood","p":[20,7,706]},{"t":4,"n":51,"f":[{"p":[24,8,891],"t":7,"e":"ui-section","f":[{"p":[25,9,912],"t":7,"e":"span","a":{"class":"average"},"f":["No blood sample detected."]}]}],"r":"data.has_blood"}]}],"r":"data.beaker_empty"}]}],"n":50,"r":"data.has_beaker","p":[14,3,531]},{"t":4,"n":51,"f":[{"p":[32,4,1067],"t":7,"e":"ui-section","f":[{"p":[33,5,1084],"t":7,"e":"span","a":{"class":"bad"},"f":["No beaker loaded."]}]}],"r":"data.has_beaker"}]}," ",{"t":4,"f":[{"p":[38,3,1195],"t":7,"e":"ui-display","a":{"title":"Diseases"},"f":[{"t":4,"f":[{"p":{"button":[{"t":4,"f":[{"p":[43,8,1345],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"rename_disease","state":[{"t":2,"x":{"r":["can_rename"],"s":"_0?\"\":\"disabled\""},"p":[43,64,1401]}],"params":["{\"index\": ",{"t":2,"r":"index","p":[43,116,1453]},"}"]},"f":["Name advanced disease"]}],"n":50,"r":"is_adv","p":[42,7,1323]}," ",{"p":[47,7,1536],"t":7,"e":"ui-button","a":{"icon":"flask","action":"create_culture_bottle","state":[{"t":2,"x":{"r":["data.is_ready"],"s":"_0?\"\":\"disabled\""},"p":[47,69,1598]}],"params":["{\"index\": ",{"t":2,"r":"index","p":[47,124,1653]},"}"]},"f":["Create virus culture bottle"]}]},"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"name","p":[40,24,1274]}],"button":0},"f":[" ",{"p":[51,6,1743],"t":7,"e":"ui-section","a":{"label":"Disease agent"},"f":[{"t":2,"r":"agent","p":[51,40,1777]}]}," ",{"p":[52,6,1805],"t":7,"e":"ui-section","a":{"label":"Description"},"f":[{"t":2,"r":"description","p":[52,38,1837]}]}," ",{"p":[53,6,1871],"t":7,"e":"ui-section","a":{"label":"Spread"},"f":[{"t":2,"r":"spread","p":[53,33,1898]}]}," ",{"p":[54,6,1927],"t":7,"e":"ui-section","a":{"label":"Possible cure"},"f":[{"t":2,"r":"cure","p":[54,40,1961]}]}," ",{"t":4,"f":[{"p":[56,7,2010],"t":7,"e":"ui-section","a":{"label":"Symptoms"},"f":[{"t":4,"f":[{"p":[58,9,2074],"t":7,"e":"ui-button","a":{"action":"symptom_details","state":"","params":["{\"picked_symptom\": ",{"t":2,"r":"sym_index","p":[58,81,2146]},", \"index\": ",{"t":2,"r":"index","p":[58,105,2170]},"}"]},"f":[{"t":2,"r":"name","p":[59,10,2192]}," "]},{"p":[60,21,2221],"t":7,"e":"br"}],"n":52,"r":"symptoms","p":[57,8,2047]}]}," ",{"p":[63,7,2271],"t":7,"e":"ui-section","a":{"label":"Resistance"},"f":[{"t":2,"r":"resistance","p":[63,38,2302]}]}," ",{"p":[64,7,2336],"t":7,"e":"ui-section","a":{"label":"Stealth"},"f":[{"t":2,"r":"stealth","p":[64,35,2364]}]}," ",{"p":[65,7,2395],"t":7,"e":"ui-section","a":{"label":"Stage speed"},"f":[{"t":2,"r":"stage_speed","p":[65,39,2427]}]}," ",{"p":[66,7,2462],"t":7,"e":"ui-section","a":{"label":"Transmittability"},"f":[{"t":2,"r":"transmission","p":[66,44,2499]}]}],"n":50,"r":"is_adv","p":[55,6,1989]}]}],"n":52,"r":"data.viruses","p":[39,4,1228]},{"t":4,"n":51,"f":[{"p":[70,5,2576],"t":7,"e":"ui-section","f":[{"p":[71,6,2594],"t":7,"e":"span","a":{"class":"average"},"f":["No detectable virus in the blood sample."]}]}],"r":"data.viruses"}]}," ",{"p":[75,3,2713],"t":7,"e":"ui-display","a":{"title":"Antibodies"},"f":[{"t":4,"f":[{"p":[77,5,2779],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[77,24,2798]}]},"f":[{"p":[78,7,2815],"t":7,"e":"ui-button","a":{"icon":"eyedropper","state":[{"t":2,"x":{"r":["data.is_ready"],"s":"_0?\"\":\"disabled\""},"p":[78,43,2851]}],"action":"create_vaccine_bottle","params":["{\"index\": ",{"t":2,"r":"id","p":[78,129,2937]},"}"]},"f":["Create vaccine bottle"]}]}],"n":52,"r":"data.resistances","p":[76,4,2748]},{"t":4,"n":51,"f":[{"p":[83,5,3029],"t":7,"e":"ui-section","f":[{"p":[84,6,3047],"t":7,"e":"span","a":{"class":"average"},"f":["No antibodies detected in the blood sample."]}]}],"r":"data.resistances"}]}],"n":50,"r":"data.has_blood","p":[37,2,1170]}],"n":50,"x":{"r":["data.mode"],"s":"_0==1"},"p":[1,1,0]},{"t":4,"n":51,"f":[{"p":[90,2,3186],"t":7,"e":"ui-button","a":{"icon":"undo","state":"","action":"back"},"f":["Back"]}," ",{"t":4,"f":[{"p":[94,4,3281],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"name","p":[94,23,3300]}]},"f":[{"p":[95,4,3314],"t":7,"e":"ui-section","f":[{"t":2,"r":"desc","p":[96,5,3331]}," ",{"t":4,"f":[{"p":[98,5,3364],"t":7,"e":"br"}," ",{"p":[99,5,3374],"t":7,"e":"b","f":["This symptom has been neutered, and has no effect. It will still affect the virus' statistics."]}],"n":50,"r":"neutered","p":[97,4,3343]}]}," ",{"p":[102,4,3507],"t":7,"e":"ui-section","f":[{"p":[103,5,3524],"t":7,"e":"ui-section","a":{"label":"Level"},"f":[{"t":2,"r":"level","p":[103,31,3550]}]}," ",{"p":[104,5,3577],"t":7,"e":"ui-section","a":{"label":"Resistance"},"f":[{"t":2,"r":"resistance","p":[104,36,3608]}]}," ",{"p":[105,5,3640],"t":7,"e":"ui-section","a":{"label":"Stealth"},"f":[{"t":2,"r":"stealth","p":[105,33,3668]}]}," ",{"p":[106,5,3697],"t":7,"e":"ui-section","a":{"label":"Stage speed"},"f":[{"t":2,"r":"stage_speed","p":[106,37,3729]}]}," ",{"p":[107,5,3762],"t":7,"e":"ui-section","a":{"label":"Transmittability"},"f":[{"t":2,"r":"transmission","p":[107,42,3799]}]}]}," ",{"p":[109,4,3849],"t":7,"e":"ui-subdisplay","a":{"title":"Effect Thresholds"},"f":[{"p":[110,5,3895],"t":7,"e":"ui-section","f":[{"t":3,"r":"threshold_desc","p":[110,17,3907]}]}]}]}],"n":53,"r":"data.symptom","p":[93,2,3255]}],"x":{"r":["data.mode"],"s":"_0==1"}}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],434:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

var _filter = require('util/filter');

component.exports = {
		data: {
				filter: '',
				tooltiptext: function tooltiptext(req_text, catalyst_text, tool_text) {
						//This function is to get around the issue where you can't embed moustache variables within moustache statements
						//It's also less cramped than the tooltip attribute of the button tag :P
						var text = "";
						if (req_text) {
								text += "REQUIREMENTS: " + req_text + " ";
						}
						if (catalyst_text) {
								text += "CATALYSTS: " + catalyst_text + " ";
						}
						if (tool_text) {
								text += "TOOLS: " + tool_text;
						}
						return text;
				}
		},
		oninit: function oninit() {
				var _this = this;

				this.on({
						hover: function hover(event) {
								this.set('hovered', event.context.params);
						},
						unhover: function unhover(event) {
								this.set('hovered');
						}
				});
				this.observe('filter', function (newkey, oldkey, keypath) {
						var categories = null;
						if (_this.get('data.display_compact')) {
								//This doesn't work, but it's necessary to not cause a script error with compact mode
								//Also hidden in compact mode
								categories = _this.findAll('.section');
						} else {
								categories = _this.findAll('.display:not(:first-child)');
						}
						(0, _filter.filterMulti)(categories, _this.get('filter').toLowerCase());
				}, { init: false });
		}
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[48,1,1295],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"data.category","p":[48,20,1314]},{"t":4,"f":[" : ",{"t":2,"r":"data.subcategory","p":[48,64,1358]}],"n":50,"r":"data.subcategory","p":[48,37,1331]}]},"f":[{"t":4,"f":[{"p":[50,3,1410],"t":7,"e":"ui-section","f":["Crafting... ",{"p":[51,16,1438],"t":7,"e":"i","a":{"class":"fa-spin fa fa-spinner"}}]}],"n":50,"r":"data.busy","p":[49,2,1390]},{"t":4,"n":51,"f":[{"p":[54,3,1504],"t":7,"e":"ui-section","f":[{"p":[55,4,1520],"t":7,"e":"table","a":{"style":"width:100%"},"f":[{"p":[56,5,1551],"t":7,"e":"tr","f":[{"p":[57,6,1561],"t":7,"e":"td","a":{"style":"width:150px!important"},"f":[{"p":[58,7,1602],"t":7,"e":"ui-button","a":{"icon":"arrow-left","action":"backwardCat"},"f":[{"t":2,"r":"data.prev_cat","p":[59,8,1660]}]}]}," ",{"p":[62,6,1713],"t":7,"e":"td","a":{"style":"width:150px!important"},"f":[{"p":[63,7,1754],"t":7,"e":"ui-button","a":{"icon":"arrow-right","action":"forwardCat"},"f":[{"t":2,"r":"data.next_cat","p":[64,7,1811]}]}]}," ",{"p":[67,6,1864],"t":7,"e":"td","a":{"style":"float:right!important"},"f":[{"t":4,"f":[{"p":[69,7,1946],"t":7,"e":"ui-button","a":{"icon":"lock","action":"toggle_recipes"},"f":["Showing Craftable Recipes"]}],"n":50,"r":"data.display_craftable_only","p":[68,6,1904]},{"t":4,"n":51,"f":[{"p":[73,7,2066],"t":7,"e":"ui-button","a":{"icon":"unlock","action":"toggle_recipes"},"f":["Showing All Recipes"]}],"r":"data.display_craftable_only"}]}," ",{"p":[78,6,2191],"t":7,"e":"td","a":{"style":"float:right!important"},"f":[{"p":[79,7,2232],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.display_compact"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[79,24,2249]}],"action":"toggle_compact"},"f":["Compact"]}]}]}," ",{"p":[84,5,2391],"t":7,"e":"tr","f":[{"t":4,"f":[{"p":[86,6,2430],"t":7,"e":"td","a":{"style":"width:150px!important"},"f":[{"p":[87,7,2471],"t":7,"e":"ui-button","a":{"icon":"arrow-left","action":"backwardSubCat"},"f":[{"t":2,"r":"data.prev_subcat","p":[88,8,2532]}]}]}," ",{"p":[91,6,2588],"t":7,"e":"td","a":{"style":"width:150px!important"},"f":[{"p":[92,7,2629],"t":7,"e":"ui-button","a":{"icon":"arrow-right","action":"forwardSubCat"},"f":[{"t":2,"r":"data.next_subcat","p":[93,8,2690]}]}]}],"n":50,"r":"data.subcategory","p":[85,5,2400]}]}]}," ",{"t":4,"f":[{"t":4,"f":[" ",{"p":[101,6,2892],"t":7,"e":"ui-input","a":{"value":[{"t":2,"r":"filter","p":[101,23,2909]}],"placeholder":"Filter.."}}],"n":51,"r":"data.display_compact","p":[100,5,2803]}],"n":50,"r":"config.fancy","p":[99,4,2778]}]}," ",{"t":4,"f":[{"p":[106,5,3039],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[108,6,3086],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[108,25,3105]}]},"f":[{"p":[109,7,3122],"t":7,"e":"ui-button","a":{"tooltip":[{"t":2,"x":{"r":["tooltiptext","req_text","catalyst_text","tool_text"],"s":"_0(_1,_2,_3)"},"p":[109,27,3142]}],"tooltip-side":"right","action":"make","params":["{\"recipe\": \"",{"t":2,"r":"ref","p":[109,135,3250]},"\"}"],"icon":"gears"},"v":{"hover":"hover","unhover":"unhover"},"f":["Craft"]}]}],"n":52,"r":"data.can_craft","p":[107,5,3056]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[116,7,3452],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[116,26,3471]}]},"f":[{"p":[117,8,3489],"t":7,"e":"ui-button","a":{"tooltip":[{"t":2,"x":{"r":["tooltiptext","req_text","catalyst_text","tool_text"],"s":"_0(_1,_2,_3)"},"p":[117,28,3509]}],"tooltip-side":"right","state":"disabled","icon":"gears"},"v":{"hover":"hover","unhover":"unhover"},"f":["Craft"]}]}],"n":52,"r":"data.cant_craft","p":[115,6,3420]}],"n":51,"r":"data.display_craftable_only","p":[114,5,3382]}]}],"n":50,"r":"data.display_compact","p":[105,4,3006]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[126,6,3822],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"name","p":[126,25,3841]}]},"f":[{"t":4,"f":[{"p":[128,8,3882],"t":7,"e":"ui-section","a":{"label":"Requirements"},"f":[{"t":2,"r":"req_text","p":[129,9,3924]}]}],"n":50,"r":"req_text","p":[127,7,3858]}," ",{"t":4,"f":[{"p":[133,8,4007],"t":7,"e":"ui-section","a":{"label":"Catalysts"},"f":[{"t":2,"r":"catalyst_text","p":[134,9,4046]}]}],"n":50,"r":"catalyst_text","p":[132,7,3978]}," ",{"t":4,"f":[{"p":[138,8,4130],"t":7,"e":"ui-section","a":{"label":"Tools"},"f":[{"t":2,"r":"tool_text","p":[139,9,4165]}]}],"n":50,"r":"tool_text","p":[137,7,4105]}," ",{"p":[142,7,4220],"t":7,"e":"ui-section","f":[{"p":[143,8,4240],"t":7,"e":"ui-button","a":{"icon":"gears","action":"make","params":["{\"recipe\": \"",{"t":2,"r":"ref","p":[143,66,4298]},"\"}"]},"f":["Craft"]}]}]}],"n":52,"r":"data.can_craft","p":[125,5,3792]}," ",{"t":4,"f":[{"t":4,"f":[{"p":[151,7,4471],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"name","p":[151,26,4490]}]},"f":[{"t":4,"f":[{"p":[153,9,4533],"t":7,"e":"ui-section","a":{"label":"Requirements"},"f":[{"t":2,"r":"req_text","p":[154,10,4576]}]}],"n":50,"r":"req_text","p":[152,8,4508]}," ",{"t":4,"f":[{"p":[158,9,4663],"t":7,"e":"ui-section","a":{"label":"Catalysts"},"f":[{"t":2,"r":"catalyst_text","p":[159,10,4703]}]}],"n":50,"r":"catalyst_text","p":[157,8,4633]}," ",{"t":4,"f":[{"p":[163,9,4791],"t":7,"e":"ui-section","a":{"label":"Tools"},"f":[{"t":2,"r":"tool_text","p":[164,10,4827]}]}],"n":50,"r":"tool_text","p":[162,8,4765]}]}],"n":52,"r":"data.cant_craft","p":[150,6,4439]}],"n":51,"r":"data.display_craftable_only","p":[149,5,4401]}],"r":"data.display_compact"}],"r":"data.busy"}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342,"util/filter":481}],435:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  computed: {
    stackPercentState: function stackPercentState() {
      var charge = this.get('data.stack_percent');
      if (charge > 50) return 'good';else if (charge > 15) return 'average';else return 'bad';
    },
    sheetsAmount: function sheetsAmount() {
      var amount = this.get('data.sheets');
      if (amount > 5) return 'good';else if (amount > 0) return 'average';else return 'bad';
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"t":4,"f":[{"p":[21,3,475],"t":7,"e":"ui-notice","f":[{"p":[22,5,491],"t":7,"e":"span","f":["Generator not anchored."]}]}],"n":50,"x":{"r":["data.anchored"],"s":"!_0"},"p":[20,1,450]},{"p":[26,1,552],"t":7,"e":"ui-display","a":{"title":"Status"},"f":[{"p":[27,3,582],"t":7,"e":"ui-section","a":{"label":"Power switch"},"f":[{"t":4,"f":[{"p":[29,5,641],"t":7,"e":"ui-button","a":{"icon":"power-off","style":"selected","action":"toggle_power"},"f":["On"]}],"n":50,"r":"data.active","p":[28,2,617]},{"t":4,"n":51,"f":[{"p":[31,5,737],"t":7,"e":"ui-button","a":{"icon":"close","state":[{"t":2,"x":{"r":["data.ready_to_boot"],"s":"_0?null:\"disabled\""},"p":[31,36,768]}],"action":"toggle_power"},"f":["Off"]}],"r":"data.active"}]}," ",{"p":[34,3,877],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"data.sheet_name","p":[34,22,896]}," sheets"]},"f":[{"p":[35,2,926],"t":7,"e":"span","a":{"class":[{"t":2,"r":"sheetsAmount","p":[35,15,939]}]},"f":[{"t":2,"r":"data.sheets","p":[35,33,957]}]}," ",{"t":4,"f":[{"p":[37,5,1010],"t":7,"e":"ui-button","a":{"action":"eject","state":[{"t":2,"x":{"r":["data.active"],"s":"_0?\"disabled\":null"},"p":[37,38,1043]}]},"f":["Eject"]}],"n":50,"x":{"r":["data.sheets"],"s":"_0>=1"},"p":[36,2,981]}]}," ",{"p":[40,3,1125],"t":7,"e":"ui-section","a":{"label":"Current sheet level"},"f":[{"p":[41,2,1167],"t":7,"e":"ui-bar","a":{"min":"0","max":"100","value":[{"t":2,"r":"data.stack_percent","p":[41,35,1200]}],"state":[{"t":2,"r":"stackPercentState","p":[41,66,1231]}]},"f":[{"t":2,"x":{"r":["adata.stack_percent"],"s":"Math.fixed(_0)"},"p":[41,89,1254]},"%"]}]}," ",{"p":[43,3,1318],"t":7,"e":"ui-section","a":{"label":"Heat level"},"f":[{"t":4,"f":[{"p":[45,2,1385],"t":7,"e":"span","a":{"class":"good"},"f":["Nominal"]}],"n":50,"x":{"r":["data.current_heat"],"s":"_0<100"},"p":[44,3,1352]},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["data.current_heat"],"s":"_0<200"},"f":[{"p":[47,2,1457],"t":7,"e":"span","a":{"class":"average"},"f":["Caution"]}]},{"t":4,"n":50,"x":{"r":["data.current_heat"],"s":"!(_0<200)"},"f":[" ",{"p":[49,2,1506],"t":7,"e":"span","a":{"class":"bad"},"f":["DANGER"]}]}],"x":{"r":["data.current_heat"],"s":"_0<100"}}]}]}," ",{"p":[54,1,1579],"t":7,"e":"ui-display","a":{"title":"Output"},"f":[{"p":[55,3,1609],"t":7,"e":"ui-section","a":{"label":"Current output"},"f":[{"t":2,"r":"data.power_output","p":[56,2,1646]}]}," ",{"p":[58,3,1686],"t":7,"e":"ui-section","a":{"label":"Adjust output"},"f":[{"p":[59,2,1722],"t":7,"e":"ui-button","a":{"icon":"minus","action":"lower_power"},"f":[{"t":2,"r":"data.power_generated","p":[59,47,1767]}]}," ",{"p":[60,2,1805],"t":7,"e":"ui-button","a":{"icon":"plus","action":"higher_power"},"f":[{"t":2,"r":"data.power_generated","p":[60,47,1850]}]}]}," ",{"p":[62,3,1905],"t":7,"e":"ui-section","a":{"label":"Power available"},"f":[{"p":[63,5,1946],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.connected"],"s":"_0?null:\"bad\""},"p":[63,18,1959]}]},"f":[{"t":2,"x":{"r":["data.connected","data.power_available"],"s":"_0?_1:\"Unconnected\""},"p":[63,53,1994]}]}]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],436:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-notice","f":[{"p":[2,3,15],"t":7,"e":"span","f":["The regulator ",{"t":2,"x":{"r":["data.holding"],"s":"_0?\"is\":\"is not\""},"p":[2,23,35]}," connected to a tank."]}]}," ",{"p":[4,1,113],"t":7,"e":"ui-display","a":{"title":"Status","button":0},"f":[{"p":[5,3,151],"t":7,"e":"ui-section","a":{"label":"Pressure"},"f":[{"p":[6,5,186],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.pressure"],"s":"Math.round(_0)"},"p":[6,11,192]}," kPa"]}]}," ",{"p":[8,3,254],"t":7,"e":"ui-section","a":{"label":"Port"},"f":[{"p":[9,5,285],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.connected"],"s":"_0?\"good\":\"average\""},"p":[9,18,298]}]},"f":[{"t":2,"x":{"r":["data.connected"],"s":"_0?\"Connected\":\"Not Connected\""},"p":[9,59,339]}]}]}]}," ",{"p":[12,1,430],"t":7,"e":"ui-display","a":{"title":"Pump"},"f":[{"p":[13,3,459],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[14,5,491],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"power-off\":\"close\""},"p":[14,22,508]}],"style":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"selected\":\"null\""},"p":[15,14,559]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"On\":\"Off\""},"p":[16,22,616]}]}]}," ",{"p":[18,3,675],"t":7,"e":"ui-section","a":{"label":"Direction"},"f":[{"p":[19,5,711],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.direction"],"s":"_0==\"out\"?\"sign-out\":\"sign-in\""},"p":[19,22,728]}],"action":"direction"},"f":[{"t":2,"x":{"r":["data.direction"],"s":"_0==\"out\"?\"Out\":\"In\""},"p":[20,26,808]}]}]}," ",{"p":[22,3,883],"t":7,"e":"ui-section","a":{"label":"Target Pressure"},"f":[{"p":[23,5,925],"t":7,"e":"ui-bar","a":{"min":[{"t":2,"r":"data.min_pressure","p":[23,18,938]}],"max":[{"t":2,"r":"data.max_pressure","p":[23,46,966]}],"value":[{"t":2,"r":"data.target_pressure","p":[24,14,1003]}]},"f":[{"t":2,"x":{"r":["adata.target_pressure"],"s":"Math.round(_0)"},"p":[24,40,1029]}," kPa"]}]}," ",{"p":[26,3,1100],"t":7,"e":"ui-section","a":{"label":"Pressure Regulator"},"f":[{"p":[27,5,1145],"t":7,"e":"ui-button","a":{"icon":"refresh","state":[{"t":2,"x":{"r":["data.target_pressure","data.default_pressure"],"s":"_0!=_1?null:\"disabled\""},"p":[27,38,1178]}],"action":"pressure","params":"{\"pressure\": \"reset\"}"},"f":["Reset"]}," ",{"p":[29,5,1328],"t":7,"e":"ui-button","a":{"icon":"minus","state":[{"t":2,"x":{"r":["data.target_pressure","data.min_pressure"],"s":"_0>_1?null:\"disabled\""},"p":[29,36,1359]}],"action":"pressure","params":"{\"pressure\": \"min\"}"},"f":["Min"]}," ",{"p":[31,5,1500],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"pressure","params":"{\"pressure\": \"input\"}"},"f":["Set"]}," ",{"p":[32,5,1595],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.target_pressure","data.max_pressure"],"s":"_0<_1?null:\"disabled\""},"p":[32,35,1625]}],"action":"pressure","params":"{\"pressure\": \"max\"}"},"f":["Max"]}]}]}," ",{"p":{"button":[{"t":4,"f":[{"p":[39,7,1891],"t":7,"e":"ui-button","a":{"icon":"eject","style":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"danger\":null"},"p":[39,38,1922]}],"action":"eject"},"f":["Eject"]}],"n":50,"r":"data.holding","p":[38,5,1863]}]},"t":7,"e":"ui-display","a":{"title":"Holding Tank","button":0},"f":[" ",{"t":4,"f":[{"p":[43,3,2042],"t":7,"e":"ui-section","a":{"label":"Label"},"f":[{"t":2,"r":"data.holding.name","p":[44,4,2073]}]}," ",{"p":[46,3,2115],"t":7,"e":"ui-section","a":{"label":"Pressure"},"f":[{"t":2,"x":{"r":["adata.holding.pressure"],"s":"Math.round(_0)"},"p":[47,4,2149]}," kPa"]}],"n":50,"r":"data.holding","p":[42,3,2018]},{"t":4,"n":51,"f":[{"p":[50,3,2223],"t":7,"e":"ui-section","f":[{"p":[51,4,2240],"t":7,"e":"span","a":{"class":"average"},"f":["No Holding Tank"]}]}],"r":"data.holding"}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],437:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" ",{"p":[3,1,69],"t":7,"e":"ui-notice","f":[{"p":[4,3,84],"t":7,"e":"span","f":["The regulator ",{"t":2,"x":{"r":["data.holding"],"s":"_0?\"is\":\"is not\""},"p":[4,23,104]}," connected to a tank."]}]}," ",{"p":[6,1,182],"t":7,"e":"ui-display","a":{"title":"Status","button":0},"f":[{"p":[7,3,220],"t":7,"e":"ui-section","a":{"label":"Pressure"},"f":[{"p":[8,5,255],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.pressure"],"s":"Math.round(_0)"},"p":[8,11,261]}," kPa"]}]}," ",{"p":[10,3,323],"t":7,"e":"ui-section","a":{"label":"Port"},"f":[{"p":[11,5,354],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.connected"],"s":"_0?\"good\":\"average\""},"p":[11,18,367]}]},"f":[{"t":2,"x":{"r":["data.connected"],"s":"_0?\"Connected\":\"Not Connected\""},"p":[11,59,408]}]}]}]}," ",{"p":[14,1,499],"t":7,"e":"ui-display","a":{"title":"Filter"},"f":[{"p":[15,3,530],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[16,5,562],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"power-off\":\"close\""},"p":[16,22,579]}],"style":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"selected\":\"null\""},"p":[17,14,630]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"On\":\"Off\""},"p":[18,22,687]}]}]}]}," ",{"p":{"button":[{"t":4,"f":[{"p":[24,7,856],"t":7,"e":"ui-button","a":{"icon":"eject","style":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"danger\":null"},"p":[24,38,887]}],"action":"eject"},"f":["Eject"]}],"n":50,"r":"data.holding","p":[23,5,828]}]},"t":7,"e":"ui-display","a":{"title":"Holding Tank","button":0},"f":[" ",{"t":4,"f":[{"p":[28,3,1007],"t":7,"e":"ui-section","a":{"label":"Label"},"f":[{"t":2,"r":"data.holding.name","p":[29,4,1038]}]}," ",{"p":[31,3,1080],"t":7,"e":"ui-section","a":{"label":"Pressure"},"f":[{"t":2,"x":{"r":["adata.holding.pressure"],"s":"Math.round(_0)"},"p":[32,4,1114]}," kPa"]}],"n":50,"r":"data.holding","p":[27,3,983]},{"t":4,"n":51,"f":[{"p":[35,3,1188],"t":7,"e":"ui-section","f":[{"p":[36,4,1205],"t":7,"e":"span","a":{"class":"average"},"f":["No Holding Tank"]}]}],"r":"data.holding"}]}," ",{"p":[40,1,1293],"t":7,"e":"ui-display","a":{"title":"Filters"},"f":[{"t":4,"f":[{"p":[42,5,1345],"t":7,"e":"filters"}],"n":53,"r":"data","p":[41,3,1325]}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "filters": require("./scrubbing_types.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./scrubbing_types.ract":454,"ractive":342}],438:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  data: {
    chargingState: function chargingState(status) {
      switch (status) {
        case 2:
          return 'good';
        case 1:
          return 'average';
        default:
          return 'bad';
      }
    },
    chargingMode: function chargingMode(status) {
      if (status == 2) return 'Full';else if (status == 1) return 'Charging';else return 'Draining';
    },
    channelState: function channelState(status) {
      if (status >= 2) return 'good';else return 'bad';
    },
    channelPower: function channelPower(status) {
      if (status >= 2) return 'On';else return 'Off';
    },
    channelMode: function channelMode(status) {
      if (status == 1 || status == 3) return 'Auto';else return 'Manual';
    }
  },
  computed: {
    graphData: function graphData() {
      var history = this.get('data.history');
      return Object.keys(history).map(function (key) {
        return history[key].map(function (point, index) {
          return { x: index, y: point };
        });
      });
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[42,1,1035],"t":7,"e":"ui-display","a":{"title":"Network"},"f":[{"t":4,"f":[{"p":[44,5,1093],"t":7,"e":"ui-linegraph","a":{"points":[{"t":2,"r":"graphData","p":[44,27,1115]}],"height":"500","legend":"[\"Available\", \"Load\"]","colors":"[\"rgb(0, 102, 0)\", \"rgb(153, 0, 0)\"]","xunit":"seconds ago","xfactor":[{"t":2,"r":"data.interval","p":[46,38,1267]}],"yunit":"W","yfactor":"1","xinc":[{"t":2,"x":{"r":["data.stored"],"s":"_0/10"},"p":[47,15,1323]}],"yinc":"9"}}],"n":50,"r":"config.fancy","p":[43,3,1067]},{"t":4,"n":51,"f":[{"p":[49,5,1373],"t":7,"e":"ui-section","a":{"label":"Available"},"f":[{"p":[50,7,1411],"t":7,"e":"span","f":[{"t":2,"r":"data.supply","p":[50,13,1417]}]}]}," ",{"p":[52,5,1464],"t":7,"e":"ui-section","a":{"label":"Load"},"f":[{"p":[53,9,1499],"t":7,"e":"span","f":[{"t":2,"r":"data.demand","p":[53,15,1505]}]}]}],"r":"config.fancy"}]}," ",{"p":[57,1,1574],"t":7,"e":"ui-display","a":{"title":"Areas"},"f":[{"p":[58,3,1604],"t":7,"e":"ui-section","a":{"nowrap":0},"f":[{"p":[59,5,1629],"t":7,"e":"div","a":{"class":"content"},"f":["Area"]}," ",{"p":[60,5,1666],"t":7,"e":"div","a":{"class":"content"},"f":["Charge"]}," ",{"p":[61,5,1705],"t":7,"e":"div","a":{"class":"content"},"f":["Load"]}," ",{"p":[62,5,1742],"t":7,"e":"div","a":{"class":"content"},"f":["Status"]}," ",{"p":[63,5,1781],"t":7,"e":"div","a":{"class":"content"},"f":["Equipment"]}," ",{"p":[64,5,1823],"t":7,"e":"div","a":{"class":"content"},"f":["Lighting"]}," ",{"p":[65,5,1864],"t":7,"e":"div","a":{"class":"content"},"f":["Environment"]}]}," ",{"t":4,"f":[{"p":[68,5,1949],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[68,24,1968]}],"nowrap":0},"f":[{"p":[69,7,1993],"t":7,"e":"div","a":{"class":"content"},"f":[{"t":2,"x":{"r":["@index","adata.areas"],"s":"Math.round(_1[_0].charge)"},"p":[69,28,2014]}," %"]}," ",{"p":[70,7,2072],"t":7,"e":"div","a":{"class":"content"},"f":[{"t":2,"rx":{"r":"adata.areas","m":[{"t":30,"n":"@index"},"load"]},"p":[70,28,2093]}]}," ",{"p":[71,7,2135],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[71,28,2156],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["chargingState","charging"],"s":"_0(_1)"},"p":[71,41,2169]}]},"f":[{"t":2,"x":{"r":["chargingMode","charging"],"s":"_0(_1)"},"p":[71,70,2198]}]}]}," ",{"p":[72,7,2245],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[72,28,2266],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["channelState","eqp"],"s":"_0(_1)"},"p":[72,41,2279]}]},"f":[{"t":2,"x":{"r":["channelPower","eqp"],"s":"_0(_1)"},"p":[72,64,2302]}," [",{"p":[72,87,2325],"t":7,"e":"span","f":[{"t":2,"x":{"r":["channelMode","eqp"],"s":"_0(_1)"},"p":[72,93,2331]}]},"]"]}]}," ",{"p":[73,7,2380],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[73,28,2401],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["channelState","lgt"],"s":"_0(_1)"},"p":[73,41,2414]}]},"f":[{"t":2,"x":{"r":["channelPower","lgt"],"s":"_0(_1)"},"p":[73,64,2437]}," [",{"p":[73,87,2460],"t":7,"e":"span","f":[{"t":2,"x":{"r":["channelMode","lgt"],"s":"_0(_1)"},"p":[73,93,2466]}]},"]"]}]}," ",{"p":[74,7,2515],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[74,28,2536],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["channelState","env"],"s":"_0(_1)"},"p":[74,41,2549]}]},"f":[{"t":2,"x":{"r":["channelPower","env"],"s":"_0(_1)"},"p":[74,64,2572]}," [",{"p":[74,87,2595],"t":7,"e":"span","f":[{"t":2,"x":{"r":["channelMode","env"],"s":"_0(_1)"},"p":[74,93,2601]}]},"]"]}]}]}],"n":52,"r":"data.areas","p":[67,3,1923]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],439:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  computed: {
    readableFrequency: function readableFrequency() {
      return Math.round(this.get('adata.frequency')) / 10;
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[11,1,167],"t":7,"e":"ui-display","a":{"title":"Settings"},"f":[{"t":4,"f":[{"p":[13,5,224],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[14,7,257],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.listening"],"s":"_0?\"power-off\":\"close\""},"p":[14,24,274]}],"style":[{"t":2,"x":{"r":["data.listening"],"s":"_0?\"selected\":null"},"p":[14,75,325]}],"action":"listen"},"f":[{"t":2,"x":{"r":["data.listening"],"s":"_0?\"On\":\"Off\""},"p":[16,9,398]}]}]}],"n":50,"r":"data.headset","p":[12,3,199]},{"t":4,"n":51,"f":[{"p":[19,5,476],"t":7,"e":"ui-section","a":{"label":"Microphone"},"f":[{"p":[20,7,514],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.broadcasting"],"s":"_0?\"power-off\":\"close\""},"p":[20,24,531]}],"style":[{"t":2,"x":{"r":["data.broadcasting"],"s":"_0?\"selected\":null"},"p":[20,78,585]}],"action":"broadcast"},"f":[{"t":2,"x":{"r":["data.broadcasting"],"s":"_0?\"Engaged\":\"Disengaged\""},"p":[22,9,664]}]}]}," ",{"p":[24,5,746],"t":7,"e":"ui-section","a":{"label":"Speaker"},"f":[{"p":[25,7,781],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.listening"],"s":"_0?\"power-off\":\"close\""},"p":[25,24,798]}],"style":[{"t":2,"x":{"r":["data.listening"],"s":"_0?\"selected\":null"},"p":[25,75,849]}],"action":"listen"},"f":[{"t":2,"x":{"r":["data.listening"],"s":"_0?\"Engaged\":\"Disengaged\""},"p":[27,9,922]}]}]}],"r":"data.headset"}," ",{"t":4,"f":[{"p":[31,5,1034],"t":7,"e":"ui-section","a":{"label":"High Volume"},"f":[{"p":[32,7,1073],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.useCommand"],"s":"_0?\"power-off\":\"close\""},"p":[32,24,1090]}],"style":[{"t":2,"x":{"r":["data.useCommand"],"s":"_0?\"selected\":null"},"p":[32,76,1142]}],"action":"command"},"f":[{"t":2,"x":{"r":["data.useCommand"],"s":"_0?\"On\":\"Off\""},"p":[34,9,1217]}]}]}],"n":50,"r":"data.command","p":[30,3,1009]}]}," ",{"p":[38,1,1305],"t":7,"e":"ui-display","a":{"title":"Channel"},"f":[{"p":[39,3,1336],"t":7,"e":"ui-section","a":{"label":"Frequency"},"f":[{"t":4,"f":[{"p":[41,7,1399],"t":7,"e":"span","f":[{"t":2,"r":"readableFrequency","p":[41,13,1405]}]}],"n":50,"r":"data.freqlock","p":[40,5,1371]},{"t":4,"n":51,"f":[{"p":[43,7,1453],"t":7,"e":"ui-button","a":{"icon":"fast-backward","state":[{"t":2,"x":{"r":["data.frequency","data.minFrequency"],"s":"_0==_1?\"disabled\":null"},"p":[43,46,1492]}],"action":"frequency","params":"{\"adjust\": -1}"}}," ",{"p":[44,7,1603],"t":7,"e":"ui-button","a":{"icon":"backward","state":[{"t":2,"x":{"r":["data.frequency","data.minFrequency"],"s":"_0==_1?\"disabled\":null"},"p":[44,41,1637]}],"action":"frequency","params":"{\"adjust\": -.2}"}}," ",{"p":[45,7,1749],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"frequency","params":"{\"tune\": \"input\"}"},"f":[{"t":2,"r":"readableFrequency","p":[45,78,1820]}]}," ",{"p":[46,7,1860],"t":7,"e":"ui-button","a":{"icon":"forward","state":[{"t":2,"x":{"r":["data.frequency","data.maxFrequency"],"s":"_0==_1?\"disabled\":null"},"p":[46,40,1893]}],"action":"frequency","params":"{\"adjust\": .2}"}}," ",{"p":[47,7,2004],"t":7,"e":"ui-button","a":{"icon":"fast-forward","state":[{"t":2,"x":{"r":["data.frequency","data.maxFrequency"],"s":"_0==_1?\"disabled\":null"},"p":[47,45,2042]}],"action":"frequency","params":"{\"adjust\": 1}"}}],"r":"data.freqlock"}]}," ",{"t":4,"f":[{"p":[51,5,2212],"t":7,"e":"ui-section","a":{"label":"Subspace Transmission"},"f":[{"p":[52,7,2261],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.subspace"],"s":"_0?\"power-off\":\"close\""},"p":[52,24,2278]}],"style":[{"t":2,"x":{"r":["data.subspace"],"s":"_0?\"selected\":null"},"p":[52,74,2328]}],"action":"subspace"},"f":[{"t":2,"x":{"r":["data.subspace"],"s":"_0?\"Active\":\"Inactive\""},"p":[53,29,2395]}]}]}],"n":50,"r":"data.subspaceSwitchable","p":[50,3,2176]}," ",{"t":4,"f":[{"p":[57,5,2522],"t":7,"e":"ui-section","a":{"label":"Channels"},"f":[{"t":4,"f":[{"p":[59,9,2598],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["."],"s":"_0?\"check-square-o\":\"square-o\""},"p":[59,26,2615]}],"style":[{"t":2,"x":{"r":["."],"s":"_0?\"selected\":null"},"p":[60,18,2671]}],"action":"channel","params":["{\"channel\": \"",{"t":2,"r":"channel","p":[61,49,2746]},"\"}"]},"f":[{"t":2,"r":"channel","p":[62,11,2772]}]},{"p":[62,34,2795],"t":7,"e":"br"}],"n":52,"i":"channel","r":"data.channels","p":[58,7,2558]}]}],"n":50,"x":{"r":["data.subspace","data.channels"],"s":"_0&&_1"},"p":[56,3,2479]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],440:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" "," "," "," "," "," "," "," "," "," ",{"p":[11,1,550],"t":7,"e":"rdheader"}," ",{"t":4,"f":[{"p":[13,2,583],"t":7,"e":"ui-display","a":{"title":"CONSOLE LOCKED"},"f":[{"p":[14,3,621],"t":7,"e":"ui-button","a":{"action":"Unlock"},"f":["Unlock"]}]}],"n":50,"r":"data.locked","p":[12,1,562]},{"t":4,"f":[{"p":[18,2,712],"t":7,"e":"ui-tabs","a":{"tabs":[{"t":2,"r":"data.tabs","p":[18,17,727]}]},"f":[{"p":[19,3,745],"t":7,"e":"tab","a":{"name":"Technology"},"f":[{"p":[20,4,772],"t":7,"e":"techweb"}]}," ",{"p":[22,3,794],"t":7,"e":"tab","a":{"name":"View Node"},"f":[{"p":[23,4,820],"t":7,"e":"nodeview"}]}," ",{"p":[25,3,843],"t":7,"e":"tab","a":{"name":"View Design"},"f":[{"p":[26,4,871],"t":7,"e":"designview"}]}," ",{"p":[28,3,896],"t":7,"e":"tab","a":{"name":"Disk Operations - Design"},"f":[{"p":[29,4,937],"t":7,"e":"diskopsdesign"}]}," ",{"p":[31,3,965],"t":7,"e":"tab","a":{"name":"Disk Operations - Technology"},"f":[{"p":[32,4,1010],"t":7,"e":"diskopstech"}]}," ",{"p":[34,3,1036],"t":7,"e":"tab","a":{"name":"Deconstructive Analyzer"},"f":[{"p":[35,4,1076],"t":7,"e":"destruct"}]}," ",{"p":[37,3,1099],"t":7,"e":"tab","a":{"name":"Protolathe"},"f":[{"p":[38,4,1126],"t":7,"e":"protolathe"}]}," ",{"p":[40,3,1151],"t":7,"e":"tab","a":{"name":"Circuit Imprinter"},"f":[{"p":[41,4,1185],"t":7,"e":"circuit"}]}," ",{"p":[43,3,1207],"t":7,"e":"tab","a":{"name":"Settings"},"f":[{"p":[44,4,1232],"t":7,"e":"settings"}]}]}],"n":50,"x":{"r":["data.locked"],"s":"!_0"},"p":[17,1,690]}]};
component.exports.components = component.exports.components || {};
var components = {
  "settings": require("./rdconsole/settings.ract"),
  "circuit": require("./rdconsole/circuit.ract"),
  "protolathe": require("./rdconsole/protolathe.ract"),
  "destruct": require("./rdconsole/destruct.ract"),
  "diskopsdesign": require("./rdconsole/diskopsdesign.ract"),
  "diskopstech": require("./rdconsole/diskopstech.ract"),
  "designview": require("./rdconsole/designview.ract"),
  "nodeview": require("./rdconsole/nodeview.ract"),
  "techweb": require("./rdconsole/techweb.ract"),
  "rdheader": require("./rdconsole/rdheader.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./rdconsole/circuit.ract":441,"./rdconsole/designview.ract":442,"./rdconsole/destruct.ract":443,"./rdconsole/diskopsdesign.ract":444,"./rdconsole/diskopstech.ract":445,"./rdconsole/nodeview.ract":446,"./rdconsole/protolathe.ract":447,"./rdconsole/rdheader.ract":448,"./rdconsole/settings.ract":449,"./rdconsole/techweb.ract":450,"ractive":342}],441:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"t":4,"f":[{"p":[3,3,56],"t":7,"e":"ui-display","a":{"title":"Circuit Imprinter Busy!"}}],"n":50,"r":"data.circuitbusy","p":[2,2,29]},{"t":4,"n":51,"f":[{"p":[5,3,126],"t":7,"e":"ui-display","f":[{"p":[6,4,142],"t":7,"e":"ui-section","f":["Search Available Designs: ",{"p":[7,4,183],"t":7,"e":"input","a":{"value":[{"t":2,"r":"textsearch","p":[7,17,196]}],"placeholder":"Type Here","class":"text"}}," ",{"p":[8,5,254],"t":7,"e":"ui-button","a":{"action":"textSearch","params":["{\"latheType\" : \"circuit\", \"inputText\" : ",{"t":2,"r":"textsearch","p":[8,84,333]},"}"]},"f":["Search"]}]}," ",{"p":[10,4,389],"t":7,"e":"ui-section","f":["Materials: ",{"t":2,"r":"data.circuitmats","p":[10,27,412]}," / ",{"t":2,"r":"data.circuitmaxmats","p":[10,50,435]}]}," ",{"p":[11,4,475],"t":7,"e":"ui-section","f":["Reagents: ",{"t":2,"r":"data.circuitchems","p":[11,26,497]}," / ",{"t":2,"r":"data.circuitmaxchems","p":[11,50,521]}]}," ",{"p":[12,3,561],"t":7,"e":"ui-display","f":[{"p":[14,3,577],"t":7,"e":"ui-tabs","a":{"tabs":[{"t":2,"r":"data.lathe_tabs","p":[14,18,592]}]},"f":[{"p":[15,4,617],"t":7,"e":"tab","a":{"name":"Category List"},"f":[{"t":4,"f":[{"p":[17,6,680],"t":7,"e":"ui-button","a":{"action":"switchcat","state":[{"t":2,"x":{"r":["data.circuitcat"],"s":"_0==\"{{name}}\"?\"selected\":null"},"p":[17,43,717]}],"params":["{\"type\" : \"circuit\", \"cat\" : \"",{"t":2,"r":"name","p":[17,135,809]},"\"}"]},"f":[{"t":2,"r":"name","p":[17,147,821]}]}],"n":52,"r":"data.circuitcats","p":[16,5,648]}]}," ",{"p":[20,4,869],"t":7,"e":"tab","a":{"name":"Selected Category"},"f":[{"t":4,"f":[{"p":[22,6,935],"t":7,"e":"ui-section","f":[{"t":2,"r":"name","p":[22,18,947]},{"t":2,"r":"matstring","p":[22,26,955]}," ",{"p":[23,7,975],"t":7,"e":"ui-button","a":{"action":"print","state":[{"t":2,"x":{"r":["canprint"],"s":"_0>1?null:\"disabled\""},"p":[23,40,1008]}],"params":["{\"latheType\" : \"circuit\", \"id\" : \"",{"t":2,"r":"id","p":[23,119,1087]},"\"}"]},"f":["Print"]}]}],"n":52,"r":"data.circuitdes","p":[21,5,904]}]}," ",{"p":[27,4,1161],"t":7,"e":"tab","a":{"name":"Search Results"},"f":[{"t":4,"f":[{"p":[29,6,1226],"t":7,"e":"ui-section","f":[{"t":2,"r":"name","p":[29,18,1238]},{"t":2,"r":"matstring","p":[29,26,1246]}," ",{"p":[30,7,1266],"t":7,"e":"ui-button","a":{"action":"print","state":[{"t":2,"x":{"r":["canprint"],"s":"_0>1?null:\"disabled\""},"p":[30,40,1299]}],"params":["{\"latheType\" : \"circuit\", \"id\" : \"",{"t":2,"r":"id","p":[30,119,1378]},"\"}"]},"f":["Print"]}]}],"n":52,"r":"data.circuitmatch","p":[28,5,1193]}]}," ",{"p":[34,4,1452],"t":7,"e":"tab","a":{"name":"Materials"},"f":[{"t":4,"f":[{"p":[36,6,1515],"t":7,"e":"ui-section","f":[{"t":2,"r":"name","p":[36,18,1527]}," : ",{"t":2,"r":"amount","p":[36,29,1538]}," cm3 - ",{"t":4,"f":[{"p":[38,7,1586],"t":7,"e":"input","a":{"value":[{"t":2,"r":"number","p":[38,20,1599]}],"placeholder":["1-",{"t":2,"r":"sheets","p":[38,46,1625]}],"class":"number"}}," ",{"p":[39,7,1660],"t":7,"e":"ui-button","a":{"action":"releasemats","params":["{\"latheType\" : \"circuit\", \"mat_id\" : ",{"t":2,"r":"mat_id","p":[39,84,1737]},", \"sheets\" : ",{"t":2,"r":"number","p":[39,107,1760]},"}"]},"f":["Release"]}],"n":50,"x":{"r":["sheets"],"s":"_0>0"},"p":[37,6,1561]}]}],"n":52,"r":"data.circuitmat_list","p":[35,5,1479]}]}," ",{"p":[44,4,1852],"t":7,"e":"tab","a":{"name":"Chemicals"},"f":[{"t":4,"f":[{"p":[46,6,1916],"t":7,"e":"ui-section","f":[{"t":2,"r":"name","p":[46,18,1928]}," : ",{"t":2,"r":"amount","p":[46,29,1939]}," - ",{"p":[47,7,1959],"t":7,"e":"ui-button","a":{"action":"purgechem","params":["{\"latheType\" : \"circuit\", \"name\" : ",{"t":2,"r":"name","p":[47,80,2032]},", \"id\" : ",{"t":2,"r":"reagentid","p":[47,97,2049]},"}"]},"f":["Purge"]}]}],"n":52,"r":"data.circuitchem_list","p":[45,5,1879]}]}]}]}]}],"r":"data.circuitbusy"}],"n":50,"r":"data.circuit_linked","p":[1,1,0]},{"t":4,"n":51,"f":[{"p":[55,2,2162],"t":7,"e":"ui-display","a":{"title":"No Linked Circuit Imprinter"}}],"r":"data.circuit_linked"}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],442:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,2,30],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"data.sdesign_name","p":[2,21,49]}]},"f":[{"p":[3,3,75],"t":7,"e":"ui-section","a":{"title":"Description"},"f":[{"t":2,"r":"data.sdesign_desc","p":[3,35,107]}]}]}," ",{"p":[5,2,158],"t":7,"e":"ui-display","a":{"title":"Lathe Types"},"f":[{"t":4,"f":[{"p":[7,4,233],"t":7,"e":"ui-section","a":{"title":"Circuit Imprinter"}}],"n":50,"x":{"r":["data.sdesign_buildtype"],"s":"_0&1"},"p":[6,3,193]}," ",{"t":4,"f":[{"p":[10,4,337],"t":7,"e":"ui-section","a":{"title":"Protolathe"}}],"n":50,"x":{"r":["data.sdesign_buildtype"],"s":"_0&2"},"p":[9,3,297]}," ",{"t":4,"f":[{"p":[13,4,434],"t":7,"e":"ui-section","a":{"title":"Autolathe"}}],"n":50,"x":{"r":["data.sdesign_buildtype"],"s":"_0&4"},"p":[12,3,394]}," ",{"t":4,"f":[{"p":[16,4,530],"t":7,"e":"ui-section","a":{"title":"Crafting Fabricator"}}],"n":50,"x":{"r":["data.sdesign_buildtype"],"s":"_0&8"},"p":[15,3,490]}," ",{"t":4,"f":[{"p":[19,4,637],"t":7,"e":"ui-section","a":{"title":"Exosuit Fabricator"}}],"n":50,"x":{"r":["data.sdesign_buildtype"],"s":"_0&16"},"p":[18,3,596]}," ",{"t":4,"f":[{"p":[22,4,743],"t":7,"e":"ui-section","a":{"title":"Biogenerator"}}],"n":50,"x":{"r":["data.sdesign_buildtype"],"s":"_0&32"},"p":[21,3,702]}," ",{"t":4,"f":[{"p":[25,4,843],"t":7,"e":"ui-section","a":{"title":"Limb Grower"}}],"n":50,"x":{"r":["data.sdesign_buildtype"],"s":"_0&64"},"p":[24,3,802]}," ",{"t":4,"f":[{"p":[28,4,943],"t":7,"e":"ui-section","a":{"title":"Ore Smelter"}}],"n":50,"x":{"r":["data.sdesign_buildtype"],"s":"_0&128"},"p":[27,3,901]}]}," ",{"p":[31,2,1015],"t":7,"e":"ui-display","a":{"title":"Materials"},"f":[{"t":4,"f":[{"p":[33,4,1084],"t":7,"e":"ui-section","a":{"title":[{"t":2,"r":"matname","p":[33,23,1103]}]},"f":[{"t":2,"r":"matamt","p":[33,36,1116]}," cm^3"]}],"n":52,"r":"data.sdesign_materials","p":[32,3,1048]}]}],"n":50,"r":"data.design_selected","p":[1,1,0]},{"t":4,"f":[{"p":[38,2,1211],"t":7,"e":"ui-display","a":{"title":"No Design Selected."}}],"n":50,"x":{"r":["data.design_selected"],"s":"!_0"},"p":[37,1,1180]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],443:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"t":4,"f":[{"p":[4,3,57],"t":7,"e":"ui-display","a":{"title":"Destructive Analyzer Busy!"}}],"n":50,"r":"data.destroybusy","p":[3,2,30]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[7,4,162],"t":7,"e":"ui-display","a":{"title":"Destructive Analyzer Unloaded"}}],"n":50,"x":{"r":["data.destroy_loaded"],"s":"!_0"},"p":[6,3,130]},{"t":4,"n":51,"f":[{"p":[9,4,240],"t":7,"e":"ui-display","a":{"title":"Loaded Item"},"f":[{"p":[10,4,276],"t":7,"e":"ui-section","a":{"title":"Name"},"f":[{"t":2,"r":"data.destroy_name","p":[10,29,301]}]}]}," ",{"p":[12,4,356],"t":7,"e":"ui-display","a":{"title":"Boost Nodes"},"f":[{"t":4,"f":[{"p":[14,6,425],"t":7,"e":"ui-section","a":{"title":[{"t":2,"r":"name","p":[14,25,444]}," | ",{"t":2,"r":"value","p":[14,36,455]}]},"f":[{"p":[15,7,473],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["allow"],"s":"_0?null:\"disabled\""},"p":[15,25,491]}],"action":"deconstruct","params":["{\"id\":",{"t":2,"r":"id","p":[15,90,556]},"}"]},"f":["Deconstruct and Boost"]}]}],"n":52,"r":"data.boost_paths","p":[13,5,393]}]}," ",{"p":[19,4,652],"t":7,"e":"ui-button","a":{"action":"eject_da"},"f":["Eject Item"]}],"x":{"r":["data.destroy_loaded"],"s":"!_0"}}],"r":"data.destroybusy"}],"n":50,"r":"data.destroy_linked","p":[2,1,1]},{"t":4,"n":51,"f":[{"p":[23,2,733],"t":7,"e":"ui-display","a":{"title":"No Linked Destructive Analyzer"}}],"r":"data.destroy_linked"}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],444:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[3,2,22],"t":7,"e":"ui-display","a":{"title":"No Design Disk Loaded"}}],"n":50,"x":{"r":["data.ddisk"],"s":"!_0"},"p":[2,1,1]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[6,3,116],"t":7,"e":"ui-display","a":{"title":"Design Disk Updating"}}],"n":50,"r":"data.ddisk_update","p":[5,2,88]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[9,4,213],"t":7,"e":"ui-display","a":{"title":"Design Disk"},"f":[{"p":[10,5,250],"t":7,"e":"ui-section","a":{"title":"Disk Space"},"f":["Disk Capacity: ",{"t":2,"r":"data.ddisk_size","p":[10,51,296]}," blueprints."]}," ",{"p":[11,5,345],"t":7,"e":"ui-section","a":{"title":"Disk IO"},"f":[{"p":[11,33,373],"t":7,"e":"ui-button","a":{"action":"ddisk_upall"},"f":["Upload all designs"]}]}," ",{"p":[12,5,453],"t":7,"e":"ui-section","a":{"title":"Clear Disk"},"f":[{"p":[12,36,484],"t":7,"e":"ui-button","a":{"action":"clear_designdisk","style":"danger"},"f":["WIPE ALL DATA"]}]}," ",{"p":[13,5,579],"t":7,"e":"ui-section","a":{"title":"Eject Disk"},"f":[{"p":[13,36,610],"t":7,"e":"ui-button","a":{"action":"eject_designdisk"},"f":["Eject Disk"]}]}]}," ",{"p":[15,4,703],"t":7,"e":"ui-display","a":{"title":"Disk Contents"},"f":[{"t":4,"f":[{"p":[17,6,776],"t":7,"e":"ui-section","a":{"title":"Number"},"f":["#",{"t":2,"r":"pos","p":[17,34,804]},": ",{"t":4,"f":[{"p":[19,8,848],"t":7,"e":"ui-button","a":{"action":"upload_empty_ddisk_slot","params":["{\"slot\": \"",{"t":2,"r":"pos","p":[19,70,910]},"\"}"]},"f":["Upload to Empty Slot"]}],"n":50,"x":{"r":["id"],"s":"_0==\"null\""},"p":[18,7,820]},{"t":4,"n":51,"f":[{"p":[21,8,976],"t":7,"e":"ui-button","a":{"action":"select_design","params":["{\"id\": \"",{"t":2,"r":"id","p":[21,58,1026]},"\"}"],"state":[{"t":2,"x":{"r":["data.sdesign_id","id"],"s":"_0==_1?\"selected\":null"},"p":[21,75,1043]}]},"f":[{"t":2,"r":"name","p":[21,122,1090]}]}," ",{"p":[22,8,1118],"t":7,"e":"ui-button","a":{"action":"ddisk_erasepos","style":"danger","params":["{\"id\": \"",{"t":2,"r":"id","p":[22,74,1184]},"\"}"],"state":[{"t":2,"x":{"r":["id"],"s":"_0==\"null\"?\"disabled\":null"},"p":[22,91,1201]}]},"f":["Delete Slot"]}],"x":{"r":["id"],"s":"_0==\"null\""}}]}],"n":52,"r":"data.ddisk_designs","p":[16,5,742]}]}],"n":50,"x":{"r":["data.ddisk_upload"],"s":"!_0"},"p":[8,3,183]},{"t":4,"n":51,"f":[{"p":[28,4,1340],"t":7,"e":"ui-display","a":{"title":"Upload Design to Disk"},"f":[{"p":[28,46,1382],"t":7,"e":"ui-section","f":["Available Designs:"]}]}," ",{"t":4,"f":[{"p":[30,5,1484],"t":7,"e":"ui-section","f":[{"p":[30,17,1496],"t":7,"e":"ui-button","a":{"action":"ddisk_uploaddesign","params":["{\"id\": \"",{"t":2,"r":"id","p":[30,72,1551]},"\"}"]},"f":[{"t":2,"r":"name","p":[30,82,1561]}]}]}],"n":52,"r":"data.ddisk_possible_designs","p":[29,4,1442]}],"x":{"r":["data.ddisk_upload"],"s":"!_0"}}],"r":"data.ddisk_update"}],"x":{"r":["data.ddisk"],"s":"!_0"}}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],445:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[3,2,22],"t":7,"e":"ui-display","a":{"title":"No Technology Disk Loaded"}}],"n":50,"x":{"r":["data.tdisk"],"s":"!_0"},"p":[2,1,1]},{"t":4,"n":51,"f":[{"t":4,"f":[{"p":[6,3,120],"t":7,"e":"ui-display","a":{"title":"Technology Disk Updating"}}],"n":50,"r":"data.tdisk_update","p":[5,2,92]},{"t":4,"n":51,"f":[{"p":[8,3,191],"t":7,"e":"ui-display","a":{"title":"Technology Disk"},"f":[{"p":[9,4,231],"t":7,"e":"ui-section","a":{"title":"Disk IO"},"f":[{"p":[9,32,259],"t":7,"e":"ui-button","a":{"action":"tdisk_down"},"f":["Download Research to Disk"]},{"p":[9,100,327],"t":7,"e":"ui-button","a":{"action":"tdisk_up"},"f":["Upload Research from Disk"]}," ",{"p":[10,4,397],"t":7,"e":"ui-section","a":{"title":"Clear Disk"},"f":[{"p":[10,35,428],"t":7,"e":"ui-button","a":{"action":"clear_techdisk","style":"danger"},"f":["WIPE ALL DATA"]}]}," ",{"p":[11,4,520],"t":7,"e":"ui-section","a":{"title":"Eject Disk"},"f":[{"p":[11,35,551],"t":7,"e":"ui-button","a":{"action":"eject_techdisk"},"f":["Eject Disk"]}]}]}]}," ",{"p":[13,3,640],"t":7,"e":"ui-display","a":{"title":"Disk Contents"},"f":[{"t":4,"f":[{"p":[15,5,709],"t":7,"e":"ui-button","a":{"action":"select_node","params":["{\"id\": \"",{"t":2,"r":"id","p":[15,53,757]},"\"}"],"state":[{"t":2,"x":{"r":["data.snode_id","id"],"s":"_0==_1?\"selected\":null"},"p":[15,70,774]}]},"f":[{"t":2,"r":"display_name","p":[15,115,819]}]}],"n":52,"r":"data.tdisk_nodes","p":[14,4,678]}]}],"r":"data.tdisk_update"}],"x":{"r":["data.tdisk"],"s":"!_0"}}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],446:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,2,28],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"data.snode_name","p":[2,21,47]}]},"f":[{"p":[3,3,71],"t":7,"e":"ui-section","a":{"title":"Description"},"f":["Description: ",{"t":2,"r":"data.snode_desc","p":[3,48,116]}]}," ",{"p":[4,3,151],"t":7,"e":"ui-section","a":{"title":"Point Cost"},"f":["Point Cost: ",{"t":2,"r":"data.snode_cost","p":[4,46,194]}]}," ",{"p":[5,3,229],"t":7,"e":"ui-section","a":{"title":"Export Price"},"f":["Export Price: ",{"t":2,"r":"data.snode_export","p":[5,50,276]}]}," ",{"p":[6,3,313],"t":7,"e":"ui-button","a":{"action":"research_node","params":["{\"id\"=\"",{"t":2,"r":"id","p":[6,52,362]},"\"}"],"state":[{"t":2,"x":{"r":["data.snode_researched"],"s":"_0?\"disabled\":null"},"p":[6,69,379]}]},"f":[{"t":2,"x":{"r":["data.snode_researched"],"s":"_0?\"Researched\":\"Research Node\""},"p":[6,115,425]}]}]}," ",{"p":[8,2,511],"t":7,"e":"ui-display","a":{"title":"Prerequisites"},"f":[{"t":4,"f":[{"p":[10,4,579],"t":7,"e":"ui-button","a":{"action":"select_node","params":["{\"id\": \"",{"t":2,"r":"id","p":[10,52,627]},"\"}"],"state":[{"t":2,"x":{"r":["data.snode_id","id"],"s":"_0==_1?\"selected\":null"},"p":[10,69,644]}]},"f":[{"t":2,"r":"display_name","p":[10,114,689]}]}],"n":52,"r":"data.node_prereqs","p":[9,3,548]}]}," ",{"p":[13,2,747],"t":7,"e":"ui-display","a":{"title":"Unlocks"},"f":[{"t":4,"f":[{"p":[15,4,809],"t":7,"e":"ui-button","a":{"action":"select_node","params":["{\"id\": \"",{"t":2,"r":"id","p":[15,52,857]},"\"}"],"state":[{"t":2,"x":{"r":["data.snode_id","id"],"s":"_0==_1?\"selected\":null"},"p":[15,69,874]}]},"f":[{"t":2,"r":"display_name","p":[15,114,919]}]}],"n":52,"r":"data.node_unlocks","p":[14,3,778]}]}," ",{"p":[18,2,977],"t":7,"e":"ui-display","a":{"title":"Designs"},"f":[{"t":4,"f":[{"p":[20,4,1039],"t":7,"e":"ui-button","a":{"action":"select_design","params":["{\"id\": \"",{"t":2,"r":"id","p":[20,54,1089]},"\"}"],"state":[{"t":2,"x":{"r":["data.sdesign_id","id"],"s":"_0==_1?\"selected\":null"},"p":[20,71,1106]}]},"f":[{"t":2,"r":"name","p":[20,118,1153]}]}],"n":52,"r":"data.node_designs","p":[19,3,1008]}]}],"n":50,"r":"data.node_selected","p":[1,1,0]},{"t":4,"f":[{"p":[25,2,1239],"t":7,"e":"ui-display","a":{"title":"No Node Selected."}}],"n":50,"x":{"r":["data.node_selected"],"s":"!_0"},"p":[24,1,1210]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],447:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"t":4,"f":[{"p":[3,3,57],"t":7,"e":"ui-display","a":{"title":"Protolathe Busy!"}}],"n":50,"r":"data.protobusy","p":[2,2,32]},{"t":4,"n":51,"f":[{"p":[5,3,120],"t":7,"e":"ui-display","f":[{"p":[6,4,136],"t":7,"e":"ui-section","f":["Search Available Designs: ",{"p":[7,4,177],"t":7,"e":"input","a":{"value":[{"t":2,"r":"textsearch","p":[7,17,190]}],"placeholder":"Type Here","class":"text"}}," ",{"p":[8,5,248],"t":7,"e":"ui-button","a":{"action":"textSearch","params":["{\"latheType\" : \"proto\", \"inputText\" : ",{"t":2,"r":"textsearch","p":[8,82,325]},"}"]},"f":["Search"]}]}," ",{"p":[10,4,381],"t":7,"e":"ui-section","f":["Materials: ",{"t":2,"r":"data.protomats","p":[10,27,404]}," / ",{"t":2,"r":"data.protomaxmats","p":[10,48,425]}]}," ",{"p":[11,4,463],"t":7,"e":"ui-section","f":["Reagents: ",{"t":2,"r":"data.protochems","p":[11,26,485]}," / ",{"t":2,"r":"data.protomaxchems","p":[11,48,507]}]}," ",{"p":[12,3,545],"t":7,"e":"ui-display","f":[{"p":[14,3,561],"t":7,"e":"ui-tabs","a":{"tabs":[{"t":2,"r":"data.lathe_tabs","p":[14,18,576]}]},"f":[{"p":[15,4,601],"t":7,"e":"tab","a":{"name":"Category List"},"f":[{"t":4,"f":[{"p":[17,6,662],"t":7,"e":"ui-button","a":{"action":"switchcat","state":[{"t":2,"x":{"r":["data.protocat","name"],"s":"_0==_1?\"selected\":null"},"p":[17,43,699]}],"params":["{\"type\" : \"proto\", \"cat\" : \"",{"t":2,"r":"name","p":[17,125,781]},"\"}"]},"f":[{"t":2,"r":"name","p":[17,137,793]}]}],"n":52,"r":"data.protocats","p":[16,5,632]}]}," ",{"p":[20,4,841],"t":7,"e":"tab","a":{"name":"Selected Category"},"f":[{"t":4,"f":[{"p":[22,6,905],"t":7,"e":"ui-section","f":[{"t":2,"r":"name","p":[22,18,917]},{"t":2,"r":"matstring","p":[22,26,925]}," ",{"t":4,"f":[{"p":[24,8,973],"t":7,"e":"input","a":{"value":[{"t":2,"r":"number","p":[24,21,986]}],"placeholder":["1-",{"t":2,"x":{"r":["canprint"],"s":"_0>10?10:_0"},"p":[24,47,1012]}],"class":"number"}}],"n":50,"x":{"r":["canprint"],"s":"_0>1"},"p":[23,7,945]}," ",{"p":[26,7,1083],"t":7,"e":"ui-button","a":{"action":"print","state":[{"t":2,"x":{"r":["canprint"],"s":"_0>1?null:\"disabled\""},"p":[26,40,1116]}],"params":["{\"latheType\" : \"proto\", \"id\" : \"",{"t":2,"r":"id","p":[26,117,1193]},"\", \"amount\" : \"",{"t":2,"r":"number","p":[26,138,1214]},"\"}"]},"f":["Print"]}]}],"n":52,"r":"data.protodes","p":[21,5,876]}]}," ",{"p":[30,4,1292],"t":7,"e":"tab","a":{"name":"Search Results"},"f":[{"t":4,"f":[{"p":[32,6,1355],"t":7,"e":"ui-section","f":[{"t":2,"r":"name","p":[32,18,1367]},{"t":2,"r":"matstring","p":[32,26,1375]}," ",{"t":4,"f":[{"p":[34,8,1423],"t":7,"e":"input","a":{"value":[{"t":2,"r":"number","p":[34,21,1436]}],"placeholder":["1-",{"t":2,"x":{"r":["canprint"],"s":"_0>10?10:_0"},"p":[34,47,1462]}],"class":"number"}}],"n":50,"x":{"r":["canprint"],"s":"_0>1"},"p":[33,7,1395]}," ",{"p":[36,7,1533],"t":7,"e":"ui-button","a":{"action":"print","state":[{"t":2,"x":{"r":["canprint"],"s":"_0>1?null:\"disabled\""},"p":[36,40,1566]}],"params":["{\"latheType\" : \"proto\", \"id\" : \"",{"t":2,"r":"id","p":[36,117,1643]},"\", \"amount\" : \"",{"t":2,"r":"number","p":[36,138,1664]},"\"}"]},"f":["Print"]}]}],"n":52,"r":"data.protomatch","p":[31,5,1324]}]}," ",{"p":[40,4,1742],"t":7,"e":"tab","a":{"name":"Materials"},"f":[{"t":4,"f":[{"p":[42,6,1803],"t":7,"e":"ui-section","f":[{"t":2,"r":"name","p":[42,18,1815]}," : ",{"t":2,"r":"amount","p":[42,29,1826]}," cm3 - ",{"t":4,"f":[{"p":[44,7,1874],"t":7,"e":"input","a":{"value":[{"t":2,"r":"number","p":[44,20,1887]}],"placeholder":["1-",{"t":2,"r":"sheets","p":[44,46,1913]}],"class":"number"}}," ",{"p":[45,7,1948],"t":7,"e":"ui-button","a":{"action":"releasemats","params":["{\"latheType\" : \"proto\", \"mat_id\" : ",{"t":2,"r":"mat_id","p":[45,82,2023]},", \"sheets\" : ",{"t":2,"r":"number","p":[45,105,2046]},"}"]},"f":["Release"]}],"n":50,"x":{"r":["sheets"],"s":"_0>0"},"p":[43,6,1849]}]}],"n":52,"r":"data.protomat_list","p":[41,5,1769]}]}," ",{"p":[50,4,2138],"t":7,"e":"tab","a":{"name":"Chemicals"},"f":[{"t":4,"f":[{"p":[52,6,2200],"t":7,"e":"ui-section","f":[{"t":2,"r":"name","p":[52,18,2212]}," : ",{"t":2,"r":"amount","p":[52,29,2223]}," - ",{"p":[53,7,2243],"t":7,"e":"ui-button","a":{"action":"purgechem","params":["{\"latheType\" : \"proto\", \"name\" : ",{"t":2,"r":"name","p":[53,78,2314]},", \"id\" : ",{"t":2,"r":"reagentid","p":[53,95,2331]},"}"]},"f":["Purge"]}]}],"n":52,"r":"data.protochem_list","p":[51,5,2165]}]}]}]}]}],"r":"data.protobusy"}],"n":50,"r":"data.protolathe_linked","p":[1,1,0]},{"t":4,"n":51,"f":[{"p":[61,2,2444],"t":7,"e":"ui-display","a":{"title":"No Linked Protolathe"}}],"r":"data.protolathe_linked"}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],448:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,1,13],"t":7,"e":"span","a":{"class":"memoedit"},"f":["Nanotrasen R&D Console"]},{"p":[2,53,65],"t":7,"e":"br"}," Available Points: ",{"p":[3,19,89],"t":7,"e":"ui-section","a":{"title":"Research Points"},"f":[{"t":2,"r":"data.research_points_stored","p":[3,55,125]}]}," ",{"p":[4,1,170],"t":7,"e":"ui-section","a":{"title":["Page Selection - ",{"t":2,"r":"page","p":[4,37,206]}]},"f":[{"p":[4,47,216],"t":7,"e":"input","a":{"value":[{"t":2,"r":"pageselect","p":[4,60,229]}],"placeholder":"1","class":"number"}}," Select Page: ",{"p":[5,14,290],"t":7,"e":"ui-button","a":{"action":"page","params":["{\"num\" : \"",{"t":2,"r":"pageselect","p":[5,57,333]},"\"}"]},"f":["[Go]"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],449:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"span","a":{"class":"bad"},"f":["Settings"]},{"p":[1,34,33],"t":7,"e":"br"},{"p":[1,39,38],"t":7,"e":"br"}," ",{"p":[2,1,44],"t":7,"e":"ui-button","a":{"action":"Resync"},"f":["RESYNC MACHINERY"]},{"p":[2,56,99],"t":7,"e":"br"}," ",{"p":[3,1,105],"t":7,"e":"ui-button","a":{"action":"Lock"},"f":["LOCK"]}," ",{"p":[4,1,147],"t":7,"e":"ui-button","a":{"action":"disconnect","params":"{\"type\" : \"destroy\"}","state":[{"t":2,"x":{"r":["data.destroy_linked"],"s":"_0?null:\"disabled\""},"p":[4,71,217]}]},"f":["Disconnect Destructive Analyzer"]}," ",{"p":[5,1,305],"t":7,"e":"ui-button","a":{"action":"disconnect","params":"{\"type\" : \"lathe\"}","state":[{"t":2,"x":{"r":["data.protolathe_linked"],"s":"_0?null:\"disabled\""},"p":[5,69,373]}]},"f":["Disconnect Protolathe"]}," ",{"p":[6,1,454],"t":7,"e":"ui-button","a":{"action":"disconnect","params":"{\"type\" : \"imprinter\"}","state":[{"t":2,"x":{"r":["data.circuit_linked"],"s":"_0?null:\"disabled\""},"p":[6,73,526]}]},"f":["Disconnect Circuit Imprinter"]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],450:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Available for Research"},"f":[{"t":4,"f":[{"p":[3,3,76],"t":7,"e":"ui-button","a":{"action":"select_node","params":["{\"id\": \"",{"t":2,"r":"id","p":[3,51,124]},"\"}"],"state":[{"t":2,"x":{"r":["data.snode_id","id"],"s":"_0==_1?\"selected\":null"},"p":[3,68,141]}]},"f":[{"t":2,"r":"display_name","p":[3,113,186]}]}],"n":52,"r":"data.techweb_avail","p":[2,2,45]}]}," ",{"p":[6,1,240],"t":7,"e":"ui-display","a":{"title":"Locked Nodes"},"f":[{"t":4,"f":[{"p":[8,3,307],"t":7,"e":"ui-button","a":{"action":"select_node","params":["{\"id\": \"",{"t":2,"r":"id","p":[8,51,355]},"\"}"],"state":[{"t":2,"x":{"r":["data.snode_id","id"],"s":"_0==_1?\"selected\":null"},"p":[8,68,372]}]},"f":[{"t":2,"r":"display_name","p":[8,113,417]}]}],"n":52,"r":"data.techweb_locked","p":[7,2,275]}]}," ",{"p":[11,1,472],"t":7,"e":"ui-display","a":{"title":"Researched Nodes"},"f":[{"t":4,"f":[{"p":[13,3,547],"t":7,"e":"ui-button","a":{"action":"select_node","params":["{\"id\": \"",{"t":2,"r":"id","p":[13,51,595]},"\"}"],"state":[{"t":2,"x":{"r":["data.snode_id","id"],"s":"_0==_1?\"selected\":null"},"p":[13,68,612]}]},"f":[{"t":2,"r":"display_name","p":[13,113,657]}]}],"n":52,"r":"data.techweb_researched","p":[12,2,511]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],451:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Direction"},"f":[{"t":4,"f":[{"p":[3,3,62],"t":7,"e":"ui-section","f":[{"t":4,"f":[{"p":[5,5,101],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["selected"],"s":"_0?\"selected\":null"},"p":[5,23,119]}],"action":"setdir","params":["{\"dir\": ",{"t":2,"r":"dir","p":[6,22,190]},", \"flipped\": ",{"t":2,"r":"flipped","p":[6,42,210]},"}"]},"f":[{"p":[6,56,224],"t":7,"e":"span","a":{"class":["pipes32x32 ",{"t":2,"r":"dir","p":[6,80,248]},"-",{"t":2,"r":"icon_state","p":[6,88,256]}],"title":[{"t":2,"r":"dir_name","p":[6,111,279]}]}}]}],"n":52,"r":"previews","p":[4,4,78]}]}],"n":52,"r":"data.preview_rows","p":[2,2,32]}]}," ",{"t":4,"f":[{"p":[12,2,395],"t":7,"e":"ui-display","a":{"title":"Color"},"f":[{"t":4,"f":[{"p":[14,4,455],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["@key","data.selected_color"],"s":"_0==_1?\"selected\":null"},"p":[14,22,473]}],"action":"color","params":["{\"paint_color\": ",{"t":2,"r":"@key","p":[15,44,569]},"}"]},"f":[{"t":2,"r":"@key","p":[15,55,580]}]}],"n":52,"r":"data.paint_colors","p":[13,3,424]}]}],"n":50,"x":{"r":["data.category"],"s":"_0==0"},"p":[11,1,367]},{"t":4,"f":[{"p":[20,2,664],"t":7,"e":"ui-display","a":{"title":"Color"},"f":[{"t":4,"f":[{"p":[22,4,724],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["@key","data.selected_color"],"s":"_0==_1?\"selected\":null"},"p":[22,22,742]}],"action":"color","params":["{\"paint_color\": ",{"t":2,"r":"@key","p":[23,44,838]},"}"]},"f":[{"t":2,"r":"@key","p":[23,55,849]}]}],"n":52,"r":"data.paint_colors","p":[21,3,693]}]}],"n":50,"x":{"r":["data.category"],"s":"_0==3"},"p":[19,1,636]},{"p":[27,1,905],"t":7,"e":"ui-display","a":{"title":"Utilities"},"f":[{"p":[28,2,937],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.mode"],"s":"_0&1?\"check-square-o\":\"square-o\""},"p":[28,19,954]}],"action":"mode","params":"{\"mode\": 1}"},"f":["Build"]}," ",{"p":[30,2,1061],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.mode"],"s":"_0&2?\"check-square-o\":\"square-o\""},"p":[30,19,1078]}],"action":"mode","params":"{\"mode\": 2}"},"f":["Wrench"]}," ",{"p":[32,2,1186],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.mode"],"s":"_0&4?\"check-square-o\":\"square-o\""},"p":[32,19,1203]}],"action":"mode","params":"{\"mode\": 4}"},"f":["Destroy"]}," ",{"t":4,"f":[{"p":[35,3,1341],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.mode"],"s":"_0&8?\"check-square-o\":\"square-o\""},"p":[35,20,1358]}],"action":"mode","params":"{\"mode\": 8}"},"f":["Paint"]}],"n":50,"x":{"r":["data.category"],"s":"_0==0"},"p":[34,2,1312]}]}," ",{"t":4,"f":[{"p":[40,2,1514],"t":7,"e":"ui-display","a":{"title":"Category"},"f":[{"p":[41,3,1546],"t":7,"e":"ui-section","f":[{"p":[42,4,1562],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.category"],"s":"_0==0?\"check-square-o\":\"square-o\""},"p":[42,21,1579]}],"state":[{"t":2,"x":{"r":["data.category"],"s":"_0<=0?\"selected\":null"},"p":[42,84,1642]}],"action":"category","params":"{\"category\": 0}"},"f":["Atmospherics"]}," ",{"p":[44,4,1761],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.category"],"s":"_0==1?\"check-square-o\":\"square-o\""},"p":[44,21,1778]}],"state":[{"t":2,"x":{"r":["data.category"],"s":"_0==1?\"selected\":null"},"p":[44,84,1841]}],"action":"category","params":"{\"category\": 1}"},"f":["Disposals"]}," ",{"p":[46,4,1957],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.category"],"s":"_0==2?\"check-square-o\":\"square-o\""},"p":[46,21,1974]}],"state":[{"t":2,"x":{"r":["data.category"],"s":"_0==2?\"selected\":null"},"p":[46,84,2037]}],"action":"category","params":"{\"category\": 2}"},"f":["Transit Tubes"]}]}]}],"n":50,"x":{"r":["data.locked"],"s":"_0==0"},"p":[39,1,1488]},{"t":4,"f":[{"p":[52,2,2221],"t":7,"e":"ui-section","a":{"label":"Piping Layer"},"f":[{"p":[53,3,2257],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.piping_layer"],"s":"_0==1?\"selected\":null"},"p":[53,21,2275]}],"action":"piping_layer","params":"{\"piping_layer\": 1}"},"f":["1"]}," ",{"p":[55,3,2393],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.piping_layer"],"s":"_0==2?\"selected\":null"},"p":[55,21,2411]}],"action":"piping_layer","params":"{\"piping_layer\": 2}"},"f":["2"]}," ",{"p":[57,3,2529],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.piping_layer"],"s":"_0==3?\"selected\":null"},"p":[57,21,2547]}],"action":"piping_layer","params":"{\"piping_layer\": 3}"},"f":["3"]}]}],"n":50,"x":{"r":["data.category"],"s":"_0==0"},"p":[51,1,2193]},{"t":4,"f":[{"p":[62,2,2714],"t":7,"e":"ui-section","a":{"label":"Ducting Layer"},"f":[{"p":[63,3,2751],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.ducting_layer"],"s":"_0==1?\"selected\":null"},"p":[63,21,2769]}],"action":"ducting_layer","params":"{\"ducting_layer\": 1}"},"f":["1"]}," ",{"p":[65,3,2890],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.ducting_layer"],"s":"_0==2?\"selected\":null"},"p":[65,21,2908]}],"action":"ducting_layer","params":"{\"ducting_layer\": 2}"},"f":["2"]}," ",{"p":[67,3,3029],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.ducting_layer"],"s":"_0==4?\"selected\":null"},"p":[67,21,3047]}],"action":"ducting_layer","params":"{\"ducting_layer\": 4}"},"f":["3"]}," ",{"p":[69,3,3168],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.ducting_layer"],"s":"_0==8?\"selected\":null"},"p":[69,21,3186]}],"action":"ducting_layer","params":"{\"ducting_layer\": 8}"},"f":["4"]}," ",{"p":[71,3,3307],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["data.ducting_layer"],"s":"_0==16?\"selected\":null"},"p":[71,21,3325]}],"action":"ducting_layer","params":"{\"ducting_layer\": 16}"},"f":["5"]}]}],"n":50,"x":{"r":["data.category"],"s":"_0==3"},"p":[61,1,2686]},{"t":4,"f":[{"p":[76,2,3497],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"cat_name","p":[76,21,3516]}]},"f":[{"t":4,"f":[{"p":[78,4,3554],"t":7,"e":"ui-section","f":[{"p":[79,5,3571],"t":7,"e":"ui-button","a":{"state":[{"t":2,"x":{"r":["selected"],"s":"_0?\"selected\":null"},"p":[79,23,3589]}],"action":"pipe_type","params":["{\"pipe_type\": ",{"t":2,"r":"pipe_index","p":[80,28,3669]},", \"category\": ",{"t":2,"r":"cat_name","p":[80,56,3697]},"}"]},"f":[{"t":2,"r":"pipe_name","p":[80,71,3712]}]}]}],"n":52,"r":"recipes","p":[77,3,3533]}]}],"n":52,"r":"data.categories","p":[75,1,3470]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],452:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,3,22],"t":7,"e":"ui-notice","f":[{"t":2,"r":"data.notice","p":[3,5,38]}]}],"n":50,"r":"data.notice","p":[1,1,0]},{"p":[6,1,77],"t":7,"e":"ui-display","a":{"title":"Satellite Network Control","button":0},"f":[{"t":4,"f":[{"p":[8,4,161],"t":7,"e":"ui-section","a":{"candystripe":0,"nowrap":0},"f":[{"p":[9,9,201],"t":7,"e":"div","a":{"class":"content"},"f":["#",{"t":2,"r":"id","p":[9,31,223]}]}," ",{"p":[10,9,244],"t":7,"e":"div","a":{"class":"content"},"f":[{"t":2,"r":"mode","p":[10,30,265]}]}," ",{"p":[11,9,288],"t":7,"e":"div","a":{"class":"content"},"f":[{"p":[12,11,320],"t":7,"e":"ui-button","a":{"action":"toggle","params":["{\"id\": \"",{"t":2,"r":"id","p":[12,54,363]},"\"}"]},"f":[{"t":2,"x":{"r":["active"],"s":"_0?\"Deactivate\":\"Activate\""},"p":[12,64,373]}]}]}]}],"n":52,"r":"data.satellites","p":[7,2,132]}]}," ",{"t":4,"f":[{"p":[18,1,511],"t":7,"e":"ui-display","a":{"title":"Station Shield Coverage"},"f":[{"p":[19,3,558],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.meteor_shield_coverage_max","p":[19,24,579]}],"value":[{"t":2,"r":"data.meteor_shield_coverage","p":[19,68,623]}]},"f":[{"t":2,"x":{"r":["data.meteor_shield_coverage","data.meteor_shield_coverage_max"],"s":"100*_0/_1"},"p":[19,101,656]}," %"]}," ",{"p":[20,1,739],"t":7,"e":"ui-display","f":[]}]}],"n":50,"r":"data.meteor_shield","p":[17,1,484]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],453:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Scanner Gate"},"f":[{"p":[2,2,35],"t":7,"e":"ui-section","a":{"label":"Scan Mode"},"f":[{"p":[2,32,65],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_mode"}}," ",{"t":2,"r":"data.scan_mode","p":[2,88,121]}]}," ",{"t":4,"f":[{"p":[4,3,192],"t":7,"e":"ui-section","a":{"label":"Disease Severity"},"f":[{"p":[4,40,229],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_disease_threshold"}}," ",{"t":2,"r":"data.disease_threshold","p":[4,109,298]}]}],"n":50,"x":{"r":["data.scan_mode"],"s":"_0==\"Disease\""},"p":[3,2,154]}," ",{"t":4,"f":[{"p":[7,3,386],"t":7,"e":"ui-section","a":{"label":"Cloud ID"},"f":[{"p":[7,32,415],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_nanite_cloud"}}," ",{"t":2,"r":"data.nanite_cloud","p":[7,96,479]}]}],"n":50,"x":{"r":["data.scan_mode"],"s":"_0==\"Nanites\""},"p":[6,2,348]}," ",{"t":4,"f":[{"p":[10,3,562],"t":7,"e":"ui-section","a":{"label":"Target Species"},"f":[{"p":[10,38,597],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_target_species"}}," ",{"t":2,"r":"data.target_species","p":[10,104,663]}]}],"n":50,"x":{"r":["data.scan_mode"],"s":"_0==\"Species\""},"p":[9,2,524]}," ",{"t":4,"f":[{"p":[13,3,748],"t":7,"e":"ui-section","a":{"label":"Hygiene Level"},"f":[{"p":[13,37,782],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_target_hygiene"}}," ",{"t":2,"r":"data.target_hygiene","p":[13,103,848]}]}],"n":50,"x":{"r":["data.scan_mode"],"s":"_0==\"Hygiene\""},"p":[12,2,710]}," ",{"t":4,"f":[{"p":[16,3,935],"t":7,"e":"ui-section","a":{"label":"Nutrition Level"},"f":[{"p":[16,39,971],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"set_target_nutrition"}}," ",{"t":2,"r":"data.target_nutrition","p":[16,107,1039]}]}],"n":50,"x":{"r":["data.scan_mode"],"s":"_0==\"Nutrition\""},"p":[15,2,895]}," ",{"p":[18,5,1091],"t":7,"e":"ui-section","f":[{"p":[18,17,1103],"t":7,"e":"ui-button","a":{"tooltip":"If inverted, the gate will detect all entities that do NOT meet the set requirements.","tooltip-side":"right","action":"toggle_reverse"},"f":[{"t":2,"x":{"r":["data.reverse"],"s":"_0?\"Inverted Scan\":\"Regular Scan\""},"p":[18,169,1255]}]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],454:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,3,25],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["enabled"],"s":"_0?\"check-square-o\":\"square-o\""},"p":[2,20,42]}],"style":[{"t":2,"x":{"r":["enabled"],"s":"_0?\"selected\":null"},"p":[2,72,94]}],"action":"toggle_filter","params":["{\"id_tag\": \"",{"t":2,"r":"id_tag","p":[3,48,174]},"\", \"val\": ",{"t":2,"r":"gas_id","p":[3,68,194]},"}"]},"f":[{"t":2,"r":"gas_name","p":[3,81,207]}]}],"n":52,"r":"filter_types","p":[1,1,0]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],455:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[" "," "," ",{"p":[5,1,196],"t":7,"e":"ui-tabs","a":{"tabs":[{"t":2,"r":"data.tabs","p":[5,16,211]}]},"f":[{"p":[6,2,228],"t":7,"e":"tab","a":{"name":"Status"},"f":[{"p":[7,3,250],"t":7,"e":"status"}]}," ",{"p":[9,2,269],"t":7,"e":"tab","a":{"name":"Templates"},"f":[{"p":[10,3,294],"t":7,"e":"templates"}]}," ",{"p":[12,2,316],"t":7,"e":"tab","a":{"name":"Modification"},"f":[{"t":4,"f":[{"p":[14,3,368],"t":7,"e":"modification"}],"n":50,"r":"data.selected","p":[13,3,344]}," ",{"t":4,"f":[{"p":[17,3,421],"t":7,"e":"span","a":{"class":"bad"},"f":["No shuttle selected."]}],"n":50,"x":{"r":["data.selected"],"s":"!_0"},"p":[16,3,396]}]}]}]};
component.exports.components = component.exports.components || {};
var components = {
  "modification": require("./shuttle_manipulator/modification.ract"),
  "templates": require("./shuttle_manipulator/templates.ract"),
  "status": require("./shuttle_manipulator/status.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);
},{"./shuttle_manipulator/modification.ract":456,"./shuttle_manipulator/status.ract":457,"./shuttle_manipulator/templates.ract":458,"ractive":342}],456:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":["Selected: ",{"t":2,"r":"data.selected.name","p":[1,30,29]}]},"f":[{"t":4,"f":[{"p":[3,5,94],"t":7,"e":"ui-section","a":{"label":"Description"},"f":[{"t":2,"r":"data.selected.description","p":[3,37,126]}]}],"n":50,"r":"data.selected.description","p":[2,3,56]}," ",{"t":4,"f":[{"p":[6,5,219],"t":7,"e":"ui-section","a":{"label":"Admin Notes"},"f":[{"t":2,"r":"data.selected.admin_notes","p":[6,37,251]}]}],"n":50,"r":"data.selected.admin_notes","p":[5,3,181]}]}," ",{"t":4,"f":[{"p":[11,3,351],"t":7,"e":"ui-display","a":{"title":["Existing Shuttle: ",{"t":2,"r":"data.existing_shuttle.name","p":[11,40,388]}]},"f":["Status: ",{"t":2,"r":"data.existing_shuttle.status","p":[12,13,433]}," ",{"t":4,"f":["(",{"t":2,"r":"data.existing_shuttle.timeleft","p":[14,8,513]},")"],"n":50,"r":"data.existing_shuttle.timer","p":[13,5,470]}," ",{"p":[16,5,565],"t":7,"e":"ui-button","a":{"action":"jump_to","params":["{\"type\": \"mobile\", \"id\": \"",{"t":2,"r":"data.existing_shuttle.id","p":[17,41,633]},"\"}"]},"f":["Jump To"]}]}],"n":50,"r":"data.existing_shuttle","p":[10,1,319]},{"t":4,"f":[{"p":[24,3,755],"t":7,"e":"ui-display","a":{"title":"Existing Shuttle: None"}}],"n":50,"x":{"r":["data.existing_shuttle"],"s":"!_0"},"p":[23,1,722]},{"p":[27,1,821],"t":7,"e":"ui-button","a":{"action":"preview","params":["{\"shuttle_id\": \"",{"t":2,"r":"data.selected.shuttle_id","p":[28,27,875]},"\"}"]},"f":["Preview"]}," ",{"p":[31,1,931],"t":7,"e":"ui-button","a":{"action":"load","params":["{\"shuttle_id\": \"",{"t":2,"r":"data.selected.shuttle_id","p":[32,27,982]},"\"}"],"style":"danger"},"f":["Load"]}," ",{"p":[37,1,1053],"t":7,"e":"ui-display","a":{"title":"Status"},"f":[]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],457:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"table","a":{"width":"100%"},"f":[{"t":4,"f":[{"p":[3,3,47],"t":7,"e":"tr","f":[{"p":[4,5,56],"t":7,"e":"td","f":[{"p":[5,7,67],"t":7,"e":"ui-button","a":{"action":"jump_to","params":["{\"type\": \"mobile\", \"id\": \"",{"t":2,"r":"id","p":[5,69,129]},"\"}"]},"f":["JMP"]}]}," ",{"p":[9,5,185],"t":7,"e":"td","f":[{"p":[10,7,196],"t":7,"e":"ui-button","a":{"action":"fly","params":["{\"id\": \"",{"t":2,"r":"id","p":[10,47,236]},"\"}"],"state":[{"t":2,"x":{"r":["can_fly"],"s":"_0?null:\"disabled\""},"p":[10,64,253]}]},"f":["Fly"]}]}," ",{"p":[14,5,332],"t":7,"e":"td","f":[{"t":2,"r":"name","p":[15,7,343]}," (",{"p":[15,17,353],"t":7,"e":"code","f":[{"t":2,"r":"id","p":[15,23,359]}]},")"]}," ",{"p":[17,5,388],"t":7,"e":"td","f":[{"t":2,"r":"status","p":[18,7,399]}]}," ",{"p":[20,5,424],"t":7,"e":"td","f":[{"t":4,"f":[{"t":2,"r":"mode","p":[22,9,456]}],"n":50,"r":"mode","p":[21,7,435]}," ",{"t":4,"f":["(",{"t":2,"r":"timeleft","p":[25,10,508]},") ",{"p":[26,9,530],"t":7,"e":"ui-button","a":{"action":"fast_travel","params":["{\"id\": \"",{"t":2,"r":"id","p":[26,57,578]},"\"}"],"state":[{"t":2,"x":{"r":["can_fast_travel"],"s":"_0?null:\"disabled\""},"p":[26,74,595]}]},"f":["Fast Travel"]}],"n":50,"r":"timer","p":[24,7,485]}]}]}],"n":52,"r":"data.shuttles","p":[2,1,21]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],458:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-tabs","a":{"tabs":[{"t":2,"r":"data.templates_tabs","p":[1,16,15]}]},"f":[{"t":4,"f":[{"p":[3,5,72],"t":7,"e":"tab","a":{"name":[{"t":2,"r":"port_id","p":[3,16,83]}]},"f":[{"t":4,"f":[{"p":[5,9,131],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"name","p":[5,28,150]}]},"f":[{"t":4,"f":[{"p":[7,13,203],"t":7,"e":"ui-section","a":{"label":"Description"},"f":[{"t":2,"r":"description","p":[7,45,235]}]}],"n":50,"r":"description","p":[6,11,171]}," ",{"t":4,"f":[{"p":[10,13,324],"t":7,"e":"ui-section","a":{"label":"Admin Notes"},"f":[{"t":2,"r":"admin_notes","p":[10,45,356]}]}],"n":50,"r":"admin_notes","p":[9,11,292]}," ",{"p":[13,11,414],"t":7,"e":"ui-button","a":{"action":"select_template","params":["{\"shuttle_id\": \"",{"t":2,"r":"shuttle_id","p":[14,37,486]},"\"}"],"state":[{"t":2,"x":{"r":["data.selected.shuttle_id","shuttle_id"],"s":"_0==_1?\"selected\":null"},"p":[15,20,523]}]},"f":[{"t":2,"x":{"r":["data.selected.shuttle_id","shuttle_id"],"s":"_0==_1?\"Selected\":\"Select\""},"p":[17,13,614]}]}]}],"n":52,"r":"templates","p":[4,7,103]}]}],"n":52,"r":"data.templates","p":[2,3,43]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],459:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Occupant"},"f":[{"p":[2,3,33],"t":7,"e":"ui-section","a":{"label":"Occupant"},"f":[{"p":[3,3,66],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.occupant.name"],"s":"_0?_0:\"No Occupant\""},"p":[3,9,72]}]}]}," ",{"t":4,"f":[{"p":[6,5,186],"t":7,"e":"ui-section","a":{"label":"State"},"f":[{"p":[7,7,220],"t":7,"e":"span","a":{"class":[{"t":2,"r":"data.occupant.statstate","p":[7,20,233]}]},"f":[{"t":2,"r":"data.occupant.stat","p":[7,49,262]}]}]}," ",{"p":[9,5,315],"t":7,"e":"ui-section","a":{"label":"Health"},"f":[{"p":[10,7,350],"t":7,"e":"ui-bar","a":{"min":[{"t":2,"r":"data.occupant.minHealth","p":[10,20,363]}],"max":[{"t":2,"r":"data.occupant.maxHealth","p":[10,54,397]}],"value":[{"t":2,"r":"data.occupant.health","p":[10,90,433]}],"state":[{"t":2,"x":{"r":["data.occupant.health"],"s":"_0>=0?\"good\":\"average\""},"p":[11,16,475]}]},"f":[{"t":2,"x":{"r":["adata.occupant.health"],"s":"Math.round(_0)"},"p":[11,68,527]}]}]}," ",{"t":4,"f":[{"p":[14,7,764],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"label","p":[14,26,783]}]},"f":[{"p":[15,9,804],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.occupant.maxHealth","p":[15,30,825]}],"value":[{"t":2,"rx":{"r":"data.occupant","m":[{"t":30,"n":"type"}]},"p":[15,66,861]}],"state":"bad"},"f":[{"t":2,"x":{"r":["type","adata.occupant"],"s":"Math.round(_1[_0])"},"p":[15,103,898]}]}]}],"n":52,"x":{"r":[],"s":"[{label:\"Brute\",type:\"bruteLoss\"},{label:\"Respiratory\",type:\"oxyLoss\"},{label:\"Toxin\",type:\"toxLoss\"},{label:\"Burn\",type:\"fireLoss\"}]"},"p":[13,5,598]}," ",{"p":[18,5,985],"t":7,"e":"ui-section","a":{"label":"Cells"},"f":[{"p":[19,9,1021],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.occupant.cloneLoss"],"s":"_0?\"bad\":\"good\""},"p":[19,22,1034]}]},"f":[{"t":2,"x":{"r":["data.occupant.cloneLoss"],"s":"_0?\"Damaged\":\"Healthy\""},"p":[19,68,1080]}]}]}," ",{"p":[21,5,1163],"t":7,"e":"ui-section","a":{"label":"Brain"},"f":[{"p":[22,9,1199],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.occupant.brainLoss"],"s":"_0?\"bad\":\"good\""},"p":[22,22,1212]}]},"f":[{"t":2,"x":{"r":["data.occupant.brainLoss"],"s":"_0?\"Abnormal\":\"Healthy\""},"p":[22,68,1258]}]}]}," ",{"p":[24,5,1342],"t":7,"e":"ui-section","a":{"label":"Bloodstream"},"f":[{"t":4,"f":[{"p":[26,11,1429],"t":7,"e":"span","a":{"class":"highlight"},"t0":"fade","f":[{"t":2,"x":{"r":["volume"],"s":"Math.fixed(_0,1)"},"p":[26,54,1472]}," units of ",{"t":2,"r":"name","p":[26,89,1507]}]},{"p":[26,104,1522],"t":7,"e":"br"}],"n":52,"r":"adata.occupant.reagents","p":[25,9,1384]},{"t":4,"n":51,"f":[{"p":[28,11,1557],"t":7,"e":"span","a":{"class":"good"},"f":["Pure"]}],"r":"adata.occupant.reagents"}]}],"n":50,"r":"data.occupied","p":[5,3,159]}]}," ",{"p":[33,1,1653],"t":7,"e":"ui-display","a":{"title":"Controls"},"f":[{"p":[34,2,1685],"t":7,"e":"ui-section","a":{"label":"Door"},"f":[{"p":[35,5,1716],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.open"],"s":"_0?\"unlock\":\"lock\""},"p":[35,22,1733]}],"action":"door"},"f":[{"t":2,"x":{"r":["data.open"],"s":"_0?\"Open\":\"Closed\""},"p":[35,71,1782]}]}]}," ",{"p":[37,3,1847],"t":7,"e":"ui-section","a":{"label":"Inject"},"f":[{"t":4,"f":[{"p":[39,7,1908],"t":7,"e":"ui-button","a":{"icon":"flask","state":[{"t":2,"x":{"r":["data.occupied","allowed"],"s":"_0&&_1?null:\"disabled\""},"p":[39,38,1939]}],"action":"inject","params":["{\"chem\": \"",{"t":2,"r":"id","p":[39,122,2023]},"\"}"]},"f":[{"t":2,"r":"name","p":[39,132,2033]}]},{"p":[39,152,2053],"t":7,"e":"br"}],"n":52,"r":"data.chems","p":[38,5,1880]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],460:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,3,24],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[2,22,43]}],"labelcolor":[{"t":2,"r":"htmlcolor","p":[2,44,65]}],"candystripe":0,"right":0},"f":[{"p":[3,5,103],"t":7,"e":"ui-section","a":{"label":"Status"},"f":[{"p":[3,32,130],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["status"],"s":"_0==\"Dead\"?\"bad bold\":_0==\"Unconscious\"?\"average bold\":\"good\""},"p":[3,45,143]}]},"f":[{"t":2,"r":"status","p":[3,132,230]}]}]}," ",{"p":[4,5,265],"t":7,"e":"ui-section","a":{"label":"Jelly"},"f":[{"t":2,"r":"exoticblood","p":[4,31,291]}]}," ",{"p":[5,5,324],"t":7,"e":"ui-section","a":{"label":"Location"},"f":[{"t":2,"r":"area","p":[5,34,353]}]}," ",{"p":[7,5,380],"t":7,"e":"ui-button","a":{"state":[{"t":2,"r":"swap_button_state","p":[8,14,404]}],"action":"swap","params":["{\"ref\": \"",{"t":2,"r":"ref","p":[9,38,464]},"\"}"]},"f":[{"t":4,"f":["You Are Here"],"n":50,"x":{"r":["occupied"],"s":"_0==\"owner\""},"p":[10,7,482]},{"t":4,"n":51,"f":[{"t":4,"f":["Occupied"],"n":50,"x":{"r":["occupied"],"s":"_0==\"stranger\""},"p":[13,9,554]},{"t":4,"n":51,"f":["Swap"],"x":{"r":["occupied"],"s":"_0==\"stranger\""}}],"x":{"r":["occupied"],"s":"_0==\"owner\""}}]}]}],"n":52,"r":"data.bodies","p":[1,1,0]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],461:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":{"button":[{"t":4,"f":[{"p":[4,23,79],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.drying"],"s":"_0?\"stop\":\"tint\""},"p":[4,40,96]}],"action":"Dry"},"f":[{"t":2,"x":{"r":["data.drying"],"s":"_0?\"Stop drying\":\"Dry\""},"p":[4,88,144]}]}],"n":50,"r":"data.isdryer","p":[4,3,59]}]},"t":7,"e":"ui-display","a":{"title":"Storage","button":0},"f":[" ",{"t":4,"f":[{"p":[7,3,252],"t":7,"e":"ui-notice","f":[{"p":[8,5,268],"t":7,"e":"span","f":["Unfortunately, this ",{"t":2,"r":"data.name","p":[8,31,294]}," is empty."]}]}],"n":50,"x":{"r":["data.contents.length"],"s":"_0==0"},"p":[6,1,216]},{"t":4,"n":51,"f":[{"p":[11,1,349],"t":7,"e":"div","a":{"class":"display tabular"},"f":[{"p":[12,2,380],"t":7,"e":"section","a":{"class":"candystripe"},"f":[{"p":[13,4,413],"t":7,"e":"section","a":{"class":"cell bold"},"f":["Item"]}," ",{"p":[16,4,467],"t":7,"e":"section","a":{"class":"cell bold"},"f":["Quantity"]}," ",{"p":[19,4,525],"t":7,"e":"section","a":{"class":"cell bold","align":"center"},"f":[{"t":4,"f":[{"t":2,"r":"data.verb","p":[20,22,589]}],"n":50,"r":"data.verb","p":[20,5,572]},{"t":4,"n":51,"f":["Dispense"],"r":"data.verb"}]}]}," ",{"t":4,"f":[{"p":[24,3,680],"t":7,"e":"section","a":{"class":"candystripe"},"f":[{"p":[25,4,713],"t":7,"e":"section","a":{"class":"cell"},"f":[{"t":2,"r":"name","p":[26,5,740]}]}," ",{"p":[28,4,766],"t":7,"e":"section","a":{"class":"cell","align":"right"},"f":[{"t":2,"r":"amount","p":[29,5,807]}]}," ",{"p":[31,4,835],"t":7,"e":"section","a":{"class":"table","alight":"right"},"f":[{"p":[32,5,878],"t":7,"e":"section","a":{"class":"cell"}}," ",{"p":[33,5,915],"t":7,"e":"section","a":{"class":"cell"},"f":[{"p":[34,6,943],"t":7,"e":"ui-button","a":{"grid":0,"action":"Release","state":[{"t":2,"x":{"r":["amount"],"s":"(_0>=1)?null:\"disabled\""},"p":[34,45,982]}],"params":["{ \"name\" : ",{"t":2,"r":"name","p":[34,102,1039]},", \"amount\" : 1 }"]},"f":["One"]}]}," ",{"p":[38,5,1114],"t":7,"e":"section","a":{"class":"cell"},"f":[{"p":[39,6,1142],"t":7,"e":"ui-button","a":{"grid":0,"action":"Release","state":[{"t":2,"x":{"r":["amount"],"s":"(_0>1)?null:\"disabled\""},"p":[39,45,1181]}],"params":["{ \"name\" : ",{"t":2,"r":"name","p":[39,101,1237]}," }"]},"f":["Many"]}]}]}]}],"n":52,"r":"data.contents","p":[23,2,654]}]}],"x":{"r":["data.contents.length"],"s":"_0==0"}}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],462:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  computed: {
    capacityPercentState: function capacityPercentState() {
      var charge = this.get('data.capacityPercent');
      if (charge > 50) return 'good';else if (charge > 15) return 'average';else return 'bad';
    },
    inputState: function inputState() {
      if (this.get('data.capacityPercent') >= 100) return 'good';else if (this.get('data.inputting')) return 'average';else return 'bad';
    },
    outputState: function outputState() {
      if (this.get('data.outputting')) return 'good';else if (this.get('data.charge') > 0) return 'average';else return 'bad';
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[24,1,640],"t":7,"e":"ui-display","a":{"title":"Storage"},"f":[{"p":[25,3,671],"t":7,"e":"ui-section","a":{"label":"Stored Energy"},"f":[{"p":[26,5,710],"t":7,"e":"ui-bar","a":{"min":"0","max":"100","value":[{"t":2,"r":"data.capacityPercent","p":[26,38,743]}],"state":[{"t":2,"r":"capacityPercentState","p":[26,71,776]}]},"f":[{"t":2,"x":{"r":["adata.capacityPercent"],"s":"Math.fixed(_0)"},"p":[26,97,802]},"%"]}]}]}," ",{"p":[29,1,880],"t":7,"e":"ui-display","a":{"title":"Input"},"f":[{"p":[30,3,909],"t":7,"e":"ui-section","a":{"label":"Charge Mode"},"f":[{"p":[31,5,946],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.inputAttempt"],"s":"_0?\"refresh\":\"close\""},"p":[31,22,963]}],"style":[{"t":2,"x":{"r":["data.inputAttempt"],"s":"_0?\"selected\":null"},"p":[31,74,1015]}],"action":"tryinput"},"f":[{"t":2,"x":{"r":["data.inputAttempt"],"s":"_0?\"Auto\":\"Off\""},"p":[32,25,1082]}]},"   [",{"p":[34,6,1149],"t":7,"e":"span","a":{"class":[{"t":2,"r":"inputState","p":[34,19,1162]}]},"f":[{"t":2,"x":{"r":["data.capacityPercent","data.inputting"],"s":"_0>=100?\"Fully Charged\":_1?\"Charging\":\"Not Charging\""},"p":[34,35,1178]}]},"]"]}," ",{"p":[36,3,1300],"t":7,"e":"ui-section","a":{"label":"Target Input"},"f":[{"p":[37,5,1338],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.inputLevelMax","p":[37,26,1359]}],"value":[{"t":2,"r":"data.inputLevel","p":[37,57,1390]}]},"f":[{"t":2,"r":"adata.inputLevel_text","p":[37,78,1411]}]}]}," ",{"p":[39,3,1463],"t":7,"e":"ui-section","a":{"label":"Adjust Input"},"f":[{"p":[40,5,1501],"t":7,"e":"ui-button","a":{"icon":"fast-backward","state":[{"t":2,"x":{"r":["data.inputLevel"],"s":"_0==0?\"disabled\":null"},"p":[40,44,1540]}],"action":"input","params":"{\"target\": \"min\"}"}}," ",{"p":[41,5,1634],"t":7,"e":"ui-button","a":{"icon":"backward","state":[{"t":2,"x":{"r":["data.inputLevel"],"s":"_0==0?\"disabled\":null"},"p":[41,39,1668]}],"action":"input","params":"{\"adjust\": -10000}"}}," ",{"p":[42,5,1763],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"input","params":"{\"target\": \"input\"}"},"f":["Set"]}," ",{"p":[43,5,1852],"t":7,"e":"ui-button","a":{"icon":"forward","state":[{"t":2,"x":{"r":["data.inputLevel","data.inputLevelMax"],"s":"_0==_1?\"disabled\":null"},"p":[43,38,1885]}],"action":"input","params":"{\"adjust\": 10000}"}}," ",{"p":[44,5,1996],"t":7,"e":"ui-button","a":{"icon":"fast-forward","state":[{"t":2,"x":{"r":["data.inputLevel","data.inputLevelMax"],"s":"_0==_1?\"disabled\":null"},"p":[44,43,2034]}],"action":"input","params":"{\"target\": \"max\"}"}}]}," ",{"p":[46,3,2159],"t":7,"e":"ui-section","a":{"label":"Available"},"f":[{"p":[47,3,2192],"t":7,"e":"span","f":[{"t":2,"r":"adata.inputAvailable","p":[47,9,2198]}]}]}]}," ",{"p":[50,1,2259],"t":7,"e":"ui-display","a":{"title":"Output"},"f":[{"p":[51,3,2289],"t":7,"e":"ui-section","a":{"label":"Output Mode"},"f":[{"p":[52,5,2326],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.outputAttempt"],"s":"_0?\"power-off\":\"close\""},"p":[52,22,2343]}],"style":[{"t":2,"x":{"r":["data.outputAttempt"],"s":"_0?\"selected\":null"},"p":[52,77,2398]}],"action":"tryoutput"},"f":[{"t":2,"x":{"r":["data.outputAttempt"],"s":"_0?\"On\":\"Off\""},"p":[53,26,2467]}]},"   [",{"p":[55,6,2533],"t":7,"e":"span","a":{"class":[{"t":2,"r":"outputState","p":[55,19,2546]}]},"f":[{"t":2,"x":{"r":["data.outputting","data.charge"],"s":"_0?\"Sending\":_1>0?\"Not Sending\":\"No Charge\""},"p":[55,36,2563]}]},"]"]}," ",{"p":[57,3,2668],"t":7,"e":"ui-section","a":{"label":"Target Output"},"f":[{"p":[58,5,2707],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"data.outputLevelMax","p":[58,26,2728]}],"value":[{"t":2,"r":"data.outputLevel","p":[58,58,2760]}]},"f":[{"t":2,"r":"adata.outputLevel_text","p":[58,80,2782]}]}]}," ",{"p":[60,3,2835],"t":7,"e":"ui-section","a":{"label":"Adjust Output"},"f":[{"p":[61,5,2874],"t":7,"e":"ui-button","a":{"icon":"fast-backward","state":[{"t":2,"x":{"r":["data.outputLevel"],"s":"_0==0?\"disabled\":null"},"p":[61,44,2913]}],"action":"output","params":"{\"target\": \"min\"}"}}," ",{"p":[62,5,3009],"t":7,"e":"ui-button","a":{"icon":"backward","state":[{"t":2,"x":{"r":["data.outputLevel"],"s":"_0==0?\"disabled\":null"},"p":[62,39,3043]}],"action":"output","params":"{\"adjust\": -10000}"}}," ",{"p":[63,5,3140],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"output","params":"{\"target\": \"input\"}"},"f":["Set"]}," ",{"p":[64,5,3230],"t":7,"e":"ui-button","a":{"icon":"forward","state":[{"t":2,"x":{"r":["data.outputLevel","data.outputLevelMax"],"s":"_0==_1?\"disabled\":null"},"p":[64,38,3263]}],"action":"output","params":"{\"adjust\": 10000}"}}," ",{"p":[65,5,3377],"t":7,"e":"ui-button","a":{"icon":"fast-forward","state":[{"t":2,"x":{"r":["data.outputLevel","data.outputLevelMax"],"s":"_0==_1?\"disabled\":null"},"p":[65,43,3415]}],"action":"output","params":"{\"target\": \"max\"}"}}]}," ",{"p":[67,3,3543],"t":7,"e":"ui-section","a":{"label":"Outputting"},"f":[{"p":[68,3,3577],"t":7,"e":"span","f":[{"t":2,"r":"adata.outputUsed","p":[68,9,3583]}]}]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],463:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":["﻿",{"t":4,"f":[" ",{"p":[2,2,32],"t":7,"e":"ui-display","a":{"title":"Dispersal Tank"},"f":[{"p":[3,3,71],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[4,4,101],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.active"],"s":"_0?\"power-off\":\"close\""},"p":[4,21,118]}],"style":[{"t":2,"x":{"r":["data.active"],"s":"_0?\"selected\":null"},"p":[5,12,170]}],"state":[{"t":2,"x":{"r":["data.isTankLoaded"],"s":"_0?null:\"disabled\""},"p":[6,12,218]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.active"],"s":"_0?\"On\":\"Off\""},"p":[7,20,280]}]}]}," ",{"p":[10,3,345],"t":7,"e":"ui-section","a":{"label":"Smoke Radius Setting"},"f":[{"p":[11,5,391],"t":7,"e":"div","a":{"class":"content","style":"float:left"},"f":[{"p":[12,6,437],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.maxSetting"],"s":"_0>=1?null:\"disabled\""},"p":[12,36,467]}],"style":[{"t":2,"x":{"r":["data.setting"],"s":"_0==1?\"selected\":null"},"p":[12,89,520]}],"action":"setting","params":"{\"amount\": 1}"},"f":["3"]}," ",{"p":[13,6,622],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.maxSetting"],"s":"_0>=2?null:\"disabled\""},"p":[13,36,652]}],"style":[{"t":2,"x":{"r":["data.setting"],"s":"_0==2?\"selected\":null"},"p":[13,89,705]}],"action":"setting","params":"{\"amount\": 2}"},"f":["6"]}," ",{"p":[14,6,807],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.maxSetting"],"s":"_0>=3?null:\"disabled\""},"p":[14,36,837]}],"style":[{"t":2,"x":{"r":["data.setting"],"s":"_0==3?\"selected\":null"},"p":[14,89,890]}],"action":"setting","params":"{\"amount\": 3}"},"f":["9"]}," ",{"p":[15,6,992],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.maxSetting"],"s":"_0>=4?null:\"disabled\""},"p":[15,36,1022]}],"style":[{"t":2,"x":{"r":["data.setting"],"s":"_0==4?\"selected\":null"},"p":[15,89,1075]}],"action":"setting","params":"{\"amount\": 4}"},"f":["12"]}," ",{"p":[16,6,1178],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.maxSetting"],"s":"_0>=5?null:\"disabled\""},"p":[16,36,1208]}],"style":[{"t":2,"x":{"r":["data.setting"],"s":"_0==5?\"selected\":null"},"p":[16,89,1261]}],"action":"setting","params":"{\"amount\": 5}"},"f":["15"]}]}]}," ",{"p":[19,3,1392],"t":7,"e":"ui-section","a":{"label":"Contents"},"f":[{"t":4,"f":[{"p":[21,6,1456],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.TankCurrentVolume"],"s":"Math.round(_0)"},"p":[21,12,1462]},"/",{"t":2,"r":"data.TankMaxVolume","p":[21,52,1502]}," Units"]}," ",{"p":[22,6,1543],"t":7,"e":"br"}," ",{"p":[23,5,1553],"t":7,"e":"br"}," ",{"t":4,"f":[{"p":[25,7,1599],"t":7,"e":"span","a":{"class":"highlight"},"t0":"fade","f":[{"t":2,"x":{"r":["volume"],"s":"Math.fixed(_0,2)"},"p":[25,50,1642]}," units of ",{"t":2,"r":"name","p":[25,85,1677]}]},{"p":[25,100,1692],"t":7,"e":"br"}],"n":52,"r":"adata.TankContents","p":[24,6,1564]}],"n":50,"r":"data.isTankLoaded","p":[20,4,1425]},{"t":4,"n":51,"f":[{"p":[28,6,1730],"t":7,"e":"span","a":{"class":"bad"},"f":["Tank Empty"]}],"r":"data.isTankLoaded"}," ",{"p":[30,4,1780],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.isTankLoaded"],"s":"_0?\"Eject\":\"Close\""},"p":[30,21,1797]}],"style":[{"t":2,"x":{"r":["data.isTankLoaded"],"s":"_0?\"selected\":null"},"p":[31,12,1851]}],"state":[{"t":2,"x":{"r":["data.isTankLoaded"],"s":"_0?null:\"disabled\""},"p":[32,12,1905]}],"action":"purge"},"f":[{"t":2,"x":{"r":["data.isTankLoaded"],"s":"_0?\"Purge Contents\":\"No chemicals detected\""},"p":[33,20,1967]}]}]}]}],"n":50,"x":{"r":["data.screen"],"s":"_0==\"home\""},"p":[1,2,1]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],464:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Status"},"f":[{"p":[2,3,30],"t":7,"e":"ui-section","a":{"label":"Generated Power"},"f":[{"t":2,"x":{"r":["adata.generated"],"s":"Math.round(_0)"},"p":[3,5,71]},"W"]}," ",{"p":[5,3,122],"t":7,"e":"ui-section","a":{"label":"Orientation"},"f":[{"p":[6,5,159],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.angle"],"s":"Math.round(_0)"},"p":[6,11,165]},"° (",{"t":2,"r":"data.direction","p":[6,45,199]},")"]}]}," ",{"p":[8,3,244],"t":7,"e":"ui-section","a":{"label":"Adjust Angle"},"f":[{"p":[9,5,282],"t":7,"e":"ui-button","a":{"icon":"step-backward","action":"angle","params":"{\"adjust\": -15}"},"f":["15°"]}," ",{"p":[10,5,378],"t":7,"e":"ui-button","a":{"icon":"backward","action":"angle","params":"{\"adjust\": -5}"},"f":["5°"]}," ",{"p":[11,5,467],"t":7,"e":"ui-button","a":{"icon":"forward","action":"angle","params":"{\"adjust\": 5}"},"f":["5°"]}," ",{"p":[12,5,554],"t":7,"e":"ui-button","a":{"icon":"step-forward","action":"angle","params":"{\"adjust\": 15}"},"f":["15°"]}]}]}," ",{"p":[15,1,673],"t":7,"e":"ui-display","a":{"title":"Tracking"},"f":[{"p":[16,3,705],"t":7,"e":"ui-section","a":{"label":"Tracker Mode"},"f":[{"p":[17,5,743],"t":7,"e":"ui-button","a":{"icon":"close","state":[{"t":2,"x":{"r":["data.tracking_state"],"s":"_0==0?\"selected\":null"},"p":[17,36,774]}],"action":"tracking","params":"{\"mode\": 0}"},"f":["Off"]}," ",{"p":[19,5,889],"t":7,"e":"ui-button","a":{"icon":"clock-o","state":[{"t":2,"x":{"r":["data.tracking_state"],"s":"_0==1?\"selected\":null"},"p":[19,38,922]}],"action":"tracking","params":"{\"mode\": 1}"},"f":["Timed"]}," ",{"p":[21,5,1039],"t":7,"e":"ui-button","a":{"icon":"refresh","state":[{"t":2,"x":{"r":["data.connected_tracker","data.tracking_state"],"s":"_0?_1==2?\"selected\":null:\"disabled\""},"p":[21,38,1072]}],"action":"tracking","params":"{\"mode\": 2}"},"f":["Auto"]}]}," ",{"p":[24,3,1239],"t":7,"e":"ui-section","a":{"label":"Tracking Rate"},"f":[{"p":[25,3,1276],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.tracking_rate"],"s":"Math.round(_0)"},"p":[25,9,1282]},"°/h (",{"t":2,"r":"data.rotating_way","p":[25,53,1326]},")"]}]}," ",{"p":[27,3,1373],"t":7,"e":"ui-section","a":{"label":"Adjust Rate"},"f":[{"p":[28,5,1410],"t":7,"e":"ui-button","a":{"icon":"fast-backward","action":"rate","params":"{\"adjust\": -180}"},"f":["180°"]}," ",{"p":[29,5,1507],"t":7,"e":"ui-button","a":{"icon":"step-backward","action":"rate","params":"{\"adjust\": -30}"},"f":["30°"]}," ",{"p":[30,5,1602],"t":7,"e":"ui-button","a":{"icon":"backward","action":"rate","params":"{\"adjust\": -5}"},"f":["5°"]}," ",{"p":[31,5,1690],"t":7,"e":"ui-button","a":{"icon":"forward","action":"rate","params":"{\"adjust\": 5}"},"f":["5°"]}," ",{"p":[32,5,1776],"t":7,"e":"ui-button","a":{"icon":"step-forward","action":"rate","params":"{\"adjust\": 30}"},"f":["30°"]}," ",{"p":[33,5,1869],"t":7,"e":"ui-button","a":{"icon":"fast-forward","action":"rate","params":"{\"adjust\": 180}"},"f":["180°"]}]}]}," ",{"p":{"button":[{"p":[38,5,2051],"t":7,"e":"ui-button","a":{"icon":"refresh","action":"refresh"},"f":["Refresh"]}]},"t":7,"e":"ui-display","a":{"title":"Devices","button":0},"f":[" ",{"p":[40,2,2130],"t":7,"e":"ui-section","a":{"label":"Solar Tracker"},"f":[{"p":[41,5,2169],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.connected_tracker"],"s":"_0?\"good\":\"bad\""},"p":[41,18,2182]}]},"f":[{"t":2,"x":{"r":["data.connected_tracker"],"s":"_0?\"\":\"Not \""},"p":[41,63,2227]},"Found"]}]}," ",{"p":[43,2,2296],"t":7,"e":"ui-section","a":{"label":"Solar Panels"},"f":[{"p":[44,3,2332],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.connected_panels"],"s":"_0?\"good\":\"bad\""},"p":[44,16,2345]}]},"f":[{"t":2,"x":{"r":["adata.connected_panels"],"s":"Math.round(_0)"},"p":[44,60,2389]}," Panels Connected"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],465:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":{"button":[{"t":4,"f":[{"p":[4,7,84],"t":7,"e":"ui-button","a":{"icon":"eject","state":[{"t":2,"x":{"r":["data.hasPowercell"],"s":"_0?null:\"disabled\""},"p":[4,38,115]}],"action":"eject"},"f":["Eject"]}],"n":50,"r":"data.open","p":[3,5,60]}]},"t":7,"e":"ui-display","a":{"title":"Power","button":0},"f":[" ",{"p":[7,3,220],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[8,5,251],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"power-off\":\"close\""},"p":[8,22,268]}],"style":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"selected\":null"},"p":[9,14,318]}],"state":[{"t":2,"x":{"r":["data.hasPowercell"],"s":"_0?null:\"disabled\""},"p":[9,54,358]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"On\":\"Off\""},"p":[10,22,422]}]}]}," ",{"p":[12,3,479],"t":7,"e":"ui-section","a":{"label":"Cell"},"f":[{"t":4,"f":[{"p":[14,7,541],"t":7,"e":"ui-bar","a":{"min":"0","max":"100","value":[{"t":2,"r":"data.powerLevel","p":[14,40,574]}]},"f":[{"t":2,"x":{"r":["adata.powerLevel"],"s":"Math.fixed(_0)"},"p":[14,61,595]},"%"]}],"n":50,"r":"data.hasPowercell","p":[13,5,509]},{"t":4,"n":51,"f":[{"p":[16,4,652],"t":7,"e":"span","a":{"class":"bad"},"f":["No Cell"]}],"r":"data.hasPowercell"}]}]}," ",{"p":[20,1,725],"t":7,"e":"ui-display","a":{"title":"Thermostat"},"f":[{"p":[21,3,759],"t":7,"e":"ui-section","a":{"label":"Current Temperature"},"f":[{"p":[22,3,802],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.currentTemp"],"s":"Math.round(_0)"},"p":[22,9,808]},"°C"]}]}," ",{"p":[24,2,871],"t":7,"e":"ui-section","a":{"label":"Target Temperature"},"f":[{"p":[25,3,913],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.targetTemp"],"s":"Math.round(_0)"},"p":[25,9,919]},"°C"]}]}," ",{"t":4,"f":[{"p":[28,5,1004],"t":7,"e":"ui-section","a":{"label":"Adjust Target"},"f":[{"p":[29,7,1045],"t":7,"e":"ui-button","a":{"icon":"fast-backward","state":[{"t":2,"x":{"r":["data.targetTemp","data.minTemp"],"s":"_0>_1?null:\"disabled\""},"p":[29,46,1084]}],"action":"target","params":"{\"adjust\": -20}"}}," ",{"p":[30,7,1189],"t":7,"e":"ui-button","a":{"icon":"backward","state":[{"t":2,"x":{"r":["data.targetTemp","data.minTemp"],"s":"_0>_1?null:\"disabled\""},"p":[30,41,1223]}],"action":"target","params":"{\"adjust\": -5}"}}," ",{"p":[31,7,1327],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"target","params":"{\"target\": \"input\"}"},"f":["Set"]}," ",{"p":[32,7,1419],"t":7,"e":"ui-button","a":{"icon":"forward","state":[{"t":2,"x":{"r":["data.targetTemp","data.maxTemp"],"s":"_0<_1?null:\"disabled\""},"p":[32,40,1452]}],"action":"target","params":"{\"adjust\": 5}"}}," ",{"p":[33,7,1555],"t":7,"e":"ui-button","a":{"icon":"fast-forward","state":[{"t":2,"x":{"r":["data.targetTemp","data.maxTemp"],"s":"_0<_1?null:\"disabled\""},"p":[33,45,1593]}],"action":"target","params":"{\"adjust\": 20}"}}]}],"n":50,"r":"data.open","p":[27,3,982]}," ",{"p":[36,3,1719],"t":7,"e":"ui-section","a":{"label":"Mode"},"f":[{"t":4,"f":[{"p":[38,7,1771],"t":7,"e":"ui-button","a":{"icon":"long-arrow-up","state":[{"t":2,"x":{"r":["data.mode"],"s":"_0==\"heat\"?\"selected\":null"},"p":[38,46,1810]}],"action":"mode","params":"{\"mode\": \"heat\"}"},"f":["Heat"]}," ",{"p":[39,7,1918],"t":7,"e":"ui-button","a":{"icon":"long-arrow-down","state":[{"t":2,"x":{"r":["data.mode"],"s":"_0==\"cool\"?\"selected\":null"},"p":[39,48,1959]}],"action":"mode","params":"{\"mode\": \"cool\"}"},"f":["Cool"]}," ",{"p":[40,7,2067],"t":7,"e":"ui-button","a":{"icon":"arrows-v","state":[{"t":2,"x":{"r":["data.mode"],"s":"_0==\"auto\"?\"selected\":null"},"p":[40,41,2101]}],"action":"mode","params":"{\"mode\": \"auto\"}"},"f":["Auto"]}],"n":50,"r":"data.open","p":[37,3,1747]},{"t":4,"n":51,"f":[{"p":[42,4,2217],"t":7,"e":"span","f":[{"t":2,"x":{"r":["text","data.mode"],"s":"_0.titleCase(_1)"},"p":[42,10,2223]}]}],"r":"data.open"}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],466:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":{"button":[{"p":[4,8,97],"t":7,"e":"ui-button","a":{"action":"jump","params":["{\"name\" : ",{"t":2,"r":"name","p":[4,51,140]},"}"]},"f":["Jump"]}," ",{"p":[7,9,195],"t":7,"e":"ui-button","a":{"action":"spawn","params":["{\"name\" : ",{"t":2,"r":"name","p":[7,53,239]},"}"]},"f":["Spawn"]}]},"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"name","p":[2,22,46]}],"button":0},"f":[" ",{"p":[11,3,308],"t":7,"e":"ui-section","a":{"label":"Description"},"f":[{"p":[12,5,346],"t":7,"e":"span","f":[{"t":3,"r":"desc","p":[12,11,352]}]}]}," ",{"p":[14,3,390],"t":7,"e":"ui-section","a":{"label":"Spawners left"},"f":[{"p":[15,5,430],"t":7,"e":"span","f":[{"t":2,"r":"amount_left","p":[15,11,436]}]}]}]}],"n":52,"r":"data.spawners","p":[1,1,0]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],467:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,3,31],"t":7,"e":"ui-display","a":{"title":[{"t":2,"r":"class","p":[2,22,50]}," Alarms"]},"f":[{"p":[3,5,74],"t":7,"e":"ul","f":[{"t":4,"f":[{"p":[5,9,107],"t":7,"e":"li","f":[{"t":2,"r":".","p":[5,13,111]}]}],"n":52,"r":".","p":[4,7,86]},{"t":4,"n":51,"f":[{"p":[7,9,147],"t":7,"e":"li","f":["System Nominal"]}],"r":"."}]}]}],"n":52,"i":"class","r":"data.alarms","p":[1,1,0]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],468:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"t":4,"f":[{"p":[2,3,41],"t":7,"e":"ui-notice","f":[{"p":[3,5,57],"t":7,"e":"span","f":["Biological entity detected in contents. Please remove."]}]}],"n":50,"x":{"r":["data.occupied","data.safeties"],"s":"_0&&_1"},"p":[1,1,0]},{"t":4,"f":[{"p":[7,3,173],"t":7,"e":"ui-notice","f":[{"p":[8,5,189],"t":7,"e":"span","f":["Contents are being decontaminated. Please wait."]}]}],"n":50,"r":"data.uv_active","p":[6,1,148]},{"t":4,"n":51,"f":[{"p":{"button":[{"t":4,"f":[{"p":[13,25,360],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"unlock\":\"lock\""},"p":[13,42,377]}],"action":"lock"},"f":[{"t":2,"x":{"r":["data.locked"],"s":"_0?\"Unlock\":\"Lock\""},"p":[13,93,428]}]}],"n":50,"x":{"r":["data.open"],"s":"!_0"},"p":[13,7,342]}," ",{"t":4,"f":[{"p":[14,27,509],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.open"],"s":"_0?\"sign-out\":\"sign-in\""},"p":[14,44,526]}],"action":"door"},"f":[{"t":2,"x":{"r":["data.open"],"s":"_0?\"Close\":\"Open\""},"p":[14,98,580]}]}],"n":50,"x":{"r":["data.locked"],"s":"!_0"},"p":[14,7,489]}]},"t":7,"e":"ui-display","a":{"title":"Storage","button":0},"f":[" ",{"t":4,"f":[{"p":[17,7,679],"t":7,"e":"ui-notice","f":[{"p":[18,9,699],"t":7,"e":"span","f":["Unit Locked"]}]}],"n":50,"r":"data.locked","p":[16,5,653]},{"t":4,"n":51,"f":[{"t":4,"n":50,"x":{"r":["data.open"],"s":"_0"},"f":[{"p":[21,9,776],"t":7,"e":"ui-section","a":{"label":"Helmet"},"f":[{"p":[22,11,814],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.helmet"],"s":"_0?\"square\":\"square-o\""},"p":[22,28,831]}],"state":[{"t":2,"x":{"r":["data.helmet"],"s":"_0?null:\"disabled\""},"p":[22,75,878]}],"action":"dispense","params":"{\"item\": \"helmet\"}"},"f":[{"t":2,"x":{"r":["data.helmet"],"s":"_0||\"Empty\""},"p":[23,59,973]}]}]}," ",{"p":[25,9,1042],"t":7,"e":"ui-section","a":{"label":"Suit"},"f":[{"p":[26,11,1078],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.suit"],"s":"_0?\"square\":\"square-o\""},"p":[26,28,1095]}],"state":[{"t":2,"x":{"r":["data.suit"],"s":"_0?null:\"disabled\""},"p":[26,74,1141]}],"action":"dispense","params":"{\"item\": \"suit\"}"},"f":[{"t":2,"x":{"r":["data.suit"],"s":"_0||\"Empty\""},"p":[27,57,1232]}]}]}," ",{"p":[29,9,1299],"t":7,"e":"ui-section","a":{"label":"Mask"},"f":[{"p":[30,11,1335],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.mask"],"s":"_0?\"square\":\"square-o\""},"p":[30,28,1352]}],"state":[{"t":2,"x":{"r":["data.mask"],"s":"_0?null:\"disabled\""},"p":[30,74,1398]}],"action":"dispense","params":"{\"item\": \"mask\"}"},"f":[{"t":2,"x":{"r":["data.mask"],"s":"_0||\"Empty\""},"p":[31,57,1489]}]}]}," ",{"p":[33,9,1556],"t":7,"e":"ui-section","a":{"label":"Storage"},"f":[{"p":[34,11,1595],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.storage"],"s":"_0?\"square\":\"square-o\""},"p":[34,28,1612]}],"state":[{"t":2,"x":{"r":["data.storage"],"s":"_0?null:\"disabled\""},"p":[34,77,1661]}],"action":"dispense","params":"{\"item\": \"storage\"}"},"f":[{"t":2,"x":{"r":["data.storage"],"s":"_0||\"Empty\""},"p":[35,60,1758]}]}]}]},{"t":4,"n":50,"x":{"r":["data.open"],"s":"!(_0)"},"f":[" ",{"p":[38,7,1839],"t":7,"e":"ui-button","a":{"icon":"recycle","state":[{"t":2,"x":{"r":["data.occupied","data.safeties"],"s":"_0&&_1?\"disabled\":null"},"p":[38,40,1872]}],"action":"uv"},"f":["Decontaminate"]}]}],"r":"data.locked"}]}],"r":"data.uv_active"}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],469:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"p":[2,5,18],"t":7,"e":"ui-section","a":{"label":"Dispense"},"f":[{"p":[3,9,57],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.plasma"],"s":"_0?\"square\":\"square-o\""},"p":[3,26,74]}],"state":[{"t":2,"x":{"r":["data.plasma"],"s":"_0?null:\"disabled\""},"p":[3,74,122]}],"action":"plasma"},"f":["Plasma (",{"t":2,"x":{"r":["adata.plasma"],"s":"Math.round(_0)"},"p":[4,37,196]},")"]}," ",{"p":[5,9,247],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.oxygen"],"s":"_0?\"square\":\"square-o\""},"p":[5,26,264]}],"state":[{"t":2,"x":{"r":["data.oxygen"],"s":"_0?null:\"disabled\""},"p":[5,74,312]}],"action":"oxygen"},"f":["Oxygen (",{"t":2,"x":{"r":["adata.oxygen"],"s":"Math.round(_0)"},"p":[6,37,386]},")"]}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],470:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  computed: {
    tankPressureState: function tankPressureState() {
      var pressure = this.get('data.tankPressure');
      if (pressure >= 200) return 'good';else if (pressure >= 100) return 'average';else return 'bad';
    }
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[14,1,282],"t":7,"e":"ui-notice","f":[{"p":[15,3,296],"t":7,"e":"span","f":["The regulator ",{"t":2,"x":{"r":["data.connected"],"s":"_0?\"is\":\"is not\""},"p":[15,23,316]}," connected to a mask."]}]}," ",{"p":[17,1,393],"t":7,"e":"ui-display","f":[{"p":[18,3,408],"t":7,"e":"ui-section","a":{"label":"Tank Pressure"},"f":[{"p":[19,7,449],"t":7,"e":"ui-bar","a":{"min":"0","max":"1013","value":[{"t":2,"r":"data.tankPressure","p":[19,41,483]}],"state":[{"t":2,"r":"tankPressureState","p":[20,16,521]}]},"f":[{"t":2,"x":{"r":["adata.tankPressure"],"s":"Math.round(_0)"},"p":[20,39,544]}," kPa"]}]}," ",{"p":[22,3,610],"t":7,"e":"ui-section","a":{"label":"Release Pressure"},"f":[{"p":[23,5,652],"t":7,"e":"ui-bar","a":{"min":[{"t":2,"r":"data.minReleasePressure","p":[23,18,665]}],"max":[{"t":2,"r":"data.maxReleasePressure","p":[23,52,699]}],"value":[{"t":2,"r":"data.releasePressure","p":[24,14,741]}]},"f":[{"t":2,"x":{"r":["adata.releasePressure"],"s":"Math.round(_0)"},"p":[24,40,767]}," kPa"]}]}," ",{"p":[26,3,836],"t":7,"e":"ui-section","a":{"label":"Pressure Regulator"},"f":[{"p":[27,5,880],"t":7,"e":"ui-button","a":{"icon":"refresh","state":[{"t":2,"x":{"r":["data.releasePressure","data.defaultReleasePressure"],"s":"_0!=_1?null:\"disabled\""},"p":[27,38,913]}],"action":"pressure","params":"{\"pressure\": \"reset\"}"},"f":["Reset"]}," ",{"p":[29,5,1067],"t":7,"e":"ui-button","a":{"icon":"minus","state":[{"t":2,"x":{"r":["data.releasePressure","data.minReleasePressure"],"s":"_0>_1?null:\"disabled\""},"p":[29,36,1098]}],"action":"pressure","params":"{\"pressure\": \"min\"}"},"f":["Min"]}," ",{"p":[31,5,1243],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"pressure","params":"{\"pressure\": \"input\"}"},"f":["Set"]}," ",{"p":[32,5,1337],"t":7,"e":"ui-button","a":{"icon":"plus","state":[{"t":2,"x":{"r":["data.releasePressure","data.maxReleasePressure"],"s":"_0<_1?null:\"disabled\""},"p":[32,35,1367]}],"action":"pressure","params":"{\"pressure\": \"max\"}"},"f":["Max"]}]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],471:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","a":{"title":"Status"},"f":[{"p":[2,5,33],"t":7,"e":"ui-section","a":{"label":"Temperature"},"f":[{"p":[3,9,75],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.temperature"],"s":"Math.fixed(_0,2)"},"p":[3,15,81]}," K"]}]}," ",{"p":[5,5,151],"t":7,"e":"ui-section","a":{"label":"Pressure"},"f":[{"p":[6,9,190],"t":7,"e":"span","f":[{"t":2,"x":{"r":["adata.pressure"],"s":"Math.fixed(_0,2)"},"p":[6,15,196]}," kPa"]}]}]}," ",{"p":[9,1,276],"t":7,"e":"ui-display","a":{"title":"Controls"},"f":[{"p":[10,5,311],"t":7,"e":"ui-section","a":{"label":"Power"},"f":[{"p":[11,9,347],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"power-off\":\"close\""},"p":[11,26,364]}],"style":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"selected\":null"},"p":[11,70,408]}],"action":"power"},"f":[{"t":2,"x":{"r":["data.on"],"s":"_0?\"On\":\"Off\""},"p":[12,28,469]}]}]}," ",{"p":[14,5,531],"t":7,"e":"ui-section","a":{"label":"Target Temperature"},"f":[{"p":[15,9,580],"t":7,"e":"ui-button","a":{"icon":"fast-backward","state":[{"t":2,"x":{"r":["data.target","data.min"],"s":"_0==_1?\"disabled\":null"},"p":[15,48,619]}],"action":"target","params":"{\"adjust\": -20}"}}," ",{"p":[17,9,733],"t":7,"e":"ui-button","a":{"icon":"backward","state":[{"t":2,"x":{"r":["data.target","data.min"],"s":"_0==_1?\"disabled\":null"},"p":[17,43,767]}],"action":"target","params":"{\"adjust\": -5}"}}," ",{"p":[19,9,880],"t":7,"e":"ui-button","a":{"icon":"pencil","action":"target","params":"{\"target\": \"input\"}"},"f":[{"t":2,"x":{"r":["adata.target"],"s":"Math.fixed(_0,2)"},"p":[19,79,950]}]}," ",{"p":[20,9,1003],"t":7,"e":"ui-button","a":{"icon":"forward","state":[{"t":2,"x":{"r":["data.target","data.max"],"s":"_0==_1?\"disabled\":null"},"p":[20,42,1036]}],"action":"target","params":"{\"adjust\": 5}"}}," ",{"p":[22,9,1148],"t":7,"e":"ui-button","a":{"icon":"fast-forward","state":[{"t":2,"x":{"r":["data.target","data.max"],"s":"_0==_1?\"disabled\":null"},"p":[22,47,1186]}],"action":"target","params":"{\"adjust\": 20}"}}]}]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],472:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
	data: {
		powerState: function powerState(status) {
			switch (status) {
				case 1:
					return 'good';
				default:
					return 'bad';
			}
		}
	}
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[13,1,161],"t":7,"e":"ui-notice","f":[{"p":[14,2,174],"t":7,"e":"ui-section","a":{"label":"Reconnect"},"f":[{"p":[15,3,207],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[16,4,236],"t":7,"e":"ui-button","a":{"icon":"refresh","action":"reconnect"},"f":["Reconnect"]}]}]}]}," ",{"p":[20,1,340],"t":7,"e":"ui-display","a":{"title":"Turbine Controller"},"f":[{"p":[21,2,381],"t":7,"e":"ui-section","a":{"label":"Status"},"f":[{"t":4,"f":[{"p":[23,4,434],"t":7,"e":"span","a":{"class":"bad"},"f":["Broken"]}],"n":50,"r":"data.broken","p":[22,3,411]},{"t":4,"n":51,"f":[{"p":[25,4,480],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["powerState","data.online"],"s":"_0(_1)"},"p":[25,17,493]}]},"f":[{"t":2,"x":{"r":["data.online","data.compressor_broke","data.turbine_broke"],"s":"_0&&!(_1||_2)?\"Online\":\"Offline\""},"p":[25,46,522]}]}],"r":"data.broken"}," ",{"p":[27,3,630],"t":7,"e":"div","a":{"style":"float:right"},"f":[{"p":[28,4,659],"t":7,"e":"ui-button","a":{"icon":"power-off","action":"power-on","state":[{"t":2,"r":"data.broken","p":[28,57,712]}],"style":[{"t":2,"x":{"r":["data.online"],"s":"_0?\"selected\":\"\""},"p":[28,81,736]}]},"f":["On"]}," ",{"p":[29,4,789],"t":7,"e":"ui-button","a":{"icon":"close","action":"power-off","state":[{"t":2,"r":"data.broken","p":[29,54,839]}],"style":[{"t":2,"x":{"r":["data.online"],"s":"_0?\"\":\"selected\""},"p":[29,78,863]}]},"f":["Off"]}]}," ",{"t":4,"f":[{"p":[32,4,958],"t":7,"e":"br"}," [ ",{"p":[33,6,968],"t":7,"e":"span","a":{"class":"bad"},"f":["Compressor is inoperable"]}," ]"],"n":50,"r":"data.compressor_broke","p":[31,3,925]}," ",{"t":4,"f":[{"p":[36,4,1062],"t":7,"e":"br"}," [ ",{"p":[37,6,1072],"t":7,"e":"span","a":{"class":"bad"},"f":["Turbine is inoperable"]}," ]"],"n":50,"r":"data.turbine_broke","p":[35,3,1032]}]}]}," ",{"p":[41,1,1160],"t":7,"e":"ui-display","a":{"title":"Status"},"f":[{"p":[42,2,1189],"t":7,"e":"ui-section","a":{"label":"Turbine Speed"},"f":[{"p":[43,3,1226],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.broken","data.rpm"],"s":"_0?\"--\":_1"},"p":[43,9,1232]}," RPM"]}]}," ",{"p":[45,2,1293],"t":7,"e":"ui-section","a":{"label":"Internal Temp"},"f":[{"p":[46,3,1330],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.broken","data.temp"],"s":"_0?\"--\":_1"},"p":[46,9,1336]}," K"]}]}," ",{"p":[48,2,1396],"t":7,"e":"ui-section","a":{"label":"Generated Power"},"f":[{"p":[49,3,1435],"t":7,"e":"span","f":[{"t":2,"x":{"r":["data.broken","data.power"],"s":"_0?\"--\":_1"},"p":[49,9,1441]}]}]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],473:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
  data: {},
  oninit: function oninit() {
    this.on({
      hover: function hover(event) {
        var uses = this.get('data.telecrystals');
        if (uses >= event.context.params.cost) this.set('hovered', event.context.params);
      },
      unhover: function unhover(event) {
        this.set('hovered');
      }
    });
  }
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":{"button":[{"t":4,"f":[{"p":[23,7,482],"t":7,"e":"ui-button","a":{"icon":"lock","action":"lock"},"f":["Lock"]}],"n":50,"r":"data.lockable","p":[22,5,453]}]},"t":7,"e":"ui-display","a":{"title":"Uplink","button":0},"f":[" ",{"p":[26,3,568],"t":7,"e":"ui-section","a":{"label":"Telecrystals","right":0},"f":[{"p":[27,5,613],"t":7,"e":"span","a":{"class":[{"t":2,"x":{"r":["data.telecrystals"],"s":"_0>0?\"good\":\"bad\""},"p":[27,18,626]}]},"f":[{"t":2,"r":"data.telecrystals","p":[27,62,670]}," TC"]}]}]}," ",{"t":4,"f":[{"p":[31,3,764],"t":7,"e":"ui-display","f":[{"p":[32,2,779],"t":7,"e":"ui-button","a":{"action":"select","params":["{\"category\": \"",{"t":2,"r":"name","p":[32,51,828]},"\"}"]},"f":[{"t":2,"r":"name","p":[32,63,840]}]}," ",{"t":4,"f":[{"p":[34,4,883],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"name","p":[34,23,902]}],"candystripe":0,"right":0},"f":[{"p":[35,3,934],"t":7,"e":"ui-button","a":{"tooltip":[{"t":2,"r":"name","p":[35,23,954]},": ",{"t":2,"r":"desc","p":[35,33,964]}],"tooltip-side":"left","state":[{"t":2,"x":{"r":["data.telecrystals","hovered.cost","cost","hovered.item","name"],"s":"_0<_2||(_0-_1<_2&&_3!=_4)?\"disabled\":null"},"p":[36,12,1006]}],"action":"buy","params":["{\"category\": \"",{"t":2,"r":"category","p":[37,40,1165]},"\", \"item\": ",{"t":2,"r":"name","p":[37,63,1188]},", \"cost\": ",{"t":2,"r":"cost","p":[37,81,1206]},"}"]},"v":{"hover":"hover","unhover":"unhover"},"f":[{"t":2,"r":"cost","p":[38,43,1260]}," TC"]}]}],"n":52,"r":"items","p":[33,2,863]}]}],"n":52,"r":"data.categories","p":[30,1,735]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],474:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

component.exports = {
		data: {
				healthState: function healthState(health) {
						var maxhealth = this.get('data.vr_avatar.maxhealth');
						if (health > maxhealth / 1.5) return 'good';else if (health > maxhealth / 3) return 'average';else return 'bad';
				}
		}
};
})(component);
component.exports.template = {"v":3,"t":[" ",{"p":[14,1,279],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[16,3,316],"t":7,"e":"ui-notice","f":[{"p":[17,4,331],"t":7,"e":"span","f":["Safety restraints disabled."]}]}],"n":50,"r":"data.emagged","p":[15,2,293]}," ",{"t":4,"f":[{"p":[21,3,422],"t":7,"e":"ui-display","a":{"title":"Virtual Avatar"},"f":[{"p":[22,4,461],"t":7,"e":"ui-section","a":{"label":"Name"},"f":[{"t":2,"r":"data.vr_avatar.name","p":[23,5,491]}]}," ",{"p":[25,4,535],"t":7,"e":"ui-section","a":{"label":"Status"},"f":[{"t":2,"r":"data.vr_avatar.status","p":[26,5,567]}]}," ",{"p":[28,4,613],"t":7,"e":"ui-section","a":{"label":"Health"},"f":[{"p":[29,5,645],"t":7,"e":"ui-bar","a":{"min":"0","max":[{"t":2,"r":"adata.vr_avatar.maxhealth","p":[29,26,666]}],"value":[{"t":2,"r":"adata.vr_avatar.health","p":[29,64,704]}],"state":[{"t":2,"x":{"r":["healthState","adata.vr_avatar.health"],"s":"_0(_1)"},"p":[29,99,739]}]},"f":[{"t":2,"x":{"r":["adata.vr_avatar.health"],"s":"Math.round(_0)"},"p":[29,140,780]},"/",{"t":2,"r":"adata.vr_avatar.maxhealth","p":[29,179,819]}]}]}]}],"n":50,"r":"data.vr_avatar","p":[20,2,397]},{"t":4,"n":51,"f":[{"p":[33,3,903],"t":7,"e":"ui-display","a":{"title":"Virtual Avatar"},"f":["No Virtual Avatar detected"]}],"r":"data.vr_avatar"}," ",{"p":[37,2,995],"t":7,"e":"ui-display","a":{"title":"VR Commands"},"f":[{"p":[38,3,1030],"t":7,"e":"ui-button","a":{"icon":[{"t":2,"x":{"r":["data.toggle_open"],"s":"_0?\"times\":\"plus\""},"p":[38,20,1047]}],"action":"toggle_open"},"f":[{"t":2,"x":{"r":["data.toggle_open"],"s":"_0?\"Close\":\"Open\""},"p":[39,4,1113]}," the VR Sleeper"]}," ",{"t":4,"f":[{"p":[42,4,1212],"t":7,"e":"ui-button","a":{"icon":"signal","action":"vr_connect"},"f":["Connect to VR"]}],"n":50,"r":"data.isoccupant","p":[41,3,1185]}," ",{"t":4,"f":[{"p":[47,4,1330],"t":7,"e":"ui-button","a":{"icon":"ban","action":"delete_avatar"},"f":["Delete Virtual Avatar"]}],"n":50,"r":"data.vr_avatar","p":[46,3,1304]}]}]}]};
module.exports = Ractive.extend(component.exports);

},{"ractive":342}],475:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
component.exports.template = {"v":3,"t":[{"p":[1,1,0],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[3,5,40],"t":7,"e":"ui-section","a":{"label":[{"t":2,"r":"color","p":[3,24,59]},{"t":2,"x":{"r":["wire"],"s":"_0?\" (\"+_0+\")\":\"\""},"p":[3,33,68]}],"labelcolor":[{"t":2,"r":"color","p":[3,80,115]}],"candystripe":0,"right":0},"f":[{"p":[4,7,151],"t":7,"e":"ui-button","a":{"action":"cut","params":["{\"wire\":\"",{"t":2,"r":"color","p":[4,48,192]},"\"}"]},"f":[{"t":2,"x":{"r":["cut"],"s":"_0?\"Mend\":\"Cut\""},"p":[4,61,205]}]}," ",{"p":[5,7,248],"t":7,"e":"ui-button","a":{"action":"pulse","params":["{\"wire\":\"",{"t":2,"r":"color","p":[5,50,291]},"\"}"]},"f":["Pulse"]}," ",{"p":[6,7,328],"t":7,"e":"ui-button","a":{"action":"attach","params":["{\"wire\":\"",{"t":2,"r":"color","p":[6,51,372]},"\"}"]},"f":[{"t":2,"x":{"r":["attached"],"s":"_0?\"Detach\":\"Attach\""},"p":[6,64,385]}]}]}],"n":52,"r":"data.wires","p":[2,3,15]}]}," ",{"t":4,"f":[{"p":[11,3,498],"t":7,"e":"ui-display","f":[{"t":4,"f":[{"p":[13,7,543],"t":7,"e":"ui-section","f":[{"t":2,"r":".","p":[13,19,555]}]}],"n":52,"r":"data.status","p":[12,5,515]}]}],"n":50,"r":"data.status","p":[10,1,476]}]};
module.exports = Ractive.extend(component.exports);
},{"ractive":342}],476:[function(require,module,exports){
(function (babelHelpers){
'use strict';

var _ractive = require('ractive');

var _ractive2 = babelHelpers.interopRequireDefault(_ractive);

require('ie8');

require('babel-polyfill');

require('dom4');

require('html5shiv');

var _tgui = require('tgui.ract');

var _tgui2 = babelHelpers.interopRequireDefault(_tgui);

var _byond = require('util/byond');

var _fgLoadcss = require('fg-loadcss');

var _fontfaceobserver = require('fontfaceobserver');

var _fontfaceobserver2 = babelHelpers.interopRequireDefault(_fontfaceobserver);

_ractive2["default"].DEBUG = /minified/.test(function () {/* minified */}); // Temporarily import Ractive first to keep it from detecting ie8's object.defineProperty shim, which it misuses (ractivejs/ractive#2343).


// Extend the Math builtin with our own utilities.
Object.assign(Math, require('util/math'));

// Set up the initialize function. This is either called below if JSON is provided
// inline, or called by the server if it was not.

window.initialize = function (dataString) {
  // Don't run twice.
  window.tgui = window.tgui || new _tgui2["default"]({
    el: '#container',
    data: function data() {
      var initial = JSON.parse(dataString);
      return {
        constants: require('util/constants'),
        text: require('util/text'),
        config: initial.config,
        data: initial.data,
        adata: initial.data
      };
    }
  });
};

// Try to find data in the page. If the JSON was inlined, load it.
var holder = document.getElementById('data');
var data = holder.textContent;
var ref = holder.getAttribute('data-ref');
if (data !== '{}') {
  window.initialize(data);
  holder.remove();
}
// Let the server know we're set up. This also sends data if it was not inlined.

(0, _byond.act)(ref, 'tgui:initialize');

// Load fonts.

(0, _fgLoadcss.loadCSS)('font-awesome.min.css');
// Handle font loads.

var fontawesome = new _fontfaceobserver2["default"]('FontAwesome');
fontawesome.check('\uF240').then(function () {
  return document.body.classList.add('icons');
})["catch"](function () {
  return document.body.classList.add('no-icons');
});

}).call(this,require("babel/external-helpers"))
},{"babel-polyfill":1,"babel/external-helpers":"babel/external-helpers","dom4":327,"fg-loadcss":328,"fontfaceobserver":329,"html5shiv":330,"ie8":331,"ractive":342,"tgui.ract":477,"util/byond":478,"util/constants":479,"util/math":482,"util/text":483}],477:[function(require,module,exports){
var Ractive = require('ractive');
var component = { exports: {} };
(function (component) {
'use strict';

var _byond = require('util/byond');

var _dragresize = require('util/dragresize');

component.exports = {
  components: {
    'ui-bar': require('components/bar'),
    'ui-button': require('components/button'),
    'ui-display': require('components/display'),
    'ui-input': require('components/input'),
    'ui-linegraph': require('components/linegraph'),
    'ui-notice': require('components/notice'),
    'ui-section': require('components/section'),
    'ui-subdisplay': require('components/subdisplay'),
    'ui-tabs': require('components/tabs')
  },
  events: {
    enter: require('ractive-events-keys').enter,
    space: require('ractive-events-keys').space
  },
  transitions: {
    fade: require('ractive-transitions-fade')
  },
  onconfig: function onconfig() {
    var requested = this.get('config.interface');
    var interfaces = {'ai_airlock': require('interfaces/ai_airlock.ract'),'airalarm': require('interfaces/airalarm.ract'),'airalarm/back': require('interfaces/airalarm/back.ract'),'airalarm/modes': require('interfaces/airalarm/modes.ract'),'airalarm/scrubbers': require('interfaces/airalarm/scrubbers.ract'),'airalarm/status': require('interfaces/airalarm/status.ract'),'airalarm/thresholds': require('interfaces/airalarm/thresholds.ract'),'airalarm/vents': require('interfaces/airalarm/vents.ract'),'airlock_electronics': require('interfaces/airlock_electronics.ract'),'apc': require('interfaces/apc.ract'),'atmos_alert': require('interfaces/atmos_alert.ract'),'atmos_control': require('interfaces/atmos_control.ract'),'atmos_filter': require('interfaces/atmos_filter.ract'),'atmos_mixer': require('interfaces/atmos_mixer.ract'),'atmos_pump': require('interfaces/atmos_pump.ract'),'borgopanel': require('interfaces/borgopanel.ract'),'brig_timer': require('interfaces/brig_timer.ract'),'bsa': require('interfaces/bsa.ract'),'canister': require('interfaces/canister.ract'),'cargo': require('interfaces/cargo.ract'),'cargo_express': require('interfaces/cargo_express.ract'),'cellular_emporium': require('interfaces/cellular_emporium.ract'),'centcom_podlauncher': require('interfaces/centcom_podlauncher.ract'),'chem_dispenser': require('interfaces/chem_dispenser.ract'),'chem_heater': require('interfaces/chem_heater.ract'),'chem_master': require('interfaces/chem_master.ract'),'chem_synthesizer': require('interfaces/chem_synthesizer.ract'),'clockwork_slab': require('interfaces/clockwork_slab.ract'),'codex_gigas': require('interfaces/codex_gigas.ract'),'computer_fabricator': require('interfaces/computer_fabricator.ract'),'crayon': require('interfaces/crayon.ract'),'crew': require('interfaces/crew.ract'),'cryo': require('interfaces/cryo.ract'),'disposal_unit': require('interfaces/disposal_unit.ract'),'dna_vault': require('interfaces/dna_vault.ract'),'eightball': require('interfaces/eightball.ract'),'emergency_shuttle_console': require('interfaces/emergency_shuttle_console.ract'),'engraved_message': require('interfaces/engraved_message.ract'),'error': require('interfaces/error.ract'),'exonet_node': require('interfaces/exonet_node.ract'),'gps': require('interfaces/gps.ract'),'gulag_console': require('interfaces/gulag_console.ract'),'gulag_item_reclaimer': require('interfaces/gulag_item_reclaimer.ract'),'holodeck': require('interfaces/holodeck.ract'),'implantchair': require('interfaces/implantchair.ract'),'intellicard': require('interfaces/intellicard.ract'),'keycard_auth': require('interfaces/keycard_auth.ract'),'labor_claim_console': require('interfaces/labor_claim_console.ract'),'language_menu': require('interfaces/language_menu.ract'),'launchpad_remote': require('interfaces/launchpad_remote.ract'),'mech_bay_power_console': require('interfaces/mech_bay_power_console.ract'),'mulebot': require('interfaces/mulebot.ract'),'nanite_chamber_control': require('interfaces/nanite_chamber_control.ract'),'nanite_cloud_control': require('interfaces/nanite_cloud_control.ract'),'nanite_program_hub': require('interfaces/nanite_program_hub.ract'),'nanite_programmer': require('interfaces/nanite_programmer.ract'),'nanite_remote': require('interfaces/nanite_remote.ract'),'notificationpanel': require('interfaces/notificationpanel.ract'),'ntnet_relay': require('interfaces/ntnet_relay.ract'),'ntos_ai_restorer': require('interfaces/ntos_ai_restorer.ract'),'ntos_card': require('interfaces/ntos_card.ract'),'ntos_configuration': require('interfaces/ntos_configuration.ract'),'ntos_file_manager': require('interfaces/ntos_file_manager.ract'),'ntos_main': require('interfaces/ntos_main.ract'),'ntos_net_chat': require('interfaces/ntos_net_chat.ract'),'ntos_net_dos': require('interfaces/ntos_net_dos.ract'),'ntos_net_downloader': require('interfaces/ntos_net_downloader.ract'),'ntos_net_monitor': require('interfaces/ntos_net_monitor.ract'),'ntos_net_transfer': require('interfaces/ntos_net_transfer.ract'),'ntos_power_monitor': require('interfaces/ntos_power_monitor.ract'),'ntos_revelation': require('interfaces/ntos_revelation.ract'),'ntos_station_alert': require('interfaces/ntos_station_alert.ract'),'ntos_supermatter_monitor': require('interfaces/ntos_supermatter_monitor.ract'),'ntosheader': require('interfaces/ntosheader.ract'),'nuclear_bomb': require('interfaces/nuclear_bomb.ract'),'operating_computer': require('interfaces/operating_computer.ract'),'ore_redemption_machine': require('interfaces/ore_redemption_machine.ract'),'pandemic': require('interfaces/pandemic.ract'),'personal_crafting': require('interfaces/personal_crafting.ract'),'portable_generator': require('interfaces/portable_generator.ract'),'portable_pump': require('interfaces/portable_pump.ract'),'portable_scrubber': require('interfaces/portable_scrubber.ract'),'power_monitor': require('interfaces/power_monitor.ract'),'radio': require('interfaces/radio.ract'),'rdconsole': require('interfaces/rdconsole.ract'),'rdconsole/circuit': require('interfaces/rdconsole/circuit.ract'),'rdconsole/designview': require('interfaces/rdconsole/designview.ract'),'rdconsole/destruct': require('interfaces/rdconsole/destruct.ract'),'rdconsole/diskopsdesign': require('interfaces/rdconsole/diskopsdesign.ract'),'rdconsole/diskopstech': require('interfaces/rdconsole/diskopstech.ract'),'rdconsole/nodeview': require('interfaces/rdconsole/nodeview.ract'),'rdconsole/protolathe': require('interfaces/rdconsole/protolathe.ract'),'rdconsole/rdheader': require('interfaces/rdconsole/rdheader.ract'),'rdconsole/settings': require('interfaces/rdconsole/settings.ract'),'rdconsole/techweb': require('interfaces/rdconsole/techweb.ract'),'rpd': require('interfaces/rpd.ract'),'sat_control': require('interfaces/sat_control.ract'),'scanner_gate': require('interfaces/scanner_gate.ract'),'scrubbing_types': require('interfaces/scrubbing_types.ract'),'shuttle_manipulator': require('interfaces/shuttle_manipulator.ract'),'shuttle_manipulator/modification': require('interfaces/shuttle_manipulator/modification.ract'),'shuttle_manipulator/status': require('interfaces/shuttle_manipulator/status.ract'),'shuttle_manipulator/templates': require('interfaces/shuttle_manipulator/templates.ract'),'sleeper': require('interfaces/sleeper.ract'),'slime_swap_body': require('interfaces/slime_swap_body.ract'),'smartvend': require('interfaces/smartvend.ract'),'smes': require('interfaces/smes.ract'),'smoke_machine': require('interfaces/smoke_machine.ract'),'solar_control': require('interfaces/solar_control.ract'),'space_heater': require('interfaces/space_heater.ract'),'spawners_menu': require('interfaces/spawners_menu.ract'),'station_alert': require('interfaces/station_alert.ract'),'suit_storage_unit': require('interfaces/suit_storage_unit.ract'),'tank_dispenser': require('interfaces/tank_dispenser.ract'),'tanks': require('interfaces/tanks.ract'),'thermomachine': require('interfaces/thermomachine.ract'),'turbine_computer': require('interfaces/turbine_computer.ract'),'uplink': require('interfaces/uplink.ract'),'vr_sleeper': require('interfaces/vr_sleeper.ract'),'wires': require('interfaces/wires.ract')};
    if (requested in interfaces) {
      this.components["interface"] = interfaces[requested]; // Use the interface specified in the config...
    } else {
      this.components["interface"] = interfaces.error; // ...unless it does not exist.
    }
  },
  oninit: function oninit() {
    this.observe('config.style', function (newkey, oldkey, keypath) {
      if (newkey) document.body.classList.add(newkey);
      if (oldkey) document.body.classList.remove(oldkey);
    });
  },
  oncomplete: function oncomplete() {
    // If the window starts off screen, pull it back.
    if (this.get('config.locked')) {
      var _lock = (0, _dragresize.lock)(window.screenLeft, window.screenTop),
          x = _lock.x,
          y = _lock.y;

      (0, _byond.winset)(this.get('config.window'), 'pos', x + ',' + y);
    }

    // Give focus back to the map.
    (0, _byond.winset)('mapwindow.map', 'focus', true);
  }
};
})(component);
component.exports.template = {"v":3,"t":[" "," "," "," ",{"p":[56,1,1819],"t":7,"e":"titlebar","f":[{"t":3,"r":"config.title","p":[56,11,1829]}]}," ",{"p":[57,1,1859],"t":7,"e":"main","f":[{"p":[58,3,1868],"t":7,"e":"warnings"}," ",{"p":[59,3,1882],"t":7,"e":"interface"}]}," ",{"t":4,"f":[{"p":[62,3,1929],"t":7,"e":"resize"}],"n":50,"r":"config.titlebar","p":[61,1,1903]}]};
component.exports.components = component.exports.components || {};
var components = {
  "warnings": require("components/warnings.ract"),
  "titlebar": require("components/titlebar.ract"),
  "resize": require("components/resize.ract")
};
for (var k in components) {
  if (components.hasOwnProperty(k))
    component.exports.components[k] = components[k];
}
module.exports = Ractive.extend(component.exports);

},{"components/bar":343,"components/button":344,"components/display":345,"components/input":346,"components/linegraph":347,"components/notice":348,"components/resize.ract":349,"components/section":350,"components/subdisplay":351,"components/tabs":352,"components/titlebar.ract":354,"components/warnings.ract":355,"interfaces/ai_airlock.ract":356,"interfaces/airalarm.ract":357,"interfaces/airalarm/back.ract":358,"interfaces/airalarm/modes.ract":359,"interfaces/airalarm/scrubbers.ract":360,"interfaces/airalarm/status.ract":361,"interfaces/airalarm/thresholds.ract":362,"interfaces/airalarm/vents.ract":363,"interfaces/airlock_electronics.ract":364,"interfaces/apc.ract":365,"interfaces/atmos_alert.ract":366,"interfaces/atmos_control.ract":367,"interfaces/atmos_filter.ract":368,"interfaces/atmos_mixer.ract":369,"interfaces/atmos_pump.ract":370,"interfaces/borgopanel.ract":371,"interfaces/brig_timer.ract":372,"interfaces/bsa.ract":373,"interfaces/canister.ract":374,"interfaces/cargo.ract":375,"interfaces/cargo_express.ract":376,"interfaces/cellular_emporium.ract":377,"interfaces/centcom_podlauncher.ract":378,"interfaces/chem_dispenser.ract":379,"interfaces/chem_heater.ract":380,"interfaces/chem_master.ract":381,"interfaces/chem_synthesizer.ract":382,"interfaces/clockwork_slab.ract":383,"interfaces/codex_gigas.ract":384,"interfaces/computer_fabricator.ract":385,"interfaces/crayon.ract":386,"interfaces/crew.ract":387,"interfaces/cryo.ract":388,"interfaces/disposal_unit.ract":389,"interfaces/dna_vault.ract":390,"interfaces/eightball.ract":391,"interfaces/emergency_shuttle_console.ract":392,"interfaces/engraved_message.ract":393,"interfaces/error.ract":394,"interfaces/exonet_node.ract":395,"interfaces/gps.ract":396,"interfaces/gulag_console.ract":397,"interfaces/gulag_item_reclaimer.ract":398,"interfaces/holodeck.ract":399,"interfaces/implantchair.ract":400,"interfaces/intellicard.ract":401,"interfaces/keycard_auth.ract":402,"interfaces/labor_claim_console.ract":403,"interfaces/language_menu.ract":404,"interfaces/launchpad_remote.ract":405,"interfaces/mech_bay_power_console.ract":406,"interfaces/mulebot.ract":407,"interfaces/nanite_chamber_control.ract":408,"interfaces/nanite_cloud_control.ract":409,"interfaces/nanite_program_hub.ract":410,"interfaces/nanite_programmer.ract":411,"interfaces/nanite_remote.ract":412,"interfaces/notificationpanel.ract":413,"interfaces/ntnet_relay.ract":414,"interfaces/ntos_ai_restorer.ract":415,"interfaces/ntos_card.ract":416,"interfaces/ntos_configuration.ract":417,"interfaces/ntos_file_manager.ract":418,"interfaces/ntos_main.ract":419,"interfaces/ntos_net_chat.ract":420,"interfaces/ntos_net_dos.ract":421,"interfaces/ntos_net_downloader.ract":422,"interfaces/ntos_net_monitor.ract":423,"interfaces/ntos_net_transfer.ract":424,"interfaces/ntos_power_monitor.ract":425,"interfaces/ntos_revelation.ract":426,"interfaces/ntos_station_alert.ract":427,"interfaces/ntos_supermatter_monitor.ract":428,"interfaces/ntosheader.ract":429,"interfaces/nuclear_bomb.ract":430,"interfaces/operating_computer.ract":431,"interfaces/ore_redemption_machine.ract":432,"interfaces/pandemic.ract":433,"interfaces/personal_crafting.ract":434,"interfaces/portable_generator.ract":435,"interfaces/portable_pump.ract":436,"interfaces/portable_scrubber.ract":437,"interfaces/power_monitor.ract":438,"interfaces/radio.ract":439,"interfaces/rdconsole.ract":440,"interfaces/rdconsole/circuit.ract":441,"interfaces/rdconsole/designview.ract":442,"interfaces/rdconsole/destruct.ract":443,"interfaces/rdconsole/diskopsdesign.ract":444,"interfaces/rdconsole/diskopstech.ract":445,"interfaces/rdconsole/nodeview.ract":446,"interfaces/rdconsole/protolathe.ract":447,"interfaces/rdconsole/rdheader.ract":448,"interfaces/rdconsole/settings.ract":449,"interfaces/rdconsole/techweb.ract":450,"interfaces/rpd.ract":451,"interfaces/sat_control.ract":452,"interfaces/scanner_gate.ract":453,"interfaces/scrubbing_types.ract":454,"interfaces/shuttle_manipulator.ract":455,"interfaces/shuttle_manipulator/modification.ract":456,"interfaces/shuttle_manipulator/status.ract":457,"interfaces/shuttle_manipulator/templates.ract":458,"interfaces/sleeper.ract":459,"interfaces/slime_swap_body.ract":460,"interfaces/smartvend.ract":461,"interfaces/smes.ract":462,"interfaces/smoke_machine.ract":463,"interfaces/solar_control.ract":464,"interfaces/space_heater.ract":465,"interfaces/spawners_menu.ract":466,"interfaces/station_alert.ract":467,"interfaces/suit_storage_unit.ract":468,"interfaces/tank_dispenser.ract":469,"interfaces/tanks.ract":470,"interfaces/thermomachine.ract":471,"interfaces/turbine_computer.ract":472,"interfaces/uplink.ract":473,"interfaces/vr_sleeper.ract":474,"interfaces/wires.ract":475,"ractive":342,"ractive-events-keys":340,"ractive-transitions-fade":341,"util/byond":478,"util/dragresize":480}],478:[function(require,module,exports){
'use strict';

exports.__esModule = true;
var encode = encodeURIComponent;

// Helper to generate a BYOND href given 'params' as an object
// (with an optional 'url' for eg winset).
var href = exports.href = function href(url) {
  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  return 'byond://' + (url || '') + '?' + Object.keys(params).map(function (key) {
    return encode(key) + '=' + encode(params[key]);
  }).join('&');
};

// Helper to make a BYOND ui_act() call on the UI 'src' given an 'action'
// and optional 'params'.
var act = exports.act = function act(src, action) {
  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

  window.location.href = href('', Object.assign({ src: src, action: action }, params));
};

/**
 * A high-level abstraction of BYJAX. Makes a call to BYOND and returns
 * a promise, which (if endpoint has a callback parameter) resolves
 * with the return value of that call.
 */
var callByond = exports.callByond = function callByond(url) {
  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  // Create a callback array if it doesn't exist yet
  window.byondCallbacks = window.byondCallbacks || [];
  // Create a Promise and push its resolve function into callback array
  var callbackIndex = window.byondCallbacks.length;
  var promise = new Promise(function (resolve) {
    // TODO: Fix a potential memory leak
    window.byondCallbacks.push(resolve);
  });
  // Call BYOND client
  window.location.href = href(url || '', Object.assign({}, params, {
    callback: 'byondCallbacks[' + callbackIndex + ']'
  }));
  // Return promise (awaitable)
  return promise;
};

var runCommand = exports.runCommand = function runCommand(command) {
  return callByond('winset', { command: command });
};

/**
 * A simple debug print.
 * 
 * TODO: Find a better way to debug print.
 * Right now we just print into the game chat.
 */
var debugPrint = exports.debugPrint = function debugPrint() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  var str = args.map(function (arg) {
    if (typeof arg === 'string') {
      return arg;
    }
    return JSON.stringify(arg);
  }).join(' ');
  return runCommand('Me [debugPrint] ' + str);
};

var winget = exports.winget = function winget(win, key) {
  return callByond('winget', { id: win, property: key }).then(function (obj) {
    return obj[key];
  });
};

// Helper to make a BYOND winset() call on 'window', setting 'key' to 'value'
var winset = exports.winset = function winset(win, key, value) {
  var _href;

  window.location.href = href('winset', (_href = {}, _href[win + '.' + key] = value, _href));
};

},{}],479:[function(require,module,exports){
"use strict";

exports.__esModule = true;
// Constants used in tgui; these are mirrored from the BYOND code.
var UI_INTERACTIVE = exports.UI_INTERACTIVE = 2;
var UI_UPDATE = exports.UI_UPDATE = 1;
var UI_DISABLED = exports.UI_DISABLED = 0;
var UI_CLOSE = exports.UI_CLOSE = -1;

},{}],480:[function(require,module,exports){
'use strict';

exports.__esModule = true;
exports.lock = lock;
exports.drag = drag;
exports.sane = sane;
exports.resize = resize;

var _byond = require('./byond');

function lock(x, y) {
  if (x < 0) {
    // Left
    x = 0;
  } else if (x + window.innerWidth > window.screen.availWidth) {
    // Right
    x = window.screen.availWidth - window.innerWidth;
  }

  if (y < 0) {
    // Top
    y = 0;
  } else if (y + window.innerHeight > window.screen.availHeight) {
    // Bottom
    y = window.screen.availHeight - window.innerHeight;
  }

  return { x: x, y: y };
}

function drag(event) {
  event.preventDefault();

  if (!this.get('drag')) return;

  if (this.get('x')) {
    var x = event.screenX - this.get('x') + window.screenLeft - this.get('screenOffsetX');
    var y = event.screenY - this.get('y') + window.screenTop - this.get('screenOffsetY');
    if (this.get('config.locked')) {
      ;
      var _lock = lock(x, y);

      x = _lock.x;
      y = _lock.y;
    } // Lock to primary monitor.
    (0, _byond.winset)(this.get('config.window'), 'pos', x + ',' + y);
  }
  this.set({ x: event.screenX, y: event.screenY });
}

function sane(x, y) {
  x = Math.clamp(100, window.screen.width, x);
  y = Math.clamp(100, window.screen.height, y);
  return { x: x, y: y };
}

function resize(event) {
  event.preventDefault();

  if (!this.get('resize')) return;

  if (this.get('x')) {
    var x = event.screenX - this.get('x') + window.innerWidth;
    var y = event.screenY - this.get('y') + window.innerHeight;
    var _sane = sane(x, y);

    x = _sane.x;
    y = _sane.y;

    (0, _byond.winset)(this.get('config.window'), 'size', x + ',' + y);
  }
  this.set({ x: event.screenX, y: event.screenY });
}

},{"./byond":478}],481:[function(require,module,exports){
'use strict';

exports.__esModule = true;
exports.filterMulti = filterMulti;
exports.filter = filter;
function filterMulti(displays, string) {
  for (var _iterator = displays, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {
    var _ref;

    if (_isArray) {
      if (_i >= _iterator.length) break;
      _ref = _iterator[_i++];
    } else {
      _i = _iterator.next();
      if (_i.done) break;
      _ref = _i.value;
    }

    var display = _ref;
    // First check if the display includes the search term in the first place.
    if (display.textContent.toLowerCase().includes(string)) {
      display.style.display = '';
      filter(display, string);
    } else {
      display.style.display = 'none';
    }
  }
}

function filter(display, string) {
  var items = display.queryAll('section');
  var titleMatch = display.query('header').textContent.toLowerCase().includes(string);
  for (var _iterator2 = items, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {
    var _ref2;

    if (_isArray2) {
      if (_i2 >= _iterator2.length) break;
      _ref2 = _iterator2[_i2++];
    } else {
      _i2 = _iterator2.next();
      if (_i2.done) break;
      _ref2 = _i2.value;
    }

    var item = _ref2;
    // Check if the item or its displays title contains the search term.
    if (titleMatch || item.textContent.toLowerCase().includes(string)) {
      item.style.display = '';
    } else {
      item.style.display = 'none';
    }
  }
}

},{}],482:[function(require,module,exports){
'use strict';

exports.__esModule = true;
exports.clamp = clamp;
exports.fixed = fixed;
// Helper to limit a number to be inside 'min' and 'max'.
function clamp(min, max, number) {
  return Math.max(min, Math.min(number, max));
}

// Helper to round a number to 'decimals' decimals.
function fixed(number) {
  var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

  return Number(Math.round(number + 'e' + decimals) + 'e-' + decimals);
}

},{}],483:[function(require,module,exports){
'use strict';

exports.__esModule = true;
exports.upperCaseFirst = upperCaseFirst;
exports.titleCase = titleCase;
exports.zeroPad = zeroPad;
function upperCaseFirst(str) {
  return str[0].toUpperCase() + str.slice(1).toLowerCase();
}

function titleCase(str) {
  return str.replace(/\w\S*/g, upperCaseFirst);
}

function zeroPad(str, pad_size) {
  str = str.toString();
  while (str.length < pad_size) {
    str = '0' + str;
  }return str;
}

},{}],"babel/external-helpers":[function(require,module,exports){
var global = {}; (function (global) {
  var babelHelpers = global.babelHelpers = {};
  babelHelpers["typeof"] = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  };

  babelHelpers.jsx = function () {
    var REACT_ELEMENT_TYPE = typeof Symbol === "function" && Symbol["for"] && Symbol["for"]("react.element") || 0xeac7;
    return function createRawReactElement(type, props, key, children) {
      var defaultProps = type && type.defaultProps;
      var childrenLength = arguments.length - 3;

      if (!props && childrenLength !== 0) {
        props = {};
      }

      if (props && defaultProps) {
        for (var propName in defaultProps) {
          if (props[propName] === void 0) {
            props[propName] = defaultProps[propName];
          }
        }
      } else if (!props) {
        props = defaultProps || {};
      }

      if (childrenLength === 1) {
        props.children = children;
      } else if (childrenLength > 1) {
        var childArray = Array(childrenLength);

        for (var i = 0; i < childrenLength; i++) {
          childArray[i] = arguments[i + 3];
        }

        props.children = childArray;
      }

      return {
        $$typeof: REACT_ELEMENT_TYPE,
        type: type,
        key: key === undefined ? null : '' + key,
        ref: null,
        props: props,
        _owner: null
      };
    };
  }();

  babelHelpers.asyncIterator = function (iterable) {
    if (typeof Symbol === "function") {
      if (Symbol.asyncIterator) {
        var method = iterable[Symbol.asyncIterator];
        if (method != null) return method.call(iterable);
      }

      if (Symbol.iterator) {
        return iterable[Symbol.iterator]();
      }
    }

    throw new TypeError("Object is not async iterable");
  };

  babelHelpers.asyncGenerator = function () {
    function AwaitValue(value) {
      this.value = value;
    }

    function AsyncGenerator(gen) {
      var front, back;

      function send(key, arg) {
        return new Promise(function (resolve, reject) {
          var request = {
            key: key,
            arg: arg,
            resolve: resolve,
            reject: reject,
            next: null
          };

          if (back) {
            back = back.next = request;
          } else {
            front = back = request;
            resume(key, arg);
          }
        });
      }

      function resume(key, arg) {
        try {
          var result = gen[key](arg);
          var value = result.value;

          if (value instanceof AwaitValue) {
            Promise.resolve(value.value).then(function (arg) {
              resume("next", arg);
            }, function (arg) {
              resume("throw", arg);
            });
          } else {
            settle(result.done ? "return" : "normal", result.value);
          }
        } catch (err) {
          settle("throw", err);
        }
      }

      function settle(type, value) {
        switch (type) {
          case "return":
            front.resolve({
              value: value,
              done: true
            });
            break;

          case "throw":
            front.reject(value);
            break;

          default:
            front.resolve({
              value: value,
              done: false
            });
            break;
        }

        front = front.next;

        if (front) {
          resume(front.key, front.arg);
        } else {
          back = null;
        }
      }

      this._invoke = send;

      if (typeof gen["return"] !== "function") {
        this["return"] = undefined;
      }
    }

    if (typeof Symbol === "function" && Symbol.asyncIterator) {
      AsyncGenerator.prototype[Symbol.asyncIterator] = function () {
        return this;
      };
    }

    AsyncGenerator.prototype.next = function (arg) {
      return this._invoke("next", arg);
    };

    AsyncGenerator.prototype["throw"] = function (arg) {
      return this._invoke("throw", arg);
    };

    AsyncGenerator.prototype["return"] = function (arg) {
      return this._invoke("return", arg);
    };

    return {
      wrap: function (fn) {
        return function () {
          return new AsyncGenerator(fn.apply(this, arguments));
        };
      },
      await: function (value) {
        return new AwaitValue(value);
      }
    };
  }();

  babelHelpers.asyncGeneratorDelegate = function (inner, awaitWrap) {
    var iter = {},
        waiting = false;

    function pump(key, value) {
      waiting = true;
      value = new Promise(function (resolve) {
        resolve(inner[key](value));
      });
      return {
        done: false,
        value: awaitWrap(value)
      };
    }

    ;

    if (typeof Symbol === "function" && Symbol.iterator) {
      iter[Symbol.iterator] = function () {
        return this;
      };
    }

    iter.next = function (value) {
      if (waiting) {
        waiting = false;
        return value;
      }

      return pump("next", value);
    };

    if (typeof inner["throw"] === "function") {
      iter["throw"] = function (value) {
        if (waiting) {
          waiting = false;
          throw value;
        }

        return pump("throw", value);
      };
    }

    if (typeof inner["return"] === "function") {
      iter["return"] = function (value) {
        return pump("return", value);
      };
    }

    return iter;
  };

  babelHelpers.asyncToGenerator = function (fn) {
    return function () {
      var gen = fn.apply(this, arguments);
      return new Promise(function (resolve, reject) {
        function step(key, arg) {
          try {
            var info = gen[key](arg);
            var value = info.value;
          } catch (error) {
            reject(error);
            return;
          }

          if (info.done) {
            resolve(value);
          } else {
            return Promise.resolve(value).then(function (value) {
              step("next", value);
            }, function (err) {
              step("throw", err);
            });
          }
        }

        return step("next");
      });
    };
  };

  babelHelpers.classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  babelHelpers.createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  babelHelpers.defineEnumerableProperties = function (obj, descs) {
    for (var key in descs) {
      var desc = descs[key];
      desc.configurable = desc.enumerable = true;
      if ("value" in desc) desc.writable = true;
      Object.defineProperty(obj, key, desc);
    }

    return obj;
  };

  babelHelpers.defaults = function (obj, defaults) {
    var keys = Object.getOwnPropertyNames(defaults);

    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      var value = Object.getOwnPropertyDescriptor(defaults, key);

      if (value && value.configurable && obj[key] === undefined) {
        Object.defineProperty(obj, key, value);
      }
    }

    return obj;
  };

  babelHelpers.defineProperty = function (obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  };

  babelHelpers["extends"] = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  babelHelpers.get = function get(object, property, receiver) {
    if (object === null) object = Function.prototype;
    var desc = Object.getOwnPropertyDescriptor(object, property);

    if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);

      if (parent === null) {
        return undefined;
      } else {
        return get(parent, property, receiver);
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;

      if (getter === undefined) {
        return undefined;
      }

      return getter.call(receiver);
    }
  };

  babelHelpers.inherits = function (subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
  };

  babelHelpers["instanceof"] = function (left, right) {
    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {
      return right[Symbol.hasInstance](left);
    } else {
      return left instanceof right;
    }
  };

  babelHelpers.interopRequireDefault = function (obj) {
    return obj && obj.__esModule ? obj : {
      "default": obj
    };
  };

  babelHelpers.interopRequireWildcard = function (obj) {
    if (obj && obj.__esModule) {
      return obj;
    } else {
      var newObj = {};

      if (obj != null) {
        for (var key in obj) {
          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
        }
      }

      newObj["default"] = obj;
      return newObj;
    }
  };

  babelHelpers.newArrowCheck = function (innerThis, boundThis) {
    if (innerThis !== boundThis) {
      throw new TypeError("Cannot instantiate an arrow function");
    }
  };

  babelHelpers.objectDestructuringEmpty = function (obj) {
    if (obj == null) throw new TypeError("Cannot destructure undefined");
  };

  babelHelpers.objectWithoutProperties = function (obj, keys) {
    var target = {};

    for (var i in obj) {
      if (keys.indexOf(i) >= 0) continue;
      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;
      target[i] = obj[i];
    }

    return target;
  };

  babelHelpers.possibleConstructorReturn = function (self, call) {
    if (!self) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return call && (typeof call === "object" || typeof call === "function") ? call : self;
  };

  babelHelpers.selfGlobal = typeof global === "undefined" ? self : global;

  babelHelpers.set = function set(object, property, value, receiver) {
    var desc = Object.getOwnPropertyDescriptor(object, property);

    if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);

      if (parent !== null) {
        set(parent, property, value, receiver);
      }
    } else if ("value" in desc && desc.writable) {
      desc.value = value;
    } else {
      var setter = desc.set;

      if (setter !== undefined) {
        setter.call(receiver, value);
      }
    }

    return value;
  };

  babelHelpers.slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;

      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);

          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }

      return _arr;
    }

    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();

  babelHelpers.slicedToArrayLoose = function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      var _arr = [];

      for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {
        _arr.push(_step.value);

        if (i && _arr.length === i) break;
      }

      return _arr;
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };

  babelHelpers.taggedTemplateLiteral = function (strings, raw) {
    return Object.freeze(Object.defineProperties(strings, {
      raw: {
        value: Object.freeze(raw)
      }
    }));
  };

  babelHelpers.taggedTemplateLiteralLoose = function (strings, raw) {
    strings.raw = raw;
    return strings;
  };

  babelHelpers.temporalRef = function (val, name, undef) {
    if (val === undef) {
      throw new ReferenceError(name + " is not defined - temporal dead zone");
    } else {
      return val;
    }
  };

  babelHelpers.temporalUndefined = {};

  babelHelpers.toArray = function (arr) {
    return Array.isArray(arr) ? arr : Array.from(arr);
  };

  babelHelpers.toConsumableArray = function (arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

      return arr2;
    } else {
      return Array.from(arr);
    }
  };
})(typeof global === "undefined" ? self : global); module.exports = global.babelHelpers;
},{}]},{},[476]);
